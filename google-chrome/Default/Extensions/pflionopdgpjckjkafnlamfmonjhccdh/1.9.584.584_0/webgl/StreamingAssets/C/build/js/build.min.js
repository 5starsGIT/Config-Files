angular.module("lego.templates",[]).run(["$templateCache",function(a){"use strict";a.put("common/views/connectionerror.tpl.html","<div class=connection-error-container><div class=error-message><p ng-bind-html=\"getTranslation('content.description.text')\"></p><div class=retry><a ng-click=retry()>{{ getTranslation('content.tryagainbutton.text') }}</a></div></div></div>"),a.put("common/views/frontpage.tpl.html","<div></div>"),a.put("documentation/views/block-content.tpl.html",'<div ng-switch=isLocked() class=block-container><div ng-switch-when=true ng-switch=getElement().type class=block-content><div ng-switch-when=TEXT class=block-text block-text></div><div ng-switch-when=MOVIE class=block-movie block-movie ng-init="showFilmIcon=true"></div><div ng-switch-when=IMAGE class=block-image block-image-edit></div></div><div ng-switch-when=false ng-switch=getElement().type class=block-content><div ng-switch-when=TEXT class=block-text block-text-edit></div><div ng-switch-when=MOVIE class=block-movie block-movie-edit></div><div ng-switch-when=IMAGE class=block-image block-image-edit></div><div ng-switch-default class=block-page-element block-page-element></div></div></div>'),a.put("documentation/views/blocks/image-edit.tpl.html",'<div class=block-image><delete-element ng-click=deleteElementContent() ng-if=!isLocked()></delete-element><canvas zoom-pan class="no-swipe cover-img no-page-pan" image=image locked=isLocked()></canvas><div data-html2canvas-ignore class=rotation-buttons><button ng-hide=isLocked() ng-click=rotateLeft() class="btn rotation-button"><i class="fa fa-rotate-left"></i></button> <button ng-hide=isLocked() ng-click=rotateRight() class="btn rotation-button"><i class="fa fa-rotate-right"></i></button></div></div>'),a.put("documentation/views/blocks/movie-edit.tpl.html","<div class=block-movie><delete-element ng-click=deleteElementContent()></delete-element><div class=block-movie block-movie></div></div>"),a.put("documentation/views/blocks/text-edit.tpl.html","<wysiwyg></wysiwyg>"),a.put("documentation/views/deleteElement.tpl.html",'<div data-html2canvas-ignore class="close pull-right"><i class="fa fa-times"></i></div>'),a.put("documentation/views/documentation-tool.tpl.html",'<div class=documentation-tool dir={{DIRECTION}}><div class="project project-view" ng-class="{\'edit-mode\' : !Locked}" dir={{DIRECTION}}><div class="content-tab device-content-tab" page-pan><div class=page-navigation-bar><div class=page-left-arrow ng-click=goPageLeft() ng-hide=hideLeftArrow()></div><div class=page-right-arrow ng-click=goPageRight() ng-hide=hideRightArrow()></div><div class="page-section-container text-center"><div class=page-section ng-repeat="section in project.sections"><div ng-click=activatePage(page) class=page-ball-container ng-repeat="page in section.pages"><div class=page-ball ng-class="{ \'current-page\' : isCurrentPage(page) }"></div></div></div></div></div><div class="templates view-animate-container"><div ng-include=templateUrl class="pan-target template-container slide" ng-class=slideDirection></div></div></div></div></div>'),a.put("documentation/views/export-model.tpl.html",'<div class=modal-header><button type=button class=close aria-label=Close ng-click=cancel()></button></div><div class=modal-body><div class=row><div><div src=images/ExportImage.png ng-click=exportImage() class="export-btn export-image"></div><div src=images/ExportPDF.png ng-click=exportPDF() class="export-btn export-pdf"></div></div></div></div>'),a.put("documentation/views/export-process.tpl.html",'<h1 class=text-center><i class="fa fa-spin fa-spinner"></i></h1>'),a.put("documentation/views/page-elements.tpl.html",'<div class=page-elements data-html2canvas-ignore><div class=image-element ng-click=addImage($event) title="Add image"></div><div class=video-element ng-click=addVideo($event) title="Add video"></div><div class=text-element ng-click=addTextarea($event) title="Add text"></div></div>'),a.put("documentation/views/template-selector.tpl.html",'<div class=template-selector dir={{DIRECTION}}><div class=modal-header><button type=button class=close aria-label=Close ng-click=::cancel()></button></div><div class=modal-body><div ng-repeat="template in ::templates" ng-click=::selectTemplate(template) class=template-thumb ng-class="{active : template.active}"><div class=template-image style="background-image : url(\'images/templates/{{::$index+1}}.png\')"></div></div></div></div>'),a.put("documentation/views/templates/ltr/A.tpl.html",'<div class="block flex-100"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div>'),a.put("documentation/views/templates/ltr/B.tpl.html",'<div class="flex-50 block pad-right-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div><div class="flex-50 block pad-left-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div>'),a.put("documentation/views/templates/ltr/C.tpl.html",'<div class="flex-33 block pad-right-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div><div class="flex-66 block pad-left-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div>'),a.put("documentation/views/templates/ltr/D.tpl.html",'<div class="flex-100 full-height"><div class="flex-100 flex-row-66"><div class="flex-100 block pad-bottom-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div></div><div class="flex-100 flex-row-33"><div class="flex-100 block pad-top-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div></div></div>'),a.put("documentation/views/templates/ltr/E.tpl.html",'<div class="flex-50 block pad-right-14"><div class="flex-row pad-bottom-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div><div class="flex-row pad-top-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div></div><div class="flex-50 block pad-left-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=3></documentation-block-content></div>'),a.put("documentation/views/templates/ltr/F.tpl.html",'<div class="flex-33 block pad-right-14"><div class="flex-row pad-bottom-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div><div class="flex-row pad-top-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div></div><div class="flex-66 block pad-left-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=3></documentation-block-content></div>'),a.put("documentation/views/templates/rtl/A.tpl.html",'<div class="block flex-100"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div>'),a.put("documentation/views/templates/rtl/B.tpl.html",'<div class="flex-50 block pad-right-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div><div class="flex-50 block pad-left-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div>'),a.put("documentation/views/templates/rtl/C.tpl.html",'<div class="flex-66 block pad-right-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div><div class="flex-33 block pad-left-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div>'),a.put("documentation/views/templates/rtl/D.tpl.html",'<div class="flex-100 full-height"><div class="flex-100 flex-row-66"><div class="flex-100 block pad-bottom-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div></div><div class="flex-100 flex-row-33"><div class="flex-100 block pad-top-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div></div></div>'),a.put("documentation/views/templates/rtl/E.tpl.html",'<div class="flex-50 block pad-right-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=3></documentation-block-content></div><div class="flex-50 block pad-left-14"><div class="flex-row pad-bottom-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div><div class="flex-row pad-top-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div></div>'),a.put("documentation/views/templates/rtl/F.tpl.html",'<div class="flex-66 block pad-right-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=3></documentation-block-content></div><div class="flex-33 block pad-left-14"><div class="flex-row pad-bottom-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=2></documentation-block-content></div><div class="flex-row pad-top-14"><documentation-block-content pages=pages index={{::project.currentPageIndex}} key=1></documentation-block-content></div></div>'),a.put("documentation/views/wysiwyg-editor.tpl.html",'<div class=lego-wysiwyg-editor><delete-element ng-click=deleteElementContent() ng-if="!Locked && deleteIconVisible"></delete-element><textarea data-html2canvas-ignore></textarea></div>'),a.put("help/views/help-basic.tpl.html",'<style>.help-video{\n    max-height: {{ screenHeight * 0.5 }}px;\n  }</style><div scroll-spy spy-on=.content class="help ng-cloak" dir={{DIRECTION}}><div><div class=menu id=nav role=navigation><ul class="nav nav-stacked" role=tablist ng-init="category = help.categories.blocks"><li spy={{::category.key}} spy-order=0 ng-click="gotoSection(category.title, category.key)"><a ng-bind-html=::category.title></a></li><li class=sublist spy={{::subcategory.key}} spy-order="{{$index + 1}}" ng-repeat="subcategory in ::category.subcategories" ng-click="gotoSection(subcategory.title, subcategory.key)"><a ng-bind-html=::subcategory.title></a></li></ul><ul class="nav nav-stacked" role=tablist ng-init="connection = help.categories.connections"><li spy={{::connection.key}} spy-order="{{help.categories.blocks.subcategories.length + 1}}" ng-click="gotoSection(connection.title, connection.key)"><a ng-bind-html=::connection.title></a></li></ul></div><div class=shadow-top></div><div class=content-container><div class=content><h1 id={{::help.categories.blocks.key}} ng-bind-html=::help.categories.blocks.title></h1><div ng-repeat="subcategory in ::help.categories.blocks.subcategories"><h2 id={{::subcategory.key}} ng-bind-html=::subcategory.title></h2><div class=flex-row><div class=flex-item ng-repeat="element in ::subcategory.elements"><div class=media><div class=media-left><img ng-src=images/help/{{::element.image}}.png></div><div class=media-body><span ng-bind-html=::element.title></span></div></div></div></div></div><div class=full-page><div class=connection><div id={{::help.categories.connections.key}}><h1 ng-bind-html=::help.categories.connections.title></h1></div><div class=row><div class=col-xs-12><div class=help-video ng-if=shouldShowConnectionVideo()><div class=block-movie block-movie></div></div><div class=help-image ng-if=!shouldShowConnectionVideo()><img src=images/help/connect-help.png ng-if=!showConnectionCenterImage()> <img src=images/help/egs-connection-center.jpg ng-if=showConnectionCenterImage()></div></div></div><div ng-if=shouldShowConnectionText()><div class=row><div class="connection-text col-xs-12" ng-repeat="element in ::help.categories.connections.subcategories[connection_key].elements"><div class=media><div class=media-body><span ng-bind-html=element.title></span></div></div></div></div></div></div></div></div></div><div class=shadow-bottom></div></div></div>'),a.put("help/views/help-basic.wind.tpl.html",'<style>.help-video{\n    max-height: {{ screenHeight * 0.5 }}pt;\n  }</style><div scroll-spy spy-on=.content class="help ng-cloak" dir={{DIRECTION}}><div><div class=menu id=nav role=navigation><ul class="nav nav-stacked" role=tablist ng-init="category = help.categories.blocks"><li spy={{::category.key}} spy-order=0 ng-click="gotoSection(category.title, category.key)"><a ng-bind-html=::category.title></a></li><li class=sublist spy={{::subcategory.key}} spy-order="{{$index + 1}}" ng-repeat="subcategory in ::category.subcategories" ng-click="gotoSection(subcategory.title, subcategory.key)"><a ng-bind-html=::subcategory.title></a></li></ul><ul class="nav nav-stacked" role=tablist ng-init="connection = help.categories.connections"><li spy={{::connection.key}} spy-order="{{help.categories.blocks.subcategories.length + 1}}" ng-click="gotoSection(connection.title, connection.key)"><a ng-bind-html=::connection.title></a></li></ul></div><div class=shadow-top></div><div class=content-container><div class=content><h1 id={{::help.categories.blocks.key}} ng-bind-html=::help.categories.blocks.title></h1><div ng-repeat="subcategory in ::help.categories.blocks.subcategories"><h2 id={{::subcategory.key}} ng-bind-html=::subcategory.title></h2><div class=flex-row><div class=flex-item ng-repeat="element in ::subcategory.elements"><div class=media><div class=media-left><img ng-src=images/help/{{::element.image}}.png></div><div class=media-body><span ng-bind-html=::element.title></span></div></div></div></div></div><div class=full-page><div class=connection><div id={{::help.categories.connections.key}}><h1 ng-bind-html=::help.categories.connections.title></h1></div><div class=row><div class=col-xs-12><div class=help-video ng-if=shouldShowConnectionVideo()><div class=block-movie block-movie></div></div><div class=help-image ng-if=!shouldShowConnectionVideo()><img src=images/help/connect-help.png ng-if=!showConnectionCenterImage()> <img src=images/help/egs-connection-center.jpg ng-if=showConnectionCenterImage()></div></div></div><div ng-if=shouldShowConnectionText()><div class=row><div class="connection-text col-xs-12" ng-repeat="element in ::help.categories.connections.subcategories[connection_key].elements"><div class=media><div class=media-body><span ng-bind-html=element.title></span></div></div></div></div></div></div></div></div></div><div class=shadow-bottom></div></div></div>'),a.put("help/views/help-ct.tpl.html",'<style>.help-video{\n    max-height: {{ screenHeight * 0.5 }}px;\n  }</style><div scroll-spy spy-on=.content class="help ng-cloak" dir={{DIRECTION}}><div><div class=menu id=nav role=navigation><ul class="nav nav-stacked" role=tablist ng-init="guide = help.categories.softwareguide"><li spy={{::guide.key}} spy-order=0 ng-click="gotoSection(guide.title, guide.key)"><a ng-bind-html=::guide.title></a></li><li class=sublist spy={{::subcategory.key}} spy-order="{{$index + 1}}" ng-repeat="subcategory in ::guide.subcategories" ng-click="gotoSection(subcategory.title, subcategory.key)"><a ng-bind-html=::subcategory.title></a></li></ul><ul class="nav nav-stacked" role=tablist ng-init="category = help.categories.ct"><li spy={{::category.key}} spy-order="{{help.categories.softwareguide.subcategories.length + 1}}" ng-click="gotoSection(category.title, category.key)"><a ng-bind-html=::category.title></a></li><li class=sublist spy={{::subcategory.key}} spy-order="{{help.categories.softwareguide.subcategories.length + $index + 1}}" ng-repeat="subcategory in ::category.subcategories" ng-click="gotoSection(subcategory.title, subcategory.key)"><a ng-bind-html=::subcategory.title></a></li></ul><ul class="nav nav-stacked" role=tablist ng-init="connection = help.categories.connections"><li spy={{::connection.key}} spy-order="{{help.categories.softwareguide.subcategories.length + help.categories.ct.subcategories.length + 1}}" ng-click="gotoSection(connection.title, connection.key)"><a ng-bind-html=::connection.title></a></li></ul></div><div class=shadow-top></div><div class=content-container><div class=content><h1 id={{::help.categories.softwareguide.key}} ng-bind-html=::help.categories.softwareguide.title></h1><div class=sorry-container><div class=sorry-image><img src=images/help/TrafficCone.png></div><div class=vertical-flex-container><h1>{{::getLabel(\'softwareguide.additional.title\')}}</h1><h2>{{::getLabel(\'softwareguide.additional.message\')}}</h2></div></div><div ng-repeat="subcategory in ::help.categories.softwareguide.subcategories"><h2 id={{::subcategory.key}} ng-bind-html=::subcategory.title></h2><div class=connection><div class=ct-item ng-repeat="element in ::subcategory.elements"><div class=softwareguide-image><img ng-src=images/help/{{::element.image}}.png></div><div class=ct-description ng-bind-html=::element.title></div></div></div></div><h1 id={{::help.categories.ct.key}} ng-bind-html=::help.categories.ct.title></h1><div ng-repeat="subcategory in ::help.categories.ct.subcategories"><h2 id={{::subcategory.key}} ng-bind-html=::subcategory.title></h2><div><div class=ct-item ng-repeat="element in ::subcategory.elements"><div class=ct-title ng-bind-html=::element.title></div><div class=ct-media><img ng-src=images/help/{{::element.image}}.png></div><div class=ct-description ng-if=element.description ng-bind-html=::element.description></div></div></div></div><div class=full-page><div class=connection><div id={{::help.categories.connections.key}}><h1 ng-bind-html=::help.categories.connections.title></h1></div><div class=row><div class=col-xs-12><div class=help-video ng-if=shouldShowConnectionVideo()><div class=block-movie block-movie></div></div><div class=help-image ng-if=!shouldShowConnectionVideo()><img src=images/help/connect-help.png ng-if=!showConnectionCenterImage()> <img src=images/help/egs-connection-center.jpg ng-if=showConnectionCenterImage()></div></div></div><div ng-if=shouldShowConnectionText()><div class=row><div class="connection-text col-xs-12" ng-repeat="element in ::help.categories.connections.subcategories[connection_key].elements"><div class=media><div class=media-body><span ng-bind-html=element.title></span></div></div></div></div></div></div></div></div></div><div class=shadow-bottom></div></div></div>'),a.put("help/views/help.tpl.html","<ng-include src=getHelpTemplate()></ng-include>"),a.put("media-preview/views/preview.tpl.html","<img id=img ng-src={{MPCtrl.mediaSrc}} ng-click=onClick() lc-rotate={{MPCtrl.orientation}} ng-if=MPCtrl.isShowingImage><div id=video class=block-movie block-movie block-movie-autoplay=true ng-if=MPCtrl.isShowingVideo></div>"),a.put("overviews/views/library.tpl.html",'<div dir={{DIRECTION}} class="viewer library"><div class="container container-view"><div class=category-container ng-repeat="categoryArray in ::categories"><div class=category-header ng-class="{\'disabled\' : isCategoryDisabled(categoryArray[1])}"><p ng-bind-html=::getCategoryName(categoryArray[0])></p></div><div class=project-row ng-repeat="projectRow in ::categoryArray[1]"><div class=block-row><div class=block-container-fix ng-repeat="project in ::projectRow"><div class=block-container ng-class="{ \'project-disabled\' : project.disabled }" ng-click=activate(project) ng-style=blockStyle(project)><div class=block><div class=header><span ng-bind-html="::project.title_id | translate:project"></span></div></div></div></div></div></div></div></div></div><script type=text/ng-template id=projectPopup><style>\n    .popup{\n      color : {{ ::project.textColor || \'#000000\' }};\n      font-size : 14px;\n      font-family: {{ ::project.languages[project.activeLanguage].font || "inherit" }};\n    }\n\n    font[color="#000000"]{\n      color: {{ ::project.textColor || \'#000000\' }} !important;\n    }\n\n    font[color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="3", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="4", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="5", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="3"]{\n      font-size : {{ ::project.languages[project.activeLanguage].smallSize || "16"}}px !important;\n    }\n\n    font[size="4"]{\n      font-size : {{ ::project.languages[project.activeLanguage].mediumSize || "20"}}px !important;\n      font-weight: 500;\n    }\n\n    font[size="5"]{\n      font-size : {{ ::project.languages[project.activeLanguage].largeSize || "20"}}px !important;\n      font-weight: 500;\n    }\n  </style>\n  <div class="modal-header popup teachingassistant" dir="{{DIRECTION}}" ng-if="showTeachingAssistant()">\n    <div class="custom-header">\n      <img src="images/modal-close.png" class="close-btn" ng-click="cancel()" aria-label="Close">\n      <h3 class="modal-title">{{ ::project.title_id | translate:project }}</h3>\n    </div>\n  </div>\n  <div class="modal-body popup" dir="{{DIRECTION}}" ng-if="!showTeachingAssistant()">\n    <div class="custom-header">\n      <img src="images/modal-close.png" class="close-btn" ng-click="cancel()" aria-label="Close">\n      <h3 class="modal-title">{{ ::project.title_id | translate:project }}</h3>\n    </div>\n    <div ng-style="popupImageStyle" class="popupImage"></div>\n    <div class="category-icons">\n      <div class="category" ng-if="project.projectGrade && project.projectGrade !== \'0\'">\n        <img src="images/iconStudent.png">\n        <span>{{ getLabel(\'project.categories.grades.\' + project.projectGrade) }}</span>\n      </div>\n      <div class="category" ng-if="project.projectTime && project.projectTime !== \'0\'">\n        <img src="images/iconTime.png">\n        <span>{{ getLabel(\'project.categories.time.\' + project.projectTime) }}</span>\n      </div>\n      <div class="category" ng-if="project.projectLevel && project.projectLevel !== \'0\'">\n        <img src="images/level_icon.svg">\n        <span>{{ getLabel(\'project.categories.levels.\' + project.projectLevel) }}</span>\n      </div>\n    </div>\n    <div class="popupText">\n      <p ng-bind-html="project.popupPage.textId | translate:project"></p>\n    </div>\n  </div>\n  <div class="modal-body popup teachingassistant" dir="{{DIRECTION}}" ng-if="showTeachingAssistant()" ng-style="taStyle">\n    <iframe ng-src="{{ constructUrl() }}" iframe-onload="iframeLoadedCallBack()"/>\n    </div>\n    <div class="modal-footer" dir="{{DIRECTION}}">\n      <button class="ta-popup-toggle" ng-click="toggleTA()" ng-if="allowTeachingAssistant()">\n        <img ng-src="{{ showTeachingAssistant() ? \'images/ta-icon-active.png\' : \'images/ta-icon-inactive.png\' }}">\n        <span>{{ getLabel(\'popup.teaching.assistant\') }}</span>\n      </button>\n      <div class="start-project-button">\n        <div lego-btn ng-click="::ok()" ng-bind-html="getLabel(\'popup.button\')"></div>\n      </div>\n  </div><\/script>'),a.put("overviews/views/library.wind.tpl.html","<style>.container-view {\n    padding-top: {{ 57 / referenceHeight * screenHeight || 0}}px !important;\n    padding-left: {{ 20 / referenceWidth * screenWidth || 0}}px !important;\n    padding-right: {{ 51 / referenceWidth * screenWidth || 0}}px !important;\n  }\n\n  .library[dir='ltr'] .block-container {\n    margin-right: {{ 21 / referenceWidth * screenWidth || 0 }}px !important;\n  }\n\n  .library[dir='rtl'] .block-container {\n    margin-left: {{ 21 / referenceWidth * screenWidth || 0}}px !important;\n  }\n\n  .category-header {\n    margin-bottom: {{ (59 / referenceHeight * screenHeight) || 0}}px !important;\n    padding-bottom: {{ (26 / referenceHeight * screenHeight) || 0}}px !important;\n  }\n\n  .block-container {\n    height: {{ (334 / referenceWidth * screenWidth) || 0}}px !important;\n  }\n\n  .project-row {\n    margin-bottom: {{ (59 / referenceHeight * screenHeight) || 0}}px !important;\n  }\n\n  .project-row:last-child {\n    margin-bottom: {{ (57 / referenceHeight * screenHeight) || 0}}px !important;\n"+'  }</style><div dir={{DIRECTION}} class="viewer library"><div class="container container-view"><div ng-repeat="categoryArray in ::categories"><div class=category-header ng-class="{\'disabled\' : isCategoryDisabled(categoryArray[1])}"><p ng-bind-html=::getCategoryName(categoryArray[0])></p></div><div class=project-row ng-repeat="projectRow in ::categoryArray[1]"><div class=block-row><div class=block-container-fix ng-repeat="project in ::projectRow"><div class=block-container ng-class="{ \'project-disabled\' : project.disabled }" ng-click=activate(project) style="background-image:url(\'{{ PROJECT_PATH_PREFIX }}{{ ::getThumbnailImage(project) }}\')"><div class=block><div class=header><span ng-bind-html="::project.title_id | translate:project"></span></div></div></div></div></div></div></div></div></div><script type=text/ng-template id=projectPopup><style>\n    .popup {\n      color: {{ ::project.textColor || \'#000000\'}};\n      font-size: 10.5pt;\n      font-family: {{::project.languages[project.activeLanguage].font || "Arial"}} ;\n    }\n\n    font[color="#000000"] {\n      color: {{ ::project.textColor || \'#000000\'}} !important;\n    }\n\n    font[color="#ffffff"] {\n      color: {{ ::project.highlightColor || \'yellow\'}} !important;\n    }\n\n    font[size="3", color="#ffffff"] {\n      color: {{ ::project.highlightColor || \'yellow\'}} !important;\n    }\n\n    font[size="4", color="#ffffff"] {\n      color: {{ ::project.highlightColor || \'yellow\'}} !important;\n    }\n\n    font[size="5", color="#ffffff"] {\n      color: {{ ::project.highlightColor || \'yellow\'}} !important;\n    }\n\n    font[size="3"] {\n      font-size: {{ ::project.languages[project.activeLanguage].smallSize || "12.0"}}pt !important;\n    }\n\n    font[size="4"] {\n      font-size: {{ ::project.languages[project.activeLanguage].mediumSize || "13.5"}}pt !important;\n      font-weight: 500;\n    }\n\n    font[size="5"] {\n      font-size: {{ ::project.languages[project.activeLanguage].largeSize || "15.0"}}pt !important;\n      font-weight: 500;\n    }\n  </style>\n  <div class="modal-header popup teachingassistant" dir="{{DIRECTION}}" ng-if="showTeachingAssistant()">\n    <div class="custom-header">\n      <img src="images/modal-close.png" class="close-btn" ng-click="cancel()" aria-label="Close">\n      <h3 class="modal-title">{{ ::project.title_id | translate:project }}</h3>\n    </div>\n  </div>\n  <div class="modal-body popup" dir="{{DIRECTION}}" ng-if="!showTeachingAssistant()">\n    <div class="custom-header">\n      <img src="images/modal-close.png" class="close-btn" ng-click="cancel()" aria-label="Close">\n      <h3 class="modal-title">{{ ::project.title_id | translate:project }}</h3>\n    </div>\n    <div ng-style="popupImageStyle" class="popupImage"></div>\n    <div class="category-icons">\n      <div class="category" ng-if="project.projectGrade && project.projectGrade !== \'0\'">\n        <img src="images/iconStudent.png">\n        <span>{{ getLabel(\'project.categories.grades.\' + project.projectGrade) }}</span>\n      </div>\n      <div class="category" ng-if="project.projectTime && project.projectTime !== \'0\'">\n        <img src="images/iconTime.png">\n        <span>{{ getLabel(\'project.categories.time.\' + project.projectTime) }}</span>\n      </div>\n      <div class="category" ng-if="project.projectLevel && project.projectLevel !== \'0\'">\n        <img src="images/level_icon.svg">\n        <span>{{ getLabel(\'project.categories.levels.\' + project.projectLevel) }}</span>\n      </div>\n    </div>\n    <div class="popupText">\n      <p ng-bind-html="project.popupPage.textId | translate:project"></p>\n    </div>\n  </div>\n  <div class="modal-body popup teachingassistant" dir="{{DIRECTION}}" ng-if="showTeachingAssistant()" ng-style="taStyle">\n    <iframe ng-src="{{ constructUrl() }}" iframe-onload="iframeLoadedCallBack()" />\n  </div>\n  <div class="modal-footer" dir="{{DIRECTION}}">\n    <button class="ta-popup-toggle" ng-click="toggleTA()" ng-if="allowTeachingAssistant()">\n      <img ng-src="{{ showTeachingAssistant() ? \'images/ta-icon-active.png\' : \'images/ta-icon-inactive.png\' }}">\n      <span>{{ getLabel(\'popup.teaching.assistant\') }}</span>\n    </button>\n    <div class="start-project-button">\n      <div lego-btn ng-click="::ok()" ng-bind-html="getLabel(\'popup.button\')"></div>\n    </div>\n  </div><\/script>'),a.put("overviews/views/models.tpl.html","<style>.project-row:after{\n    width: calc(100% - 12.5%);\n    bottom: {{ 29 / 2048 * screenWidth }}px;\n  }\n\n  .models[dir='ltr'] .project-row:after{\n    left: 0;\n  }\n  .models[dir='rtl'] .project-row:after{\n    right: 0;\n  }\n\n  .models[dir='ltr'] .subproject-block-spacing:last-child{\n    margin-right: 0;\n  }\n\n  .models[dir='rtl']  .subproject-block-spacing:last-child{\n    margin-left: 0;\n  }\n\n  .project-row{\n    margin-bottom: {{ 49 / 2048 * screenWidth }}px;\n  }\n\n  .project-block{\n    height: {{ 350 / 2048 * screenWidth }}px;\n    width: {{ 450 / 2048 * screenWidth }}px;\n  }\n\n  .models[dir='ltr'] .project-block-spacing{\n    margin-right: {{ 241 / 2048 * screenWidth }}px;\n  }\n\n  .models[dir='rtl'] .project-block-spacing{\n    margin-left: {{ 241 / 2048 * screenWidth }}px;\n  }\n\n  .subproject-block{\n    height: {{ 285 / 2048 * screenWidth}}px;\n    width: {{ 388 / 2048 * screenWidth}}px;\n  }\n\n  .models[dir='ltr'] .subproject-block-spacing{\n    margin-right: {{ 211 / 2048 * screenWidth}}px;\n  }\n\n  .models[dir='rtl'] .subproject-block-spacing{\n    margin-left: {{ 211 / 2048 * screenWidth}}px;\n  }\n\n  .blue-dot{\n    bottom: {{ (-35/2) / 2048 * screenWidth }}px;\n    width: {{ 35 / 2048 * screenWidth }}px;\n    height: {{ 35 / 2048 * screenWidth }}px;\n  }\n\n  .blue-dot:after{\n    height: {{ 52 / 2048 * screenWidth }}px;\n"+'  }</style><div dir={{DIRECTION}} class=models><div class="container-fluid models-container"><div class=category-header><p>{{ ::getHeader() }}</p></div></div><div class="container-fluid models-container"><div class=project-row ng-repeat="project in ::projectGroups track by $index" ng-class="{ \'project-disabled\' : project.disabled }"><div class="project-block project-block-spacing" ng-click=goto(project) style="background-image:url(\'{{ PROJECT_PATH_PREFIX }}{{::getThumbnailImage(project)}}\')"><footer><span ng-bind-html="::project.title_id | translate:project"></span></footer></div><div class="subproject-block subproject-block-spacing" style="background-image:url(\'{{ PROJECT_PATH_PREFIX }}{{::getThumbnailImage(subProject)}}\')" ng-click=goto(subProject) ng-repeat="subProject in ::project.subProjects track by $index"><header><span ng-bind-html="::subProject.title_id | translate:subProject"></span></header><div class=blue-dot><img src=images/model-knob.svg></div></div></div></div></div>'),a.put("viewer-basic/views/block-content.tpl.html","<div ng-switch=content.type class=block-content><div ng-switch-when=TEXT class=block-text block-text indicate-scroll></div><div ng-switch-when=MOVIE class=block-movie block-movie></div><div ng-switch-when=IMAGE class=block-image block-image></div><div ng-switch-when=SLIDESHOW class=block-slideshow block-slideshow></div><div ng-switch-when=PROJECT_NAME class=block-project-name block-project-name></div><div ng-switch-when=PROJECT_BOX class=block-project-box block-project-box></div></div>"),a.put("viewer-basic/views/parts/image.tpl.html",'<div class="block-image cover-img" ng-style=initStyle ng-class=platform></div>'),
a.put("viewer-basic/views/parts/movie.tpl.html",'<div class=video-frame><div class=icon-holder toggle-play-pause-icons=setShowIcons ng-if="!showVideo || !showNativeControls"><div class="fa fa-stack icon" ng-click=loadVideo() ng-if=!showVideo><img class=film-icon ng-if=showFilmIcon src=images/film-icon.png> <img data-html2canvas-ignore class=play-icon style="top: 0px" src=images/play-icon.png></div><div class=icon ng-click=playVideo() ng-if="showVideo && showIcons && !isVideoPlaying"><i class="fa fa-play"></i></div><div class=icon ng-click=pauseVideo() ng-if="showVideo && showIcons && isVideoPlaying"><i class="fa fa-pause"></i></div></div><img ng-if="!showVideo && posterPath" class=stretch-width ng-src={{posterPath}}><video ng-if=showVideo no-swipe-when-playing ng-show=showVideo ng-src={{videoSource}} ng-attr-poster={{posterPath}}></video></div>'),a.put("viewer-basic/views/parts/project.box.tpl.html","<div style=\"background-image: url('{{background}}')\" class=project-box ng-show=project ng-click=gotoProject();><div class=header><span>{{ ::title }}</span></div></div>"),a.put("viewer-basic/views/parts/project.name.tpl.html",'<div style=padding-left:5px;padding:5px;width:inherit><div class=s1-template-project-title style="text-align:center; width:100%">{{:: title }}</div></div>'),a.put("viewer-basic/views/parts/slideshow.tpl.html",'<div class=slides dir={{DIRECTION}}><div class="slide active" style="background-image:url(\'{{ blocks[1] }}\')" ng-class=[blocksClass[1]] slideshow-zoom-pan={{blocks[1]}} zoomed=isZoomed></div><div class=slide style="background-image:url(\'{{ blocks[2] }}\')" ng-class=[blocksClass[2]] slideshow-zoom-pan={{blocks[2]}} zoomed=isZoomed></div></div><div class=slideshow-completed-text ng-show=!hasNext()><span ng-bind-html="::getLabel(\'building.title.completed\')"></span></div><div class=zoom-button ng-class="{\'zoomed\': isZoomed}" ng-click=toggleZoom() dir={{DIRECTION}}><i class="fa fa-search-plus fa-2x"></i><i class="fa fa-search-minus fa-2x"></i></div><div class=carousel-controls><div class=left ng-click=prev() ng-class="{\'disabled\': !hasPrev()}"><img src=images/slideshowArrowLeft.png ng-if="DIRECTION === \'ltr\'"> <img src=images/slideshowArrowRight.png ng-if="DIRECTION !== \'ltr\'"></div><div class=middle><input type=range min=0 max="{{slides.length - 1}}" ng-model=rangeSlideValue ng-model-options="{\'debounce\' : 200}" ng-change=gotoSlide(rangeSlideValue)></div><div class=right ng-click="hasNext() ? next() : finishSlideshow()"><img ng-src=images/slideshowArrowRight.png ng-if="DIRECTION === \'ltr\'"> <img ng-src=images/slideshowArrowLeft.png ng-if="DIRECTION !== \'ltr\'"></div></div>'),a.put("viewer-basic/views/parts/text.tpl.html","<div class=text-container ng-bind-html=contentHTML></div>"),a.put("viewer-basic/views/parts/vertical-slide.tpl.html",'<div class=vertical-slide style="background-image:url(\'{{ slide }}\')" ng-class=slideState slideshow-zoom-pan="{{ slide }}"></div>'),a.put("viewer-basic/views/parts/vertical-slideshow.tpl.html","<div class=vertical-slideshow-wrapper slideshow-vertical-pan><div class=vertical-bi></div><div class=navigation><img class=prev src=images/arrow-navigation-up.png ng-show=slideshowState.previousSlide> <img class=next src=images/arrow-navigation-down.png ng-show=slideshowState.nextSlide></div></div>"),a.put("viewer/views/project-view.tpl.html",'<style>.templates{\n    color : {{ ::project.textColor || \'000000\' }};\n    font-size : 14px;\n    font-family: {{ ::project.languages[project.activeLanguage].font || "Verdana" }};\n  }\n\n  .templates font[color="#000000"]{\n    color: {{ ::project.textColor || \'000000\' }} !important;\n  }\n\n  .templates font[color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="3", color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="4", color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="5", color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="3"]{\n    font-size : {{ ::project.languages[project.activeLanguage].smallSize || "16"}}px !important;\n    color : inherit;\n  }\n\n  .templates font[size="4"]{\n    font-size : {{ ::project.languages[project.activeLanguage].mediumSize || "18"}}px !important;\n    color : inherit;\n  }\n\n  .templates font[size="5"]{\n    font-size : {{ ::project.languages[project.activeLanguage].largeSize || "20"}}px !important;\n    color : inherit;\n  }\n\n  .project[dir=\'rtl\'] .content-tab:before{\n    background-positon: top right;\n    transform: scaleX(-1);\n  }\n\n  .project[dir=\'ltr\'] .content-tab:before{\n    background-positon: top left;\n  }\n\n  .block-text{\n    background-color: {{ getTemplateBackgroundColor() }};\n  }\n  .s1-template-project-title{\n    font-size: {{ ::project.s1TitleTextSize || "14"}}px !important;\n  }</style><div dir={{DIRECTION}} class="project project-view" ta-height-maintainer ng-class="[typeClass(), { \'has-ta\':shouldShowTeachingAssistant(), \'no-text\' : !hasText }, {\'no-swipe no-page-pan\': isShowingSlideshow}]" ng-style=getTemplateBackgroundImageStyle(PROJECT_PATH_PREFIX)><div class="content-tab device-content-tab" ng-class="{\'is-not-full-page\': isNotFullPage, \'is-half-page\' : isHalfPage}" page-pan><div class=page-navigation-bar ng-class="{\'is-slideshow\': isShowingSlideshow}"><div class=page-left-arrow ng-click=goPageLeft() ng-hide=hideLeftArrow()></div><div class=page-right-arrow ng-click=goPageRight() ng-hide=hideRightArrow()></div><div class="page-section-container text-center"><div class=page-section ng-repeat="section in ::project.sections"><span class=section-title>{{ ::section.type | translateSection | uppercase}}</span><div ng-click=gotoPage(page) class=page-ball-container ng-repeat="page in ::section.pages"><div class=page-ball ng-class="{ \'current-page\' : isCurrentPage(page) }"></div></div></div></div></div><div class=close-slideshow-button ng-show=isShowingSlideshow dir={{DIRECTION}}><img src=images/iconExit.png class=close-slideshow-btn ng-click=closeSlideshow() aria-label=Close></div><div class="templates view-animate-container"><div ng-include=templateUrl class="pan-target template-container slide" ng-class=slideDirection></div></div></div><div ng-if=shouldShowTeachingAssistant() class=teaching-assistant-trigger ng-click=showTeachingAssistant()><img ng-src="{{ teacherAssistantIconUrl() }}"></div></div><script type=text/ng-template id=teachingAssistantPopup><style>\n    .popup{\n      color : {{ ::project.textColor || \'000000\' }};\n      font-size : 14px;\n      font-family: {{ ::project.languages[project.activeLanguage].font || "Arial" }};\n    }\n\n    font[color="#000000"]{\n      color: {{ ::project.textColor || \'000000\' }} !important;\n    }\n\n    font[color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="3", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="4", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="5", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="3"]{\n      font-size : {{ ::project.languages[project.activeLanguage].smallSize || "16"}}px !important;\n      color : inherit;\n    }\n\n    font[size="4"]{\n      font-size : {{ ::project.languages[project.activeLanguage].mediumSize || "18"}}px !important;\n      color : inherit;\n    }\n\n    font[size="5"]{\n      font-size : {{ ::project.languages[project.activeLanguage].largeSize || "20"}}px !important;\n      color : inherit;\n    }\n  </style>\n  <div class="modal-header popup teachingassistant" dir="{{DIRECTION}}">\n    <div class="custom-header">\n      <img src="images/modal-close.png" class="close-btn" ng-click="cancel()" aria-label="Close">\n      <h3 class="modal-title">{{ getLabel(\'popup.teaching.assistant\') }}</h3>\n    </div>\n  </div>\n  <div class="modal-body popup" dir="{{DIRECTION}}" ng-style="taStyle">\n    <iframe ng-src="{{ url }}" />\n  </div>\n  <div class="modal-footer"></div><\/script>'),a.put("viewer/views/project-view.wind.tpl.html",'<style>.templates{\n    color : {{ ::project.textColor || \'000000\' }};\n    font-size : 10.5pt;\n    font-family: {{ ::project.languages[project.activeLanguage].font || "Verdana" }};\n  }\n\n  .templates font[color="#000000"]{\n    color: {{ ::project.textColor || \'000000\' }} !important;\n  }\n\n  .templates font[color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="3", color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="4", color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="5", color="#ffffff"]{\n    color: {{ ::project.highlightColor || \'yellow\' }} !important;\n  }\n\n  .templates font[size="3"]{\n    font-size : {{ ::project.languages[project.activeLanguage].smallSize || "12.0"}}pt !important;\n    color : inherit;\n  }\n\n  .templates font[size="4"]{\n    font-size : {{ ::project.languages[project.activeLanguage].mediumSize || "13.5"}}pt !important;\n    color : inherit;\n  }\n\n  .templates font[size="5"]{\n    font-size : {{ ::project.languages[project.activeLanguage].largeSize || "15.0"}}pt !important;\n    color : inherit;\n  }\n\n  .project[dir=\'rtl\'] .content-tab:before{\n    background-positon: top right;\n    transform: scaleX(-1);\n  }\n\n  .project[dir=\'ltr\'] .content-tab:before{\n    background-positon: top left;\n  }\n\n  .block-text{\n    background-color: {{ getTemplateBackgroundColor() }};\n  }\n  .s1-template-project-title{\n    font-size: {{ ::project.s1TitleTextSize || "10.5"}}pt !important;\n  }</style><div dir={{DIRECTION}} class="project project-view" ta-height-maintainer ng-class="[typeClass(), { \'has-ta\':shouldShowTeachingAssistant(), \'no-text\' : !hasText }, {\'no-swipe no-page-pan\': isShowingSlideshow}]" ng-style=getTemplateBackgroundImageStyle(PROJECT_PATH_PREFIX)><div class="content-tab device-content-tab" ng-class="{\'is-not-full-page\': isNotFullPage, \'is-half-page\' : isHalfPage}" page-pan><div class=page-navigation-bar ng-class="{\'is-slideshow\': isShowingSlideshow}"><div class=page-left-arrow ng-click=goPageLeft() ng-hide=hideLeftArrow()></div><div class=page-right-arrow ng-click=goPageRight() ng-hide=hideRightArrow()></div><div class="page-section-container text-center"><div class=page-section ng-repeat="section in ::project.sections"><span class=section-title>{{ ::section.type | translateSection | uppercase}}</span><div ng-click=gotoPage(page) class=page-ball-container ng-repeat="page in ::section.pages"><div class=page-ball ng-class="{ \'current-page\' : isCurrentPage(page) }"></div></div></div></div></div><div class=close-slideshow-button ng-show=isShowingSlideshow dir={{DIRECTION}}><img src=images/iconExit.png class=close-slideshow-btn ng-click=closeSlideshow() aria-label=Close></div><div class="templates view-animate-container"><div ng-include=templateUrl class="pan-target template-container slide" ng-class=slideDirection></div></div></div><div ng-if=shouldShowTeachingAssistant() class=teaching-assistant-trigger ng-click=showTeachingAssistant()><img ng-src="{{ teacherAssistantIconUrl() }}"></div></div><script type=text/ng-template id=teachingAssistantPopup><style>\n    .popup{\n      color : {{ ::project.textColor || \'000000\' }};\n      font-size : 10.5pt;\n      font-family: {{ ::project.languages[project.activeLanguage].font || "Arial" }};\n    }\n\n    font[color="#000000"]{\n      color: {{ ::project.textColor || \'000000\' }} !important;\n    }\n\n    font[color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="3", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="4", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="5", color="#ffffff"]{\n      color: {{ ::project.highlightColor || \'yellow\' }} !important;\n    }\n\n    font[size="3"]{\n      font-size : {{ ::project.languages[project.activeLanguage].smallSize || "12.0"}}pt !important;\n      color : inherit;\n    }\n\n    font[size="4"]{\n      font-size : {{ ::project.languages[project.activeLanguage].mediumSize || "13.5"}}pt !important;\n      color : inherit;\n    }\n\n    font[size="5"]{\n      font-size : {{ ::project.languages[project.activeLanguage].largeSize || "15.0"}}pt !important;\n      color : inherit;\n    }\n  </style>\n  <div class="modal-header popup teachingassistant" dir="{{DIRECTION}}">\n    <div class="custom-header">\n      <img src="images/modal-close.png" class="close-btn" ng-click="cancel()" aria-label="Close">\n      <h3 class="modal-title">{{ getLabel(\'popup.teaching.assistant\') }}</h3>\n    </div>\n  </div>\n  <div class="modal-body popup" dir="{{DIRECTION}}" ng-style="taStyle">\n    <iframe ng-src="{{ url }}" />\n  </div>\n  <div class="modal-footer"></div><\/script>'),a.put("viewer/views/templates/chrome-project-connect-hack.tpl.html",'<div class="flex-33 block pad-right-14"><div class=block-content><div class=block-text indicate-scroll><div class=text-container ng-bind-html="getTranslation(\'chrome.project.connect.text\')"></div></div></div></div><div class="flex-66 block pad-left-14"><div class=block-content><div class=block-image><div class="block-image cover-img" style="background-image: url(\'images/help/connect-help.png\'); background-size: 100%; background-position: 0px 0px"></div></div></div></div>'),a.put("viewer/views/templates/connection-center.tpl.html",'<div class=connection-center><div class=headline ng-bind-html="getTranslation(\'connection.headline\')"></div><div class=connection-icons ng-class=platform><img class=hub src=images/connect-hub.png><div class="connection-indicators disconnected" ng-if=!isHubConnected()><img class=indicator src=images/connecting-signal-background.png> <img class=indicator src=images/connecting-signal1.png> <img class=indicator src=images/connecting-signal2.png> <img class=indicator src=images/connecting-signal3.png></div><div class="connection-indicators connected" ng-if=isHubConnected()><img class=indicator-line src=images/connected-line.png> <img class=indicator src=images/connected-checkmark.png></div><img class=laptop src=images/connect-laptop.png> <img class=tablet src=images/connect-tablet.png></div><a class=connection-button ng-class="{\'connected\': isHubConnected() }" ng-click=openConnectionCenter()><img class=connecting-img src=images/connecting-button.png> <img class=checkmark src=images/connect-checkmark.png> <span class=disconnected-text ng-bind-html="getTranslation(\'connection.connect.button\')"></span> <span class=connected-text ng-bind-html="getTranslation(\'connection.connected.button\')"></span></a></div>'),a.put("viewer/views/templates/ltr/A.tpl.html",'<div class="block flex-100" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/B.tpl.html",'<div class="flex-50 block pad-right-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-50 block pad-left-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/C.tpl.html",'<div class="flex-33 block pad-right-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-66 block pad-left-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/D.tpl.html",'<div class="flex-100 full-height" ng-init="currentContent = currentPage"><div class="flex-100 flex-row-66"><div class="flex-100 block pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div></div><div class="flex-100 flex-row-33"><div class="flex-100 block pad-top-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div></div></div>'),a.put("viewer/views/templates/ltr/E.tpl.html",'<div class="flex-50 block pad-right-14" ng-init="currentContent = currentPage"><div class="flex-row pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-row pad-top-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div></div><div class="flex-50 block pad-left-14"><viewer-block-content element=currentContent.elements[3]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/F.tpl.html",'<div class="flex-33 block pad-right-14" ng-init="currentContent = currentPage"><div class="flex-row pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-row pad-top-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div></div><div class="flex-66 block pad-left-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[3]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/G.tpl.html",'<div class="flex-100 block" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/H.tpl.html",'<div class="flex-50 block pad-right-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-50 block pad-left-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/I.tpl.html",'<div class="flex-33 block pad-right-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-66 block pad-left-14" ng-init="currentContent = currentPage"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div>'),a.put("viewer/views/templates/ltr/J.tpl.html",'<div class="flex-100 full-height" ng-init="currentContent = currentPage"><div class="flex-100 flex-row-66"><div class="flex-100 block pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div></div><div class="flex-100 flex-row-33"><div class="flex-100 block pad-top-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div></div></div>'),a.put("viewer/views/templates/ltr/celebration-v2.tpl.html",'<div class="celebration-v2 flex-100 full-height" ng-init="currentContent = currentPage"><div class="text-container flex-100 align-items-center celebration-text"><div ng-bind-html="::getLabel(\'building.title.completed\')"></div></div><div class="flex-100 flex-row-70 celebration-image"></div><div class="flex-100 flex-row-20"><div class="buttons flex-100 block flex" style="justify-content: center; align-items: center"><div class="fixed-width-box right-align"><div lego-btn lessonoverview-btn></div></div><div class="fixed-width-box left-align"><div lego-btn back-to-lobby-btn></div></div></div></div></div>'),a.put("viewer/views/templates/ltr/celebration.tpl.html",'<div class="celebration-v1 flex-100 full-height" ng-init="currentContent = currentPage"><div class="text-container flex-100 flex-row-10 align-items-center celebration-text"><div ng-bind-html="::getLabel(\'building.title.completed\')"></div></div><div class="flex-100 flex-row-47 celebration-image"></div><div class="flex flex-row-1 text-container try-another-text"><div ng-bind-html="::getLabel(\'celebration.hint.tryanother\')"></div></div><div class="flex-100 flex-row-34"><div class="project-shortcuts flex-100 block pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content><viewer-block-content element=currentContent.elements[2]></viewer-block-content><viewer-block-content element=currentContent.elements[3]></viewer-block-content></div></div><div class="flex-100 flex-row-15"><div class="lobby-button flex-100 block flex"><div back-to-lobby-btn lego-btn></div></div></div></div>'),a.put("viewer/views/templates/ltr/internals/branch-2.tpl.html",'<div class="flex-100 full-height" ng-init="currentContent = currentPage"><div class=flex-row><div class="flex-45 block pad-right-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-45 block pad-left-14 pad-right-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div><div class="flex-10 pad-left-14 pad-bottom-14 branch-arrow-container"><div ng-click=nextPage(1) class="page-right-arrow branch-arrow"></div></div></div><div class=flex-row><div class="flex-45 block pad-right-14 pad-top-14"><viewer-block-content element=currentContent.elements[3]></viewer-block-content></div><div class="flex-45 block pad-left-14 pad-right-14 pad-top-14"><viewer-block-content element=currentContent.elements[4]></viewer-block-content></div><div class="flex-10 pad-left-14 branch-arrow-container pad-top-14"><div ng-click=nextPage(2) class="page-right-arrow branch-arrow"></div></div></div></div>'),a.put("viewer/views/templates/ltr/s1.tpl.html",'<div class="flex-100 full-height s1" ng-init="currentContent = currentPage"><div class="flex-row flex-row-45"><div class="flex-33 block pad-right-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-right-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[3]></viewer-block-content></div></div><div class="flex-row flex-row-10"><div class="flex-33 block pad-right-14 pad-top-14 pad-bottom-14 s1-template-project-title"><viewer-block-content element=currentContent.elements[4]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-right-14 pad-top-14 pad-bottom-14 s1-template-project-title"><viewer-block-content element=currentContent.elements[5]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-top-14 pad-bottom-14 s1-template-project-title"><viewer-block-content element=currentContent.elements[6]></viewer-block-content></div></div><div class="flex-row flex-row-45"><div class="flex-100 block pad-top-14"><viewer-block-content element=currentContent.elements[7]></viewer-block-content></div></div></div>'),a.put("viewer/views/templates/ltr/slideshow-start.tpl.html",'<div class=slideshow-start ng-show=!isShowingSlideshow style="height: 100%"><div class=flex-row-80><div class="text-container flex-33 block pad-right-14" ng-init="currentContent = currentPage"><div><font size=3 ng-bind-html="::getLabel(\'building.introducation.description\')"></font></div></div><div class="slideshow-start-image flex-66 block pad-left-14" ng-init="currentContent = currentPage" dir={{DIRECTION}}></div></div><div class=flex-row-20><div style="display: flex; align-items: center; justify-content: center"><div lego-btn ng-click=toggleSlideshow() ng-bind-html="::getLabel(\'connection.introduction.startbutton\')"></div></div></div></div><div ng-if=isShowingSlideshow class=fullscreen><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/A.tpl.html",'<div class="block flex-100"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/B.tpl.html",'<div class="flex-50 block pad-right-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div><div class="flex-50 block pad-left-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/C.tpl.html",'<div class="flex-66 block pad-right-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div><div class="flex-33 block pad-left-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/D.tpl.html",'<div class="flex-100 full-height"><div class="flex-100 flex-row-66"><div class="flex-100 block pad-bottom-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div></div><div class="flex-100 flex-row-33"><div class="flex-100 block pad-top-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div></div></div>'),a.put("viewer/views/templates/rtl/E.tpl.html",'<div class="flex-50 block pad-right-14"><viewer-block-content element=currentPage.elements[3]></viewer-block-content></div><div class="flex-50 block pad-left-14"><div class="flex-row pad-bottom-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div><div class="flex-row pad-top-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div></div>'),a.put("viewer/views/templates/rtl/F.tpl.html",'<div class="flex-66 block pad-right-14"><viewer-block-content element=currentPage.elements[3]></viewer-block-content></div><div class="flex-33 block pad-left-14"><div class="flex-row pad-bottom-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div><div class="flex-row pad-top-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div></div>'),a.put("viewer/views/templates/rtl/G.tpl.html",'<div class="flex-100 block"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/H.tpl.html",'<div class="flex-50 block pad-right-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div><div class="flex-50 block pad-left-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/I.tpl.html",'<div class="flex-66 block pad-right-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div><div class="flex-33 block pad-left-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div>'),a.put("viewer/views/templates/rtl/J.tpl.html",'<div class="flex-100 full-height"><div class="flex-100 flex-row-66"><div class="flex-100 block pad-bottom-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div></div><div class="flex-100 flex-row-33"><div class="flex-100 block pad-top-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div></div></div>'),a.put("viewer/views/templates/rtl/celebration-v2.tpl.html",'<div class="celebration-v2 flex-100 full-height" ng-init="currentContent = currentPage"><div class="text-container flex-100 align-items-center celebration-text"><div ng-bind-html="::getLabel(\'building.title.completed\')"></div></div><div class="flex-100 flex-row-70 celebration-image"></div><div class="flex-100 flex-row-20"><div class="buttons flex-100 block flex" style="justify-content: center; align-items: center"><div class="fixed-width-box left-align"><div lego-btn lessonoverview-btn></div></div><div class="fixed-width-box right-align"><div lego-btn back-to-lobby-btn></div></div></div></div></div>'),a.put("viewer/views/templates/rtl/celebration.tpl.html",'<div class="celebration-v1 flex-100 full-height" ng-init="currentContent = currentPage"><div class="text-container flex-100 flex-row-10 align-items-center celebration-text"><div ng-bind-html="::getLabel(\'building.title.completed\')"></div></div><div class="flex-100 flex-row-47 celebration-image"></div><div class="flex flex-row-1 text-container try-another-text"><div ng-bind-html="::getLabel(\'celebration.hint.tryanother\')"></div></div><div class="flex-100 flex-row-34"><div class="project-shortcuts flex-100 block pad-bottom-14"><viewer-block-content element=currentContent.elements[3]></viewer-block-content><viewer-block-content element=currentContent.elements[2]></viewer-block-content><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div></div><div class="flex-100 flex-row-15"><div class="lobby-button flex-100 block flex"><div back-to-lobby-btn lego-btn></div></div></div></div>'),a.put("viewer/views/templates/rtl/internals/branch-2.tpl.html",'<div class="flex-100 full-height" ng-init="currentContent = currentPage"><div class=flex-row><div class="flex-10 pad-right-14 pad-bottom-14 branch-arrow-container"><div ng-click=nextPage(1) class="page-right-arrow branch-arrow flipped-x"></div></div><div class="flex-45 block pad-left-14 pad-right-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[2]></viewer-block-content></div><div class="flex-45 block pad-left-14 pad-bottom-14"><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div></div><div class=flex-row><div class="flex-10 pad-right-14 branch-arrow-container pad-top-14"><div ng-click=nextPage(2) class="page-right-arrow branch-arrow flipped-x"></div></div><div class="flex-45 block pad-left-14 pad-right-14 pad-top-14"><viewer-block-content element=currentContent.elements[4]></viewer-block-content></div><div class="flex-45 block pad-left-14 pad-top-14"><viewer-block-content element=currentContent.elements[3]></viewer-block-content></div></div></div>'),a.put("viewer/views/templates/rtl/s1.tpl.html",'<div class="flex-100 full-height s1"><div class="flex-row flex-row-45"><div class="flex-33 block pad-right-14 pad-bottom-14"><viewer-block-content element=currentPage.elements[3]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-right-14 pad-bottom-14"><viewer-block-content element=currentPage.elements[2]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-bottom-14"><viewer-block-content element=currentPage.elements[1]></viewer-block-content></div></div><div class="flex-row flex-row-10"><div class="flex-33 block pad-right-14 pad-top-14 pad-bottom-14 s1-template-project-title"><viewer-block-content element=currentPage.elements[6]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-right-14 pad-top-14 pad-bottom-14 s1-template-project-title"><viewer-block-content element=currentPage.elements[5]></viewer-block-content></div><div class="flex-33 block pad-left-14 pad-top-14 pad-bottom-14 s1-template-project-title"><viewer-block-content element=currentPage.elements[4]></viewer-block-content></div></div><div class="flex-row flex-row-45"><div class="flex-100 block pad-top-14"><viewer-block-content element=currentPage.elements[7]></viewer-block-content></div></div></div>'),
a.put("viewer/views/templates/rtl/slideshow-start.tpl.html",'<div class=slideshow-start ng-show=!isShowingSlideshow style="height: 100%"><div class=flex-row-80><div class="slideshow-start-image flex-66 block pad-right-14" ng-init="currentContent = currentPage" dir={{DIRECTION}}></div><div class="text-container flex-33 block pad-left-14" ng-init="currentContent = currentPage"><div><font size=3 ng-bind-html="::getLabel(\'building.introducation.description\')"></font></div></div></div><div class=flex-row-20><div style="display: flex; align-items: center; justify-content: center"><div lego-btn ng-click=toggleSlideshow() ng-bind-html="::getLabel(\'connection.introduction.startbutton\')"></div></div></div></div><div ng-show=isShowingSlideshow class=fullscreen><viewer-block-content element=currentContent.elements[1]></viewer-block-content></div>')}]),function(a,b,c){"use strict";var d=b.module("ngTouch");d.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),d.directive("ngClick",["$parse",function(c){return function(d,e,f){var g=c(f.ngClick),h=FastClick.attach(e[0]);if(e.addClass("fastclickable"),e.on("click",function(c){if(d.$apply(function(){g(d,{$event:c})}),b.isDefined(f.restoreAfter)&&void 0!==h){var e=parseInt(f.restoreAfter);a.setTimeout(h.reset.bind(h),e)}}),b.isDefined(f.cancelTap)){var i=d.$watch(f.cancelTap,function(a){a&&void 0!==h&&h.reset()});d.$on("$destroy",function(){i()})}}}])}(window,window.angular),function(){"use strict";function a(a){return"function"==typeof a||"object"==typeof a&&null!==a}function b(a){return"function"==typeof a}function c(a){return"object"==typeof a&&null!==a}function d(a){P=a}function e(a){T=a}function f(){return function(){process.nextTick(k)}}function g(){return function(){O(k)}}function h(){var a=0,b=new W(k),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function i(){var a=new MessageChannel;return a.port1.onmessage=k,function(){a.port2.postMessage(0)}}function j(){return function(){setTimeout(k,1)}}function k(){for(var a=0;a<S;a+=2){(0,Z[a])(Z[a+1]),Z[a]=void 0,Z[a+1]=void 0}S=0}function l(){try{var a=require,b=a("vertx");return O=b.runOnLoop||b.runOnContext,g()}catch(c){return j()}}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(b){return ba.error=b,ba}}function q(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function r(a,b,c){T(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===_?w(a,b._result):b._state===aa?x(a,b._result):y(b,void 0,function(b){u(a,b)},function(b){x(a,b)})}function t(a,c){if(c.constructor===a.constructor)s(a,c);else{var d=p(c);d===ba?x(a,ba.error):void 0===d?w(a,c):b(d)?r(a,c,d):w(a,c)}}function u(b,c){b===c?x(b,n()):a(c)?t(b,c):w(b,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===$&&(a._result=b,a._state=_,0!==a._subscribers.length&&T(z,a))}function x(a,b){a._state===$&&(a._state=aa,a._result=b,T(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+_]=c,e[f+aa]=d,0===f&&a._state&&T(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a._subscribers.length=0}}function A(){this.error=null}function B(a,b){try{return a(b)}catch(c){return ca.error=c,ca}}function C(a,c,d,e){var f,g,h,i,j=b(d);if(j){if(f=B(d,e),f===ca?(i=!0,g=f.error,f=null):h=!0,c===f)return void x(c,o())}else f=e,h=!0;c._state!==$||(j&&h?u(c,f):i?x(c,g):a===_?w(c,f):a===aa&&x(c,f))}function D(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(c){x(a,c)}}function E(a,b){var c=this;c._instanceConstructor=a,c.promise=new a(m),c._validateInput(b)?(c._input=b,c.length=b.length,c._remaining=b.length,c._init(),0===c.length?w(c.promise,c._result):(c.length=c.length||0,c._enumerate(),0===c._remaining&&w(c.promise,c._result))):x(c.promise,c._validationError())}function F(a){return new da(this,a).promise}function G(a){function b(a){u(e,a)}function c(a){x(e,a)}var d=this,e=new d(m);if(!R(a))return x(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;e._state===$&&g<f;g++)y(d.resolve(a[g]),void 0,b,c);return e}function H(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function I(a){var b=this,c=new b(m);return x(c,a),c}function J(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(a){this._id=ia++,this._state=void 0,this._result=void 0,this._subscribers=[],m!==a&&(b(a)||J(),this instanceof L||K(),D(this,a))}function M(){var a;if("undefined"!=typeof global)a=global;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(c){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;b&&"[object Promise]"===Object.prototype.toString.call(b.resolve())&&!b.cast||(a.Promise=ja)}var N;N=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var O,P,Q,R=N,S=0,T=function(a,b){Z[S]=a,Z[S+1]=b,2===(S+=2)&&(P?P(k):Q())},U="undefined"!=typeof window?window:void 0,V=U||{},W=V.MutationObserver||V.WebKitMutationObserver,X="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3);Q=X?f():W?h():Y?i():void 0===U&&"function"==typeof require?l():j();var $=void 0,_=1,aa=2,ba=new A,ca=new A;E.prototype._validateInput=function(a){return R(a)},E.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},E.prototype._init=function(){this._result=new Array(this.length)};var da=E;E.prototype._enumerate=function(){for(var a=this,b=a.length,c=a.promise,d=a._input,e=0;c._state===$&&e<b;e++)a._eachEntry(d[e],e)},E.prototype._eachEntry=function(a,b){var d=this,e=d._instanceConstructor;c(a)?a.constructor===e&&a._state!==$?(a._onerror=null,d._settledAt(a._state,b,a._result)):d._willSettleAt(e.resolve(a),b):(d._remaining--,d._result[b]=a)},E.prototype._settledAt=function(a,b,c){var d=this,e=d.promise;e._state===$&&(d._remaining--,a===aa?x(e,c):d._result[b]=c),0===d._remaining&&w(e,d._result)},E.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){c._settledAt(_,b,a)},function(a){c._settledAt(aa,b,a)})};var ea=F,fa=G,ga=H,ha=I,ia=0,ja=L;L.all=ea,L.race=fa,L.resolve=ga,L.reject=ha,L._setScheduler=d,L._setAsap=e,L._asap=T,L.prototype={constructor:L,then:function(a,b){var c=this,d=c._state;if(d===_&&!a||d===aa&&!b)return this;var e=new this.constructor(m),f=c._result;if(d){var g=arguments[d-1];T(function(){C(d,e,g,f)})}else y(c,e,a,b);return e},catch:function(a){return this.then(null,a)}};var ka=M,la={Promise:ja,polyfill:ka};"function"==typeof define&&define.amd?define(function(){return la}):"undefined"!=typeof module&&module.exports?module.exports=la:void 0!==this&&(this.ES6Promise=la),ka()}.call(this);var jsPDF=function(a){"use strict";function b(b){var c={};this.subscribe=function(a,b,d){if("function"!=typeof b)return!1;c.hasOwnProperty(a)||(c[a]={});var e=Math.random().toString(35);return c[a][e]=[b,!!d],e},this.unsubscribe=function(a){for(var b in c)if(c[b][a])return delete c[b][a],!0;return!1},this.publish=function(d){if(c.hasOwnProperty(d)){var e=Array.prototype.slice.call(arguments,1),f=[];for(var g in c[d]){var h=c[d][g];try{h[0].apply(b,e)}catch(i){a.console&&console.error("jsPDF PubSub Error",i.message,i)}h[1]&&f.push(g)}f.length&&f.forEach(this.unsubscribe)}}}function c(f,g,h,i){var j={};"object"==typeof f&&(j=f,f=j.orientation,g=j.unit||g,h=j.format||h,i=j.compress||j.compressPdf||i),g=g||"mm",h=h||"a4",f=(""+(f||"P")).toLowerCase();var k,l,m,n,o,p,q,r,s,t=((""+h).toLowerCase(),!!i&&"function"==typeof Uint8Array),u=j.textColor||"0 g",v=j.drawColor||"0 G",w=j.fontSize||16,x=j.lineHeight||1.15,y=j.lineWidth||.200025,z=2,A=!1,B=[],C={},D={},E=0,F=[],G={},H=[],I=0,J=0,K=0,L={title:"",subject:"",author:"",keywords:"",creator:""},M={},N=new b(M),O=function(a){return a.toFixed(2)},P=function(a){return a.toFixed(3)},Q=function(a){return("0"+parseInt(a)).slice(-2)},R=function(a){A?F[n].push(a):(K+=a.length+1,H.push(a))},S=function(){return z++,B[z]=K,R(z+" 0 obj"),z},T=function(a){R("stream"),R(a),R("endstream")},U=function(){var b,d,e,f,g,h,i,j,k;for(i=a.adler32cs||c.adler32cs,t&&void 0===i&&(t=!1),b=1;b<=E;b++){if(S(),j=(o=G[b].width)*l,k=(p=G[b].height)*l,R("<</Type /Page"),R("/Parent 1 0 R"),R("/Resources 2 0 R"),R("/MediaBox [0 0 "+O(j)+" "+O(k)+"]"),R("/Contents "+(z+1)+" 0 R>>"),R("endobj"),d=F[b].join("\n"),S(),t){for(e=[],f=d.length;f--;)e[f]=d.charCodeAt(f);h=i.from(d),g=new Deflater(6),g.append(new Uint8Array(e)),d=g.flush(),e=new Uint8Array(d.length+6),e.set(new Uint8Array([120,156])),e.set(d,2),e.set(new Uint8Array([255&h,h>>8&255,h>>16&255,h>>24&255]),d.length+2),d=String.fromCharCode.apply(null,e),R("<</Length "+d.length+" /Filter [/FlateDecode]>>")}else R("<</Length "+d.length+">>");T(d),R("endobj")}B[1]=K,R("1 0 obj"),R("<</Type /Pages");var m="/Kids [";for(f=0;f<E;f++)m+=3+2*f+" 0 R ";R(m+"]"),R("/Count "+E),R(">>"),R("endobj")},V=function(a){a.objectNumber=S(),R("<</BaseFont/"+a.PostScriptName+"/Type/Font"),"string"==typeof a.encoding&&R("/Encoding/"+a.encoding),R("/Subtype/Type1>>"),R("endobj")},W=function(){for(var a in C)C.hasOwnProperty(a)&&V(C[a])},X=function(){N.publish("putXobjectDict")},Y=function(){R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),R("/Font <<");for(var a in C)C.hasOwnProperty(a)&&R("/"+a+" "+C[a].objectNumber+" 0 R");R(">>"),R("/XObject <<"),X(),R(">>")},Z=function(){W(),N.publish("putResources"),B[2]=K,R("2 0 obj"),R("<<"),Y(),R(">>"),R("endobj"),N.publish("postPutResources")},$=function(a,b,c){D.hasOwnProperty(b)||(D[b]={}),D[b][c]=a},_=function(a,b,c,d){var e="F"+(Object.keys(C).length+1).toString(10),f=C[e]={id:e,PostScriptName:a,fontName:b,fontStyle:c,encoding:d,metadata:{}};return $(e,b,c),N.publish("addFont",f),e},aa=function(){for(var a="helvetica",b="times",c="courier",d="normal",e="bold",f="italic",g="bolditalic",h="StandardEncoding",i=[["Helvetica",a,d],["Helvetica-Bold",a,e],["Helvetica-Oblique",a,f],["Helvetica-BoldOblique",a,g],["Courier",c,d],["Courier-Bold",c,e],["Courier-Oblique",c,f],["Courier-BoldOblique",c,g],["Times-Roman",b,d],["Times-Bold",b,e],["Times-Italic",b,f],["Times-BoldItalic",b,g]],j=0,k=i.length;j<k;j++){var l=_(i[j][0],i[j][1],i[j][2],h),m=i[j][0].split("-");$(l,m[0],m[1]||"")}N.publish("addFonts",{fonts:C,dictionary:D})},ba=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(e){var c=e.stack||"";~c.indexOf(" at ")&&(c=c.split(" at ")[1]);var d="Error in function "+c.split("\n")[0].split("<")[0]+": "+e.message;if(!a.console)throw new Error(d);a.console.error(d,e),a.alert&&alert(d)}},b.foo.bar=b,b.foo},ca=function(a,b){var c,d,e,f,g,h,i,j,l;if(b=b||{},e=b.sourceEncoding||"Unicode",g=b.outputEncoding,(b.autoencode||g)&&C[k].metadata&&C[k].metadata[e]&&C[k].metadata[e].encoding&&(f=C[k].metadata[e].encoding,!g&&C[k].encoding&&(g=C[k].encoding),!g&&f.codePages&&(g=f.codePages[0]),"string"==typeof g&&(g=f[g]),g)){for(i=!1,h=[],c=0,d=a.length;c<d;c++)j=g[a.charCodeAt(c)],j?h.push(String.fromCharCode(j)):h.push(a[c]),h[c].charCodeAt(0)>>8&&(i=!0);a=h.join("")}for(c=a.length;void 0===i&&0!==c;)a.charCodeAt(c-1)>>8&&(i=!0),c--;if(!i)return a;for(h=b.noBOM?[]:[254,255],c=0,d=a.length;c<d;c++){if(j=a.charCodeAt(c),(l=j>>8)>>8)throw new Error("Character at position "+c+" of string '"+a+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(l),h.push(j-(l<<8))}return String.fromCharCode.apply(void 0,h)},da=function(a,b){return ca(a,b).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ea=function(){R("/Producer (jsPDF "+c.version+")");for(var a in L)L.hasOwnProperty(a)&&L[a]&&R("/"+a.substr(0,1).toUpperCase()+a.substr(1)+" ("+da(L[a])+")");var b=new Date,d=b.getTimezoneOffset(),e=d<0?"+":"-",f=Math.floor(Math.abs(d/60)),g=Math.abs(d%60),h=[e,Q(f),"'",Q(g),"'"].join("");R(["/CreationDate (D:",b.getFullYear(),Q(b.getMonth()+1),Q(b.getDate()),Q(b.getHours()),Q(b.getMinutes()),Q(b.getSeconds()),h,")"].join(""))},fa=function(){switch(R("/Type /Catalog"),R("/Pages 1 0 R"),r||(r="fullwidth"),r){case"fullwidth":R("/OpenAction [3 0 R /FitH null]");break;case"fullheight":R("/OpenAction [3 0 R /FitV null]");break;case"fullpage":R("/OpenAction [3 0 R /Fit]");break;case"original":R("/OpenAction [3 0 R /XYZ null null 1]");break;default:var a=""+r;"%"===a.substr(a.length-1)&&(r=parseInt(r)/100),"number"==typeof r&&R("/OpenAction [3 0 R /XYZ null null "+O(r)+"]")}switch(s||(s="continuous"),s){case"continuous":R("/PageLayout /OneColumn");break;case"single":R("/PageLayout /SinglePage");break;case"two":case"twoleft":R("/PageLayout /TwoColumnLeft");break;case"tworight":R("/PageLayout /TwoColumnRight")}q&&R("/PageMode /"+q),N.publish("putCatalog")},ga=function(){R("/Size "+(z+1)),R("/Root "+z+" 0 R"),R("/Info "+(z-1)+" 0 R")},ha=function(a,b){var c="string"==typeof b&&b.toLowerCase();if("string"==typeof a){var d=a.toLowerCase();e.hasOwnProperty(d)&&(a=e[d][0]/l,b=e[d][1]/l)}if(Array.isArray(a)&&(b=a[1],a=a[0]),c){switch(c.substr(0,1)){case"l":b>a&&(c="s");break;case"p":a>b&&(c="s")}"s"===c&&(m=a,a=b,b=m)}A=!0,F[++E]=[],G[E]={width:Number(a)||o,height:Number(b)||p},ja(E)},ia=function(){ha.apply(this,arguments),R(O(y*l)+" w"),R(v),0!==I&&R(I+" J"),0!==J&&R(J+" j"),N.publish("addPage",{pageNumber:E})},ja=function(a){a>0&&a<=E&&(n=a,o=G[a].width,p=G[a].height)},ka=function(a,b){var c;a=void 0!==a?a:C[k].fontName,b=void 0!==b?b:C[k].fontStyle;try{c=D[a][b]}catch(d){}if(!c)throw new Error("Unable to look up font label for font '"+a+"', '"+b+"'. Refer to getFontList() for available fonts.");return c},la=function(){A=!1,z=2,H=[],B=[],R("%PDF-"+d),U(),Z(),S(),R("<<"),ea(),R(">>"),R("endobj"),S(),R("<<"),fa(),R(">>"),R("endobj");var a,b=K,c="0000000000";for(R("xref"),R("0 "+(z+1)),R(c+" 65535 f "),a=1;a<=z;a++)R((c+B[a]).slice(-10)+" 00000 n ");return R("trailer"),R("<<"),ga(),R(">>"),R("startxref"),R(b),R("%%EOF"),A=!0,H.join("\n")},ma=function(a){var b="S";return"F"===a?b="f":"FD"===a||"DF"===a?b="B":"f"!==a&&"f*"!==a&&"B"!==a&&"B*"!==a||(b=a),b},na=function(){for(var a=la(),b=a.length,c=new ArrayBuffer(b),d=new Uint8Array(c);b--;)d[b]=a.charCodeAt(b);return c},oa=function(){return new Blob([na()],{type:"application/pdf"})},pa=ba(function(b,c){var d="dataur"===(""+b).substr(0,6)?"data:application/pdf;base64,"+btoa(la()):0;switch(b){case void 0:return la();case"save":if(navigator.getUserMedia&&(void 0===a.URL||void 0===a.URL.createObjectURL))return M.output("dataurlnewwindow");saveAs(oa(),c),"function"==typeof saveAs.unload&&a.setTimeout&&setTimeout(saveAs.unload,911);break;case"arraybuffer":return na();case"blob":return oa();case"bloburi":case"bloburl":return a.URL&&a.URL.createObjectURL(oa())||void 0;case"datauristring":case"dataurlstring":return d;case"dataurlnewwindow":var e=a.open(d);if(e||"undefined"==typeof safari)return e;case"datauri":case"dataurl":return a.document.location.href=d;default:throw new Error('Output type "'+b+'" is not supported.')}});switch(g){case"pt":l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=96/72;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+g}M.internal={pdfEscape:da,getStyle:ma,getFont:function(){return C[ka.apply(M,arguments)]},getFontSize:function(){return w},getLineHeight:function(){return w*x},write:function(a){R(1===arguments.length?a:Array.prototype.join.call(arguments," "))},getCoordinateString:function(a){return O(a*l)},getVerticalCoordinateString:function(a){return O((p-a)*l)},collections:{},newObject:S,putStream:T,events:N,scaleFactor:l,pageSize:{get width(){return o},get height(){return p}},output:function(a,b){return pa(a,b)},getNumberOfPages:function(){return F.length-1},pages:F},M.addPage=function(){return ia.apply(this,arguments),this},M.setPage=function(){return ja.apply(this,arguments),this},M.setDisplayMode=function(a,b,c){return r=a,s=b,q=c,this},M.text=function(a,b,c,d,e){function f(a){return a=a.split("\t").join(Array(j.TabLen||9).join(" ")),da(a,d)}"number"==typeof a&&(m=c,c=b,b=a,a=m),"string"==typeof a&&a.match(/[\n\r]/)&&(a=a.split(/\r\n|\r|\n/g)),"number"==typeof d&&(e=d,d=null);var g,h="",i="Td";if(e){e*=Math.PI/180;var n=Math.cos(e),o=Math.sin(e);h=[O(n),O(o),O(-1*o),O(n),""].join(" "),i="Tm"}if(d=d||{},"noBOM"in d||(d.noBOM=!0),"autoencode"in d||(d.autoencode=!0),"string"==typeof a)a=f(a);else{if(!(a instanceof Array))throw new Error('Type of text must be string or Array. "'+a+'" is not recognized.');for(var q=a.concat(),r=[],s=q.length;s--;)r.push(f(q.shift()));var t=Math.ceil((p-c)*l/(w*x));0<=t&&t<r.length+1&&(g=r.splice(t-1)),a=r.join(") Tj\nT* (")}return R("BT\n/"+k+" "+w+" Tf\n"+w*x+" TL\n"+u+"\n"+h+O(b*l)+" "+O((p-c)*l)+" "+i+"\n("+a+") Tj\nET"),g&&(this.addPage(),this.text(g,b,1.7*w/l)),this},M.lstext=function(a,b,c,d){for(var e=0,f=a.length;e<f;e++,b+=d)this.text(a[e],b,c)},M.line=function(a,b,c,d){return this.lines([[c-a,d-b]],a,b)},M.clip=function(){R("W"),R("S")},M.lines=function(a,b,c,d,e,f){var g,h,i,j,k,n,o,q,r,s,t;for("number"==typeof a&&(m=c,c=b,b=a,a=m),d=d||[1,1],R(P(b*l)+" "+P((p-c)*l)+" m "),g=d[0],h=d[1],j=a.length,s=b,t=c,i=0;i<j;i++)k=a[i],2===k.length?(s=k[0]*g+s,t=k[1]*h+t,R(P(s*l)+" "+P((p-t)*l)+" l")):(n=k[0]*g+s,o=k[1]*h+t,q=k[2]*g+s,r=k[3]*h+t,s=k[4]*g+s,t=k[5]*h+t,R(P(n*l)+" "+P((p-o)*l)+" "+P(q*l)+" "+P((p-r)*l)+" "+P(s*l)+" "+P((p-t)*l)+" c"));return f&&R(" h"),null!==e&&R(ma(e)),this},M.rect=function(a,b,c,d,e){ma(e);return R([O(a*l),O((p-b)*l),O(c*l),O(-d*l),"re"].join(" ")),null!==e&&R(ma(e)),this},M.triangle=function(a,b,c,d,e,f,g){return this.lines([[c-a,d-b],[e-c,f-d],[a-e,b-f]],a,b,[1,1],g,!0),this},M.roundedRect=function(a,b,c,d,e,f,g){var h=4/3*(Math.SQRT2-1);return this.lines([[c-2*e,0],[e*h,0,e,f-f*h,e,f],[0,d-2*f],[0,f*h,-e*h,f,-e,f],[2*e-c,0],[-e*h,0,-e,-f*h,-e,-f],[0,2*f-d],[0,-f*h,e*h,-f,e,-f]],a+e,b,[1,1],g),this},M.ellipse=function(a,b,c,d,e){var f=4/3*(Math.SQRT2-1)*c,g=4/3*(Math.SQRT2-1)*d;return R([O((a+c)*l),O((p-b)*l),"m",O((a+c)*l),O((p-(b-g))*l),O((a+f)*l),O((p-(b-d))*l),O(a*l),O((p-(b-d))*l),"c"].join(" ")),R([O((a-f)*l),O((p-(b-d))*l),O((a-c)*l),O((p-(b-g))*l),O((a-c)*l),O((p-b)*l),"c"].join(" ")),R([O((a-c)*l),O((p-(b+g))*l),O((a-f)*l),O((p-(b+d))*l),O(a*l),O((p-(b+d))*l),"c"].join(" ")),R([O((a+f)*l),O((p-(b+d))*l),O((a+c)*l),O((p-(b+g))*l),O((a+c)*l),O((p-b)*l),"c"].join(" ")),null!==e&&R(ma(e)),this},M.circle=function(a,b,c,d){return this.ellipse(a,b,c,c,d)},M.setProperties=function(a){for(var b in L)L.hasOwnProperty(b)&&a[b]&&(L[b]=a[b]);return this},M.setFontSize=function(a){return w=a,this},M.setFont=function(a,b){return k=ka(a,b),this},M.setFontStyle=M.setFontType=function(a){return k=ka(void 0,a),this},M.getFontList=function(){var a,b,c,d={};for(a in D)if(D.hasOwnProperty(a)){d[a]=c=[];for(b in D[a])D[a].hasOwnProperty(b)&&c.push(b)}return d},M.setLineWidth=function(a){return R((a*l).toFixed(2)+" w"),this},M.setDrawColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" G":O(a/255)+" G":void 0===d?"string"==typeof a?[a,b,c,"RG"].join(" "):[O(a/255),O(b/255),O(c/255),"RG"].join(" "):"string"==typeof a?[a,b,c,d,"K"].join(" "):[O(a),O(b),O(c),O(d),"K"].join(" "),R(e),this},M.setFillColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" g":O(a/255)+" g":void 0===d?"string"==typeof a?[a,b,c,"rg"].join(" "):[O(a/255),O(b/255),O(c/255),"rg"].join(" "):"string"==typeof a?[a,b,c,d,"k"].join(" "):[O(a),O(b),O(c),O(d),"k"].join(" "),R(e),this},M.setTextColor=function(a,b,c){if("string"==typeof a&&/^#[0-9A-Fa-f]{6}$/.test(a)){var d=parseInt(a.substr(1),16);a=d>>16&255,b=d>>8&255,c=255&d}return u=0===a&&0===b&&0===c||void 0===b?P(a/255)+" g":[P(a/255),P(b/255),P(c/255),"rg"].join(" "),this},M.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},M.setLineCap=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw new Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return I=b,R(b+" J"),this},M.setLineJoin=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw new Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return J=b,R(b+" j"),this},M.output=pa,M.save=function(a){M.output("save",a)};for(var qa in c.API)c.API.hasOwnProperty(qa)&&("events"===qa&&c.API.events.length?function(a,b){var c,d,e;for(e=b.length-1;-1!==e;e--)c=b[e][0],d=b[e][1],a.subscribe.apply(a,[c].concat("function"==typeof d?[d]:d))}(N,c.API.events):M[qa]=c.API[qa]);return aa(),k="F1",ia(h,f),N.publish("initialized"),M}var d="1.3",e={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return c.API={events:[]},c.version="1.0.272-debug 2014-09-29T15:09:diegocr","function"==typeof define&&define.amd?define("jsPDF",function(){return c}):a.jsPDF=c,c}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(a){"use strict";a.addHTML=function(a,b,c,d,e){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof b&&(d=b,e=c),"function"==typeof d&&(e=d,d=null);var f=this.internal,g=f.scaleFactor,h=f.pageSize.width,i=f.pageSize.height;if(d=d||{},d.onrendered=function(a){b=parseInt(b)||0,c=parseInt(c)||0;var f=d.dim||{},j=f.h||0,k=f.w||Math.min(h,a.width/g)-b,l="JPEG";if(d.format&&(l=d.format),a.height>i&&d.pagesplit){var m=function(){for(var d=0;;){var f=document.createElement("canvas");f.width=Math.min(h*g,a.width),f.height=Math.min(i*g,a.height-d);f.getContext("2d").drawImage(a,0,d,a.width,f.height,0,0,f.width,f.height);var j=[f,b,d?0:c,f.width/g,f.height/g,l,null,"SLOW"];if(this.addImage.apply(this,j),(d+=f.height)>=a.height)break;this.addPage()}e(k,d,null,j)}.bind(this);if("CANVAS"===a.nodeName){var n=new Image;n.onload=m,n.src=a.toDataURL("image/png"),a=n}else m()}else{var o=Math.random().toString(35),p=[a,b,c,k,j,l,o,"SLOW"];this.addImage.apply(this,p),e(k,j,o,p)}}.bind(this),"undefined"!=typeof html2canvas&&!d.rstz)return html2canvas(a,d);if("undefined"!=typeof rasterizeHTML){var j="drawDocument";return"string"==typeof a&&(j=/^http/.test(a)?"drawURL":"drawHTML"),d.width=d.width||h*g,rasterizeHTML[j](a,void 0,d).then(function(a){d.onrendered(a.image)},function(a){e(null,a)})}return null}}(jsPDF.API),function(a){"use strict";var b="addImage_",c=["jpeg","jpg","png"],d=function(a){var b=this.internal.newObject(),c=this.internal.write,e=this.internal.putStream;if(a.n=b,c("<</Type /XObject"),c("/Subtype /Image"),c("/Width "+a.w),c("/Height "+a.h),a.cs===this.color_spaces.INDEXED?c("/ColorSpace [/Indexed /DeviceRGB "+(a.pal.length/3-1)+" "+("smask"in a?b+2:b+1)+" 0 R]"):(c("/ColorSpace /"+a.cs),a.cs===this.color_spaces.DEVICE_CMYK&&c("/Decode [1 0 1 0 1 0 1 0]")),c("/BitsPerComponent "+a.bpc),"f"in a&&c("/Filter /"+a.f),"dp"in a&&c("/DecodeParms <<"+a.dp+">>"),"trns"in a&&a.trns.constructor==Array){for(var f="",g=0,h=a.trns.length;g<h;g++)f+=a.trns[g]+" "+a.trns[g]+" ";c("/Mask ["+f+"]")}if("smask"in a&&c("/SMask "+(b+1)+" 0 R"),c("/Length "+a.data.length+">>"),e(a.data),c("endobj"),"smask"in a){var i="/Predictor 15 /Colors 1 /BitsPerComponent "+a.bpc+" /Columns "+a.w,j={w:a.w,h:a.h,cs:"DeviceGray",bpc:a.bpc,dp:i,data:a.smask};"f"in a&&(j.f=a.f),d.call(this,j)}a.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),c("<< /Length "+a.pal.length+">>"),e(this.arrayBufferToBinaryString(new Uint8Array(a.pal))),c("endobj"))},e=function(){var a=this.internal.collections[b+"images"];for(var c in a)d.call(this,a[c])},f=function(){var a,c=this.internal.collections[b+"images"],d=this.internal.write;for(var e in c)a=c[e],d("/I"+a.i,a.n,"0","R")},g=function(b){return b&&"string"==typeof b&&(b=b.toUpperCase()),b in a.image_compression?b:a.image_compression.NONE},h=function(){var a=this.internal.collections[b+"images"];return a||(this.internal.collections[b+"images"]=a={},this.internal.events.subscribe("putResources",e),this.internal.events.subscribe("putXobjectDict",f)),a},i=function(a){var b=0;return a&&(b=Object.keys?Object.keys(a).length:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}(a)),b},j=function(a){return void 0===a||null===a},k=function(b){return"string"==typeof b&&a.sHashCode(b)},l=function(a){return-1===c.indexOf(a)},m=function(b){return"function"!=typeof a["process"+b.toUpperCase()]},n=function(a){return"object"==typeof a&&1===a.nodeType},o=function(a,b,c){if("IMG"===a.nodeName&&a.hasAttribute("src")){var d=""+a.getAttribute("src");if(!c&&0===d.indexOf("data:image/"))return d;!b&&/\.png(?:[?#].*)?$/i.test(d)&&(b="png")}if("CANVAS"===a.nodeName)var e=a;else{var e=document.createElement("canvas");e.width=a.clientWidth||a.width,e.height=a.clientHeight||a.height;var f=e.getContext("2d");if(!f)throw"addImage requires canvas to be supported by browser.";if(c){var g,h,i,j,k,l,m,n,o=Math.PI/180;"object"==typeof c&&(g=c.x,h=c.y,i=c.bg,c=c.angle),n=c*o,j=Math.abs(Math.cos(n)),k=Math.abs(Math.sin(n)),l=e.width,m=e.height,e.width=m*k+l*j,e.height=m*j+l*k,isNaN(g)&&(g=e.width/2),isNaN(h)&&(h=e.height/2),f.clearRect(0,0,e.width,e.height),f.fillStyle=i||"white",f.fillRect(0,0,e.width,e.height),f.save(),f.translate(g,h),f.rotate(n),f.drawImage(a,-l/2,-m/2),f.rotate(-n),f.translate(-g,-h),f.restore()}else f.drawImage(a,0,0,e.width,e.height)}return e.toDataURL("png"==(""+b).toLowerCase()?"image/png":"image/jpeg")},p=function(a,b){var c;if(b)for(var d in b)if(a===b[d].alias){c=b[d];break}return c},q=function(a,b,c){return a||b||(a=-96,b=-96),a<0&&(a=-1*c.w*72/a/this.internal.scaleFactor),b<0&&(b=-1*c.h*72/b/this.internal.scaleFactor),0===a&&(a=b*c.w/c.h),0===b&&(b=a*c.h/c.w),[a,b]},r=function(a,b,c,d,e,f,g){var h=q.call(this,c,d,e),i=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString;c=h[0],d=h[1],g[f]=e,this.internal.write("q",i(c),"0 0",i(d),i(a),j(b+d),"cm /I"+e.i,"Do Q")};a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"},a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},a.sHashCode=function(a){return Array.prototype.reduce&&a.split("").reduce(function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a},0)},a.isString=function(a){return"string"==typeof a},a.extractInfoFromBase64DataURI=function(a){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(a)},a.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},a.isArrayBuffer=function(a){return!!this.supportsArrayBuffer()&&a instanceof ArrayBuffer},a.isArrayBufferView=function(a){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(a instanceof Int8Array||a instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array))},a.binaryStringToUint8Array=function(a){for(var b=a.length,c=new Uint8Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c},a.arrayBufferToBinaryString=function(a){this.isArrayBuffer(a)&&(a=new Uint8Array(a));for(var b="",c=a.byteLength,d=0;d<c;d++)b+=String.fromCharCode(a[d]);return b},a.arrayBufferToBase64=function(a){for(var b,c,d,e,f,g="",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(a),j=i.byteLength,k=j%3,l=j-k,m=0;m<l;m+=3)f=i[m]<<16|i[m+1]<<8|i[m+2],b=(16515072&f)>>18,c=(258048&f)>>12,d=(4032&f)>>6,e=63&f,g+=h[b]+h[c]+h[d]+h[e];return 1==k?(f=i[l],b=(252&f)>>2,c=(3&f)<<4,g+=h[b]+h[c]+"=="):2==k&&(f=i[l]<<8|i[l+1],b=(64512&f)>>10,c=(1008&f)>>4,d=(15&f)<<2,g+=h[b]+h[c]+h[d]+"="),g},a.createImageInfo=function(a,b,c,d,e,f,g,h,i,j,k,l){var m={alias:h,w:b,h:c,cs:d,bpc:e,i:g,data:a};return f&&(m.f=f),i&&(m.dp=i),j&&(m.trns=j),k&&(m.pal=k),l&&(m.smask=l),m},a.addImage=function(a,b,d,e,f,q,s,t,u){if("string"!=typeof b){var v=q;q=f,f=e,e=d,d=b,b=v}if("object"==typeof a&&!n(a)&&"imageData"in a){var w=a;a=w.imageData,b=w.format||b,d=w.x||d||0,e=w.y||e||0,f=w.w||f,q=w.h||q,s=w.alias||s,t=w.compression||t,u=w.rotation||w.angle||u}if(isNaN(d)||isNaN(e))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var x,y=h.call(this);if(!(x=p(a,y))){var z;if(n(a)&&(a=o(a,b,u)),j(s)&&(s=k(a)),!(x=p(s,y))){if(this.isString(a)){var A=this.extractInfoFromBase64DataURI(a);A?(b=A[2],a=atob(A[3])):137===a.charCodeAt(0)&&80===a.charCodeAt(1)&&78===a.charCodeAt(2)&&71===a.charCodeAt(3)&&(b="png")}if(b=(b||"JPEG").toLowerCase(),l(b))throw new Error("addImage currently only supports formats "+c+", not '"+b+"'");if(m(b))throw new Error("please ensure that the plugin for '"+b+"' support is added");if(this.supportsArrayBuffer()&&(z=a,a=this.binaryStringToUint8Array(a)),!(x=this["process"+b.toUpperCase()](a,i(y),s,g(t),z)))throw new Error("An unkwown error occurred whilst processing the image")}}return r.call(this,d,e,f,q,x,x.i,y),this};var s=function(a){var b,c,d;if(255===!a.charCodeAt(0)||216===!a.charCodeAt(1)||255===!a.charCodeAt(2)||224===!a.charCodeAt(3)||!a.charCodeAt(6)==="J".charCodeAt(0)||!a.charCodeAt(7)==="F".charCodeAt(0)||!a.charCodeAt(8)==="I".charCodeAt(0)||!a.charCodeAt(9)==="F".charCodeAt(0)||0===!a.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var e=256*a.charCodeAt(4)+a.charCodeAt(5),f=4,g=a.length;f<g;){if(f+=e,255!==a.charCodeAt(f))throw new Error("getJpegSize could not find the size of the image");if(192===a.charCodeAt(f+1)||193===a.charCodeAt(f+1)||194===a.charCodeAt(f+1)||195===a.charCodeAt(f+1)||196===a.charCodeAt(f+1)||197===a.charCodeAt(f+1)||198===a.charCodeAt(f+1)||199===a.charCodeAt(f+1))return c=256*a.charCodeAt(f+5)+a.charCodeAt(f+6),b=256*a.charCodeAt(f+7)+a.charCodeAt(f+8),d=a.charCodeAt(f+9),[b,c,d];f+=2,e=256*a.charCodeAt(f)+a.charCodeAt(f+1)}},t=function(a){if(65496!=(a[0]<<8|a[1]))throw new Error("Supplied data is not a JPEG")
;for(var b,c,d,e,f=a.length,g=(a[4]<<8)+a[5],h=4;h<f;){if(h+=g,b=u(a,h),g=(b[2]<<8)+b[3],(192===b[1]||194===b[1])&&255===b[0]&&g>7)return b=u(a,h+5),c=(b[2]<<8)+b[3],d=(b[0]<<8)+b[1],e=b[4],{width:c,height:d,numcomponents:e};h+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},u=function(a,b){return a.subarray(b,b+5)};a.processJPEG=function(a,b,c,d,e){var f,g=this.color_spaces.DEVICE_RGB,h=this.decode.DCT_DECODE,i=8;return this.isString(a)?(f=s(a),this.createImageInfo(a,f[0],f[1],1==f[3]?this.color_spaces.DEVICE_GRAY:g,i,h,b,c)):(this.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.isArrayBufferView(a)?(f=t(a),a=e||this.arrayBufferToBinaryString(a),this.createImageInfo(a,f.width,f.height,1==f.numcomponents?this.color_spaces.DEVICE_GRAY:g,i,h,b,c)):null)},a.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(jsPDF.API),function(a){"use strict";a.autoPrint=function(){var a;return this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+a+" 0 R")}),this}}(jsPDF.API),function(a){"use strict";var b,c,d,e,f=3,g=13,h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1,j=function(a,b,c,d,e){h={x:a,y:b,w:c,h:d,ln:e}},k=function(){return h},l={left:0,top:0,bottom:0};a.setHeaderFunction=function(a){e=a},a.getTextDimensions=function(a){b=this.internal.getFont().fontName,c=this.table_font_size||this.internal.getFontSize(),d=this.internal.getFont().fontStyle;var e,f,g=19.049976/25.4;return f=document.createElement("font"),f.id="jsPDFCell",f.style.fontStyle=d,f.style.fontName=b,f.style.fontSize=c+"pt",f.textContent=a,document.body.appendChild(f),e={w:(f.offsetWidth+1)*g,h:(f.offsetHeight+1)*g},document.body.removeChild(f),e},a.cellAddPage=function(){var a=this.margins||l;this.addPage(),j(a.left,a.top,void 0,void 0),i+=1},a.cellInitialize=function(){h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1},a.cell=function(a,b,c,d,e,h,i){var m=k();if(void 0!==m.ln)if(m.ln===h)a=m.x+m.w,b=m.y;else{var n=this.margins||l;m.y+m.h+d+g>=this.internal.pageSize.height-n.bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(h,!0)),b=k().y+k().h}if(void 0!==e[0])if(this.printingHeaderRow?this.rect(a,b,c,d,"FD"):this.rect(a,b,c,d),"right"===i){if(e instanceof Array)for(var o=0;o<e.length;o++){var p=e[o],q=this.getStringUnitWidth(p)*this.internal.getFontSize();this.text(p,a+c-q-f,b+this.internal.getLineHeight()*(o+1))}}else this.text(e,a+f,b+this.internal.getLineHeight());return j(a,b,c,d,h),this},a.arrayMax=function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;c<d;c+=1)e=a[c],b?-1===b(f,e)&&(f=e):e>f&&(f=e);return f},a.table=function(b,c,d,e,f){if(!d)throw"No data for PDF table";var g,j,k,m,n,o,p,q,r,s,t=[],u=[],v={},w={},x=[],y=[],z=!1,A=!0,B=12,C=l;if(C.width=this.internal.pageSize.width,f&&(!0===f.autoSize&&(z=!0),!1===f.printHeaders&&(A=!1),f.fontSize&&(B=f.fontSize),f.margins&&(C=f.margins)),this.lnMod=0,h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},i=1,this.printHeaders=A,this.margins=C,this.setFontSize(B),this.table_font_size=B,void 0===e||null===e)t=Object.keys(d[0]);else if(e[0]&&"string"!=typeof e[0]){var D=19.049976/25.4;for(j=0,k=e.length;j<k;j+=1)g=e[j],t.push(g.name),u.push(g.prompt),w[g.name]=g.width*D}else t=e;if(z)for(s=function(a){return a[g]},j=0,k=t.length;j<k;j+=1){for(g=t[j],v[g]=d.map(s),x.push(this.getTextDimensions(u[j]||g).w),o=v[g],p=0,m=o.length;p<m;p+=1)n=o[p],x.push(this.getTextDimensions(n).w);w[g]=a.arrayMax(x)}if(A){var E=this.calculateLineHeight(t,w,u.length?u:t);for(j=0,k=t.length;j<k;j+=1)g=t[j],y.push([b,c,w[g],E,String(u.length?u[j]:g)]);this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}for(j=0,k=d.length;j<k;j+=1){var E;for(q=d[j],E=this.calculateLineHeight(t,w,q),p=0,r=t.length;p<r;p+=1)g=t[p],this.cell(b,c,w[g],E,q[g],j+2,g.align)}return this.lastCellPos=h,this.table_x=b,this.table_y=c,this},a.calculateLineHeight=function(a,b,c){for(var d,e=0,g=0;g<a.length;g++){d=a[g],c[d]=this.splitTextToSize(String(c[d]),b[d]-f);var h=this.internal.getLineHeight()*c[d].length+f;h>e&&(e=h)}return e},a.setTableHeaderRow=function(a){this.tableHeaderRow=a},a.printHeaderRow=function(a,b){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var c,d,f,g;if(this.printingHeaderRow=!0,void 0!==e){var h=e(this,i);j(h[0],h[1],h[2],h[3],-1)}this.setFontStyle("bold");var k=[];for(f=0,g=this.tableHeaderRow.length;f<g;f+=1)this.setFillColor(200,200,200),c=this.tableHeaderRow[f],b&&(c[1]=this.margins&&this.margins.top||0,k.push(c)),d=[].concat(c),this.cell.apply(this,d.concat(a));k.length>0&&this.setTableHeaderRow(k),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(jsPDF.API),function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;b=function(){function a(){}return function(b){return a.prototype=b,new a}}(),j=function(a){var b,c,d,e,f,g,h;for(c=0,d=a.length,b=void 0,e=!1,g=!1;!e&&c!==d;)b=a[c]=a[c].trimLeft(),b&&(e=!0),c++;for(c=d-1;d&&!g&&-1!==c;)b=a[c]=a[c].trimRight(),b&&(g=!0),c--;for(f=/\s+$/g,h=!0,c=0;c!==d;)b=a[c].replace(/\s+/g," "),h&&(b=b.trimLeft()),b&&(h=f.test(b)),a[c]=b,c++;return a},k=function(a,b,c,d){return this.pdf=a,this.x=b,this.y=c,this.settings=d,this.watchFunctions=[],this.init(),this},l=function(a){var b,c,e;for(b=void 0,e=a.split(","),c=e.shift();!b&&c;)b=d[c.trim().toLowerCase()],c=e.shift();return b},m=function(a){a="auto"===a?"0px":a,a.indexOf("em")>-1&&!isNaN(Number(a.replace("em","")))&&(a=18.719*Number(a.replace("em",""))+"px"),a.indexOf("pt")>-1&&!isNaN(Number(a.replace("pt","")))&&(a=1.333*Number(a.replace("pt",""))+"px");var b,c,d;return c=void 0,b=16,(d=n[a])?d:(d={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:a}])!==c?n[a]=d/b:(d=parseFloat(a))?n[a]=d/b:(d=a.match(/([\d\.]+)(px)/),3===d.length?n[a]=parseFloat(d[1])/b:n[a]=1)},i=function(a){var b,c,d;return d=function(a){var b;return b=function(a){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle?a.currentStyle:a.style}(a),function(a){return a=a.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()}),b[a]}}(a),b={},c=void 0,b["font-family"]=l(d("font-family"))||"times",b["font-style"]=e[d("font-style")]||"normal",b["text-align"]=TextAlignMap[d("text-align")]||"left",c=f[d("font-weight")]||"normal","bold"===c&&("normal"===b["font-style"]?b["font-style"]=c:b["font-style"]=c+b["font-style"]),b["font-size"]=m(d("font-size"))||1,b["line-height"]=m(d("line-height"))||1,b.display="inline"===d("display")?"inline":"block",c="block"===b.display,b["margin-top"]=c&&m(d("margin-top"))||0,b["margin-bottom"]=c&&m(d("margin-bottom"))||0,b["padding-top"]=c&&m(d("padding-top"))||0,b["padding-bottom"]=c&&m(d("padding-bottom"))||0,b["margin-left"]=c&&m(d("margin-left"))||0,b["margin-right"]=c&&m(d("margin-right"))||0,b["padding-left"]=c&&m(d("padding-left"))||0,b["padding-right"]=c&&m(d("padding-right"))||0,b.float=g[d("cssFloat")]||"none",b.clear=h[d("clear")]||"none",b},o=function(a,b,c){var d,e,f,g;if(f=!1,e=void 0,g=void 0,void 0,d=c["#"+a.id])if("function"==typeof d)f=d(a,b);else for(e=0,g=d.length;!f&&e!==g;)f=d[e](a,b),e++;if(d=c[a.nodeName],!f&&d)if("function"==typeof d)f=d(a,b);else for(e=0,g=d.length;!f&&e!==g;)f=d[e](a,b),e++;return f},t=function(a,b){var c,d,e,f,g,h,i,j,k;for(c=[],d=[],e=0,k=a.rows[0].cells.length,i=a.clientWidth;e<k;)j=a.rows[0].cells[e],d[e]={name:j.textContent.toLowerCase().replace(/\s+/g,""),prompt:j.textContent.replace(/\r?\n/g,""),width:j.clientWidth/i*b.pdf.internal.pageSize.width},e++;for(e=1;e<a.rows.length;){for(h=a.rows[e],g={},f=0;f<h.cells.length;)g[d[f].name]=h.cells[f].textContent.replace(/\r?\n/g,""),f++;c.push(g),e++}return{rows:c,headers:d}};var u={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},v=1;c=function(a,b,d){var e,f,g,h,j,k,l,m;for(f=a.childNodes,e=void 0,g=i(a),j="block"===g.display,j&&(b.setBlockBoundary(),b.setBlockStyle(g)),19.049976/25.4,h=0,k=f.length;h<k;){if("object"==typeof(e=f[h])){if(b.executeWatchFunctions(e),1===e.nodeType&&"HEADER"===e.nodeName){var n=e,q=b.pdf.margins_doc.top;b.pdf.internal.events.subscribe("addPage",function(a){b.y=q,c(n,b,d),b.pdf.margins_doc.top=b.y+10,b.y+=10},!1)}if(8===e.nodeType&&"#comment"===e.nodeName)~e.textContent.indexOf("ADD_PAGE")&&(b.pdf.addPage(),b.y=b.pdf.margins_doc.top);else if(1!==e.nodeType||u[e.nodeName])if(3===e.nodeType){var r=e.nodeValue;if(e.nodeValue&&"LI"===e.parentNode.nodeName)if("OL"===e.parentNode.parentNode.nodeName)r=v+++". "+r;else{var s=16*g["font-size"],w=2;s>20&&(w=3),m=function(a,b){this.pdf.circle(a,b,w,"FD")}}b.addText(r,g)}else"string"==typeof e&&b.addText(e,g);else{var x;if("IMG"===e.nodeName){var y=e.getAttribute("src");x=p[b.pdf.sHashCode(y)||y]}if(x){b.pdf.internal.pageSize.height-b.pdf.margins_doc.bottom<b.y+e.height&&b.y>b.pdf.margins_doc.top&&(b.pdf.addPage(),b.y=b.pdf.margins_doc.top,b.executeWatchFunctions(e));var z=i(e),A=b.x,B=12/b.pdf.internal.scaleFactor,C=(z["margin-left"]+z["padding-left"])*B,D=(z["margin-right"]+z["padding-right"])*B,E=(z["margin-top"]+z["padding-top"])*B,F=(z["margin-bottom"]+z["padding-bottom"])*B;void 0!==z.float&&"right"===z.float?A+=b.settings.width-e.width-D:A+=C,b.pdf.addImage(x,A,b.y+E,e.width,e.height),x=void 0,"right"===z.float||"left"===z.float?(b.watchFunctions.push(function(a,c,d,e){return b.y>=c?(b.x+=a,b.settings.width+=d,!0):!!(e&&1===e.nodeType&&!u[e.nodeName]&&b.x+e.width>b.pdf.margins_doc.left+b.pdf.margins_doc.width)&&(b.x+=a,b.y=c,b.settings.width+=d,!0)}.bind(this,"left"===z.float?-e.width-C-D:0,b.y+e.height+E+F,e.width)),b.watchFunctions.push(function(a,c,d){return!(b.y<a&&c===b.pdf.internal.getNumberOfPages())||1===d.nodeType&&"both"===i(d).clear&&(b.y=a,!0)}.bind(this,b.y+e.height,b.pdf.internal.getNumberOfPages())),b.settings.width-=e.width+C+D,"left"===z.float&&(b.x+=e.width+C+D)):b.y+=e.height+F}else if("TABLE"===e.nodeName)l=t(e,b),b.y+=10,b.pdf.table(b.x,b.y,l.rows,l.headers,{autoSize:!1,printHeaders:!0,margins:b.pdf.margins_doc}),b.y=b.pdf.lastCellPos.y+b.pdf.lastCellPos.h+20;else if("OL"===e.nodeName||"UL"===e.nodeName)v=1,o(e,b,d)||c(e,b,d),b.y+=10;else if("LI"===e.nodeName){var G=b.x;b.x+="UL"===e.parentNode.nodeName?22:10,b.y+=3,o(e,b,d)||c(e,b,d),b.x=G}else"BR"===e.nodeName?b.y+=g["font-size"]*b.pdf.internal.scaleFactor:o(e,b,d)||c(e,b,d)}}h++}if(j)return b.setBlockBoundary(m)},p={},q=function(a,b,c,d){function e(){b.pdf.internal.events.publish("imagesLoaded"),d(g)}function f(a,c,d){if(a){var f=new Image;g=++j,f.crossOrigin="",f.onerror=f.onload=function(){if(f.complete&&(0===f.src.indexOf("data:image/")&&(f.width=c||f.width||0,f.height=d||f.height||0),f.width+f.height)){var g=b.pdf.sHashCode(a)||a;p[g]=p[g]||f}--j||e()},f.src=a}}for(var g,h=a.getElementsByTagName("img"),i=h.length,j=0;i--;)f(h[i].getAttribute("src"),h[i].width,h[i].height);return j||e()},r=function(a,b,d){var e=a.getElementsByTagName("footer");if(e.length>0){e=e[0];var f=b.pdf.internal.write,g=b.y;b.pdf.internal.write=function(){},c(e,b,d);var h=Math.ceil(b.y-g)+5;b.y=g,b.pdf.internal.write=f,b.pdf.margins_doc.bottom+=h;for(var i=function(a){var f=void 0!==a?a.pageNumber:1,g=b.y;b.y=b.pdf.internal.pageSize.height-b.pdf.margins_doc.bottom,b.pdf.margins_doc.bottom-=h;for(var i=e.getElementsByTagName("span"),j=0;j<i.length;++j)(" "+i[j].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(i[j].innerHTML=f),(" "+i[j].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(i[j].innerHTML="###jsPDFVarTotalPages###");c(e,b,d),b.pdf.margins_doc.bottom+=h,b.y=g},j=e.getElementsByTagName("span"),k=0;k<j.length;++k)(" "+j[k].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&b.pdf.internal.events.subscribe("htmlRenderingFinished",b.pdf.putTotalPages.bind(b.pdf,"###jsPDFVarTotalPages###"),!0);b.pdf.internal.events.subscribe("addPage",i,!1),i(),u.FOOTER=1}},s=function(a,b,d,e,f,g){if(!b)return!1;"string"==typeof b||b.parentNode||(b=""+b.innerHTML),"string"==typeof b&&(b=function(a){var b,c,d,e;return d="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),e="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c=document.createElement("div"),c.style.cssText=e,c.innerHTML='<iframe style="height:1px;width:1px" name="'+d+'" />',document.body.appendChild(c),b=window.frames[d],b.document.body.innerHTML=a,b.document.body}(b.replace(/<\/?script[^>]*?>/gi,"")));var h,i=new k(a,d,e,f);return q.call(this,b,i,f.elementHandlers,function(a){r(b,i,f.elementHandlers),c(b,i,f.elementHandlers),i.pdf.internal.events.publish("htmlRenderingFinished"),h=i.dispose(),"function"==typeof g?g(h):a&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),h||{x:i.x,y:i.y}},k.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},k.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},k.prototype.executeWatchFunctions=function(a){var b=!1,c=[];if(this.watchFunctions.length>0){for(var d=0;d<this.watchFunctions.length;++d)!0===this.watchFunctions[d](a)?b=!0:c.push(this.watchFunctions[d]);this.watchFunctions=c}return b},k.prototype.splitFragmentsIntoLines=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(e=12,n=this.pdf.internal.scaleFactor,h={},f=void 0,m=void 0,g=void 0,i=void 0,r=void 0,l=void 0,k=void 0,j=void 0,o=[],p=[o],d=0,q=this.settings.width;a.length;)if(i=a.shift(),r=c.shift(),i)if(f=r["font-family"],m=r["font-style"],g=h[f+m],g||(g=this.pdf.internal.getFont(f,m).metadata.Unicode,h[f+m]=g),l={widths:g.widths,kerning:g.kerning,fontSize:r["font-size"]*e,textIndent:d},k=this.pdf.getStringUnitWidth(i,l)*l.fontSize/n,d+k>q){for(j=this.pdf.splitTextToSize(i,q,l),o.push([j.shift(),r]);j.length;)o=[[j.shift(),r]],p.push(o);d=this.pdf.getStringUnitWidth(o[0][0],l)*l.fontSize/n}else o.push([i,r]),d+=k;if(void 0!==r["text-align"]&&("center"===r["text-align"]||"right"===r["text-align"]||"justify"===r["text-align"]))for(var s=0;s<p.length;++s){var t=this.pdf.getStringUnitWidth(p[s][0][0],l)*l.fontSize/n;s>0&&(p[s][0][1]=b(p[s][0][1]));var u=q-t;if("right"===r["text-align"])p[s][0][1]["margin-left"]=u;else if("center"===r["text-align"])p[s][0][1]["margin-left"]=u/2;else if("justify"===r["text-align"]){var v=p[s][0][0].split(" ").length-1;p[s][0][1]["word-spacing"]=u/v,s===p.length-1&&(p[s][0][1]["word-spacing"]=0)}}return p},k.prototype.RenderTextFragment=function(a,b){var c,d,e;e=0,c=12,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),e=Math.max(e,b["line-height"],b["font-size"]),this.pdf.internal.write(0,(-1*c*e).toFixed(2),"Td")),d=this.pdf.internal.getFont(b["font-family"],b["font-style"]),void 0!==b["word-spacing"]&&b["word-spacing"]>0&&this.pdf.internal.write(b["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+d.id,(c*b["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(a)+") Tj"),void 0!==b["word-spacing"]&&this.pdf.internal.write(0,"Tw")},k.prototype.renderParagraph=function(a){var b,c,d,e,f,g,h,i,k,l,m,n,o,p,q;if(e=j(this.paragraph.text),p=this.paragraph.style,b=this.paragraph.blockstyle,o=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:b},e.join("").trim()){i=this.splitFragmentsIntoLines(e,p),h=void 0,k=void 0,c=12,d=c/this.pdf.internal.scaleFactor,n=(Math.max((b["margin-top"]||0)-(o["margin-bottom"]||0),0)+(b["padding-top"]||0))*d,m=((b["margin-bottom"]||0)+(b["padding-bottom"]||0))*d,l=this.pdf.internal.write,f=void 0,g=void 0,this.y+=n,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var r=0;i.length;){for(h=i.shift(),k=0,f=0,g=h.length;f!==g;)h[f][0].trim()&&(k=Math.max(k,h[f][1]["line-height"],h[f][1]["font-size"]),q=7*h[f][1]["font-size"]),f++;var s=0;for(void 0!==h[0][1]["margin-left"]&&h[0][1]["margin-left"]>0&&(wantedIndent=this.pdf.internal.getCoordinateString(h[0][1]["margin-left"]),s=wantedIndent-r,r=wantedIndent),l(s,(-1*c*k).toFixed(2),"Td"),f=0,g=h.length;f!==g;)h[f][0]&&this.RenderTextFragment(h[f][0],h[f][1]),f++;if(this.y+=k*d,this.executeWatchFunctions(h[0][1])&&i.length>0){var t=[],u=[];i.forEach(function(a){for(var b=0,c=a.length;b!==c;)a[b][0]&&(t.push(a[b][0]+" "),u.push(a[b][1])),++b}),i=this.splitFragmentsIntoLines(j(t),u),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return a&&"function"==typeof a&&a.call(this,this.x-9,this.y-q/2),l("ET","Q"),this.y+=m}},k.prototype.setBlockBoundary=function(a){return this.renderParagraph(a)},k.prototype.setBlockStyle=function(a){return this.paragraph.blockstyle=a},k.prototype.addText=function(a,b){return this.paragraph.text.push(a),this.paragraph.style.push(b)},d={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},f={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},e={normal:"normal",italic:"italic",oblique:"italic"},TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"},g={none:"none",right:"right",left:"left"},h={none:"none",both:"both"},n={normal:1},a.fromHTML=function(a,b,c,d,e,f){"use strict";return this.margins_doc=f||{top:0,bottom:0},d||(d={}),d.elementHandlers||(d.elementHandlers={}),s(this,a,isNaN(b)?4:b,isNaN(c)?4:c,d,e)}}(jsPDF.API),function(a){"use strict";var b,c,d;a.addJS=function(a){return d=a,this.internal.events.subscribe("postPutResources",function(a){b=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(b+1)+" 0 R] >>","endobj"),c=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",d,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==b&&void 0!==c&&this.internal.write("/Names <</JavaScript "+b+" 0 R>>")}),this}}(jsPDF.API),function(a){"use strict";var b=function(){return"function"!=typeof PNG||"function"!=typeof FlateStream},c=function(b){return b!==a.image_compression.NONE&&d()},d=function(){var a="function"==typeof Deflater;if(!a)throw new Error("requires deflate.js for compression");return a},e=function(b,c,d,e){var i=5,n=k;switch(e){case a.image_compression.FAST:i=3,n=j;break;case a.image_compression.MEDIUM:i=6,n=l;break;case a.image_compression.SLOW:i=9,n=m}b=h(b,c,d,n);var o=new Uint8Array(f(i)),p=g(b),q=new Deflater(i),r=q.append(b),s=q.flush(),t=o.length+r.length+s.length,u=new Uint8Array(t+4);return u.set(o),u.set(r,o.length),u.set(s,o.length+r.length),u[t++]=p>>>24&255,u[t++]=p>>>16&255,u[t++]=p>>>8&255,u[t++]=255&p,a.arrayBufferToBinaryString(u)},f=function(a,b){var c=8,d=Math.LOG2E*Math.log(32768)-8,e=d<<4|c,f=e<<8;return f|=Math.min(3,(b-1&255)>>1)<<6,f|=0,f+=31-f%31,[e,255&f]},g=function(a,b){for(var c,d=1,e=65535&d,f=d>>>16&65535,g=a.length,h=0;g>0;){c=g>b?b:g,g-=c;do{e+=a[h++],f+=e}while(--c);e%=65521,f%=65521}return(f<<16|e)>>>0},h=function(a,b,c,d){for(var e,f,g,h=a.length/b,i=new Uint8Array(a.length+h),j=o(),k=0;k<h;k++){if(g=k*b,e=a.subarray(g,g+b),d)i.set(d(e,c,f),g+k);else{for(var l=0,m=j.length,n=[];l<m;l++)n[l]=j[l](e,c,f);var q=p(n.concat());i.set(n[q],g+k)}f=e}return i},i=function(a,b,c){var d=Array.apply([],a);return d.unshift(0),d},j=function(a,b,c){var d,e=[],f=0,g=a.length;for(e[0]=1;f<g;f++)d=a[f-b]||0,e[f+1]=a[f]-d+256&255;return e},k=function(a,b,c){var d,e=[],f=0,g=a.length;for(e[0]=2;f<g;f++)d=c&&c[f]||0,e[f+1]=a[f]-d+256&255;return e},l=function(a,b,c){var d,e,f=[],g=0,h=a.length;for(f[0]=3;g<h;g++)d=a[g-b]||0,e=c&&c[g]||0,f[g+1]=a[g]+256-(d+e>>>1)&255;return f},m=function(a,b,c){var d,e,f,g,h=[],i=0,j=a.length;for(h[0]=4;i<j;i++)d=a[i-b]||0,e=c&&c[i]||0,f=c&&c[i-b]||0,g=n(d,e,f),h[i+1]=a[i]-g+256&255;return h},n=function(a,b,c){var d=a+b-c,e=Math.abs(d-a),f=Math.abs(d-b),g=Math.abs(d-c);return e<=f&&e<=g?a:f<=g?b:c},o=function(){return[i,j,k,l,m]},p=function(a){for(var b,c,d,e=0,f=a.length;e<f;)b=q(a[e].slice(1)),(b<c||!c)&&(c=b,d=e),e++;return d},q=function(a){for(var b=0,c=a.length,d=0;b<c;)d+=Math.abs(a[b++]);return d};a.processPNG=function(a,d,f,g,h){var i,j,k,l,m,n,o=this.color_spaces.DEVICE_RGB,p=this.decode.FLATE_DECODE,q=8;if(this.isArrayBuffer(a)&&(a=new Uint8Array(a)),this.isArrayBufferView(a)){if(b())throw new Error("PNG support requires png.js and zlib.js");if(i=new PNG(a),a=i.imgData,q=i.bits,o=i.colorSpace,l=i.colors,-1!==[4,6].indexOf(i.colorType)){if(8===i.bits)for(var r,s,t=window["Uint"+i.pixelBitlength+"Array"],u=new t(i.decodePixels().buffer),v=u.length,w=new Uint8Array(v*i.colors),x=new Uint8Array(v),y=i.pixelBitlength-i.bits,z=0,A=0;z<v;z++){for(r=u[z],s=0;s<y;)w[A++]=r>>>s&255,s+=i.bits;x[z]=r>>>s&255}if(16===i.bits){for(var r,u=new Uint32Array(i.decodePixels().buffer),v=u.length,w=new Uint8Array(v*(32/i.pixelBitlength)*i.colors),x=new Uint8Array(v*(32/i.pixelBitlength)),B=i.colors>1,z=0,A=0,C=0;z<v;)r=u[z++],w[A++]=r>>>0&255,B&&(w[A++]=r>>>16&255,r=u[z++],w[A++]=r>>>0&255),x[C++]=r>>>16&255;q=8}c(g)?(a=e(w,i.width*i.colors,i.colors,g),n=e(x,i.width,1,g)):(a=w,n=x,p=null)}if(3===i.colorType&&(o=this.color_spaces.INDEXED,m=i.palette,i.transparency.indexed)){for(var D=i.transparency.indexed,E=0,z=0,v=D.length;z<v;++z)E+=D[z];if((E/=255)===v-1&&-1!==D.indexOf(0))k=[D.indexOf(0)];else if(E!==v){for(var u=i.decodePixels(),x=new Uint8Array(u.length),z=0,v=u.length;z<v;z++)x[z]=D[u[z]];n=e(x,i.width,1)}}return j=p===this.decode.FLATE_DECODE?"/Predictor 15 /Colors "+l+" /BitsPerComponent "+q+" /Columns "+i.width:"/Colors "+l+" /BitsPerComponent "+q+" /Columns "+i.width,(this.isArrayBuffer(a)||this.isArrayBufferView(a))&&(a=this.arrayBufferToBinaryString(a)),(n&&this.isArrayBuffer(n)||this.isArrayBufferView(n))&&(n=this.arrayBufferToBinaryString(n)),this.createImageInfo(a,i.width,i.height,o,q,p,d,f,j,k,m,n)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(jsPDF.API),function(a){"use strict";a.addSVG=function(a,b,c,d,e){function f(a,b){var c=b.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(b.createTextNode(a)),b.getElementsByTagName("head")[0].appendChild(c)}function g(a){var b=a.createElement("iframe");return f(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",a),b.name="childframe",b.setAttribute("width",0),b.setAttribute("height",0),b.setAttribute("frameborder","0"),b.setAttribute("scrolling","no"),b.setAttribute("seamless","seamless"),b.setAttribute("class","jsPDF_sillysvg_iframe"),a.body.appendChild(b),b}function h(a,b){var c=(b.contentWindow||b.contentDocument).document;return c.write(a),c.close(),c.getElementsByTagName("svg")[0]}function i(a){for(var b=parseFloat(a[1]),c=parseFloat(a[2]),d=[],e=3,f=a.length;e<f;)"c"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2]),parseFloat(a[e+3]),parseFloat(a[e+4]),parseFloat(a[e+5]),parseFloat(a[e+6])]),e+=7):"l"===a[e]?(d.push([parseFloat(a[e+1]),parseFloat(a[e+2])]),e+=3):e+=1;return[b,c,d]}var j;if(b===j||c===j)throw new Error("addSVG needs values for 'x' and 'y'");var k=g(document),l=h(a,k),m=[1,1],n=parseFloat(l.getAttribute("width")),o=parseFloat(l.getAttribute("height"));n&&o&&(d&&e?m=[d/n,e/o]:d?m=[d/n,d/n]:e&&(m=[e/o,e/o]));var p,q,r,s,t=l.childNodes;for(p=0,q=t.length;p<q;p++)r=t[p],r.tagName&&"PATH"===r.tagName.toUpperCase()&&(s=i(r.getAttribute("d").split(" ")),s[0]=s[0]*m[0]+b,s[1]=s[1]*m[1]+c,this.lines.call(this,s[2],s[0],s[1],m));return this}}(jsPDF.API),function(a){"use strict";var b=a.getCharWidthsArray=function(a,b){b||(b={});var c,d,e,f=b.widths?b.widths:this.internal.getFont().metadata.Unicode.widths,g=f.fof?f.fof:1,h=b.kerning?b.kerning:this.internal.getFont().metadata.Unicode.kerning,i=h.fof?h.fof:1,j=0,k=f[0]||g,l=[];for(c=0,d=a.length;c<d;c++)e=a.charCodeAt(c),l.push((f[e]||k)/g+(h[e]&&h[e][j]||0)/i),j=e;return l},c=function(a){for(var b=a.length,c=0;b;)b--,c+=a[b];return c},d=a.getStringUnitWidth=function(a,d){return c(b.call(this,a,d))},e=function(a,b,c,d){for(var e=[],f=0,g=a.length,h=0;f!==g&&h+b[f]<c;)h+=b[f],f++;e.push(a.slice(0,f));var i=f;for(h=0;f!==g;)h+b[f]>d&&(e.push(a.slice(i,f)),h=0,i=f),h+=b[f],f++;return i!==f&&e.push(a.slice(i,f)),e},f=function(a,f,g){g||(g={});var h,i,j,k,l,m,n=[],o=[n],p=g.textIndent||0,q=0,r=0,s=a.split(" "),t=b(" ",g)[0];if(m=-1===g.lineIndent?s[0].length+2:g.lineIndent||0){var u=Array(m).join(" "),v=[];s.map(function(a){a=a.split(/\s*\n/),a.length>1?v=v.concat(a.map(function(a,b){return(b&&a.length?"\n":"")+a})):v.push(a[0])}),s=v,m=d(u,g)}for(j=0,k=s.length;j<k;j++){var w=0;if(h=s[j],m&&"\n"==h[0]&&(h=h.substr(1),w=1),i=b(h,g),r=c(i),p+q+r>f||w){if(r>f){for(l=e(h,i,f-(p+q),f),n.push(l.shift()),n=[l.pop()];l.length;)o.push([l.shift()]);r=c(i.slice(h.length-n[0].length))}else n=[h];o.push(n),p=r+m,q=t}else n.push(h),p+=q+r,q=t}if(m)var x=function(a,b){return(b?u:"")+a.join(" ")};else var x=function(a){return a.join(" ")};return o.map(x)};a.splitTextToSize=function(a,b,c){c||(c={});var d,e=c.fontSize||this.internal.getFontSize(),g=function(a){var b={0:1},c={};if(a.widths&&a.kerning)return{widths:a.widths,kerning:a.kerning};var d=this.internal.getFont(a.fontName,a.fontStyle),e="Unicode";return d.metadata[e]?{widths:d.metadata[e].widths||b,kerning:d.metadata[e].kerning||c}:{widths:b,kerning:c}}.call(this,c);d=Array.isArray(a)?a:a.split(/\r?\n/);var h=1*this.internal.scaleFactor*b/e;g.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/e:0,g.lineIndent=c.lineIndent;var i,j,k=[];for(i=0,j=d.length;i<j;i++)k=k.concat(f(d[i],h,g));return k}}(jsPDF.API),function(a){"use strict";var b=function(a){for(var b="0123456789abcdef",c="klmnopqrstuvwxyz",d={},e=0;e<c.length;e++)d[c[e]]=b[e];var f,g,h,i,j,k={},l=1,m=k,n=[],o="",p="",q=a.length-1;for(e=1;e!=q;)j=a[e],e+=1,"'"==j?g?(i=g.join(""),g=f):g=[]:g?g.push(j):"{"==j?(n.push([m,i]),m={},i=f):"}"==j?(h=n.pop(),h[0][h[1]]=m,i=f,m=h[0]):"-"==j?l=-1:i===f?d.hasOwnProperty(j)?(o+=d[j],i=parseInt(o,16)*l,l=1,o=""):o+=j:d.hasOwnProperty(j)?(p+=d[j],m[i]=parseInt(p,16)*l,l=1,i=f,p=""):p+=j;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:b("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},e={Unicode:{"Courier-Oblique":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":b("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":b("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),
"Times-Bold":b("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:b("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":b("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":b("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":b("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":b("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFonts",function(a){var b,c,f,g,h,i="Unicode";for(c in a.fonts)a.fonts.hasOwnProperty(c)&&(b=a.fonts[c],f=e[i][b.PostScriptName],f&&(g=b.metadata[i]?b.metadata[i]:b.metadata[i]={},g.widths=f.widths,g.kerning=f.kerning),(h=d[i][b.PostScriptName])&&(g=b.metadata[i]?b.metadata[i]:b.metadata[i]={},g.encoding=h,h.codePages&&h.codePages.length&&(b.encoding=h.codePages[0])))}])}(jsPDF.API),function(a){"use strict";a.putTotalPages=function(a){for(var b=new RegExp(a,"g"),c=1;c<=this.internal.getNumberOfPages();c++)for(var d=0;d<this.internal.pages[c].length;d++)this.internal.pages[c][d]=this.internal.pages[c][d].replace(b,this.internal.getNumberOfPages());return this}}(jsPDF.API),function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return void new Blob}catch(c){}var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array,s=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(s),c.origin=b&&b[1])),c}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;i<j;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return e<3&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,c){var d=c?c.type||"":"",e=new b;if(a)for(var f=0,g=a.length;f<g;f++)e.append(a[f]);return e.getBlob(d)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=10,m=function(b){var d=function(){"string"==typeof b?c().revokeObjectURL(b):b.remove()};a.chrome?d():setTimeout(d,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},o=function(b,i){var l,o,p,q=this,r=b.type,s=!1,t=function(){n(q,"writestart progress write writeend".split(" "))},u=function(){if(!s&&l||(l=c().createObjectURL(b)),o)o.location.href=l;else{void 0==a.open(l,"_blank")&&"undefined"!=typeof safari&&(a.location.href=l)}q.readyState=q.DONE,t(),m(l)},v=function(a){return function(){if(q.readyState!==q.DONE)return a.apply(this,arguments)}},w={create:!0,exclusive:!1};return q.readyState=q.INIT,i||(i="download"),e?(l=c().createObjectURL(b),d.href=l,d.download=i,f(d),q.readyState=q.DONE,t(),void m(l)):(a.chrome&&r&&r!==j&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,j),s=!0),g&&"download"!==i&&(i+=".download"),(r===j||g)&&(o=a),h?(k+=b.size,void h(a.TEMPORARY,k,v(function(a){a.root.getDirectory("saved",w,v(function(a){var c=function(){a.getFile(i,w,v(function(a){a.createWriter(v(function(c){c.onwriteend=function(b){o.location.href=a.toURL(),q.readyState=q.DONE,n(q,"writeend",b),m(a)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),u)}),u)};a.getFile(i,{create:!1},v(function(a){a.remove(),c()}),v(function(a){a.code===a.NOT_FOUND_ERR?c():u()}))}),u)}),u)):void u())},p=o.prototype,q=function(a,b){return new o(a,b)};return p.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module&&(module.exports=saveAs),function(a,b){"object"==typeof module?module.exports=b():a.adler32cs=b()}(jsPDF,function(){var a="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,b=null,c=function(){if(!a)return function(){return!1};try{var c=require("buffer");"function"==typeof c.Buffer&&(b=c.Buffer)}catch(d){}return function(a){return a instanceof ArrayBuffer||null!==b&&a instanceof b}}(),d=function(){return null!==b?function(a){return new b(a,"utf8").toString("binary")}:function(a){return unescape(encodeURIComponent(a))}}(),e=65521,f=function(a,b){for(var c=65535&a,d=a>>>16,f=0,g=b.length;f<g;f++)c=(c+(255&b.charCodeAt(f)))%e,d=(d+c)%e;return(d<<16|c)>>>0},g=function(a,b){for(var c=65535&a,d=a>>>16,f=0,g=b.length;f<g;f++)c=(c+b[f])%e,d=(d+c)%e;return(d<<16|c)>>>0},h={},i=h.Adler32=function(){var b=function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(a=null==a?1:+a))throw new Error("First arguments needs to be a finite number.");this.checksum=a>>>0},e=b.prototype={};return e.constructor=b,b.from=function(a){return a.prototype=e,a}(function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw new Error("First argument needs to be a string.");this.checksum=f(1,a.toString())}),b.fromUtf8=function(a){return a.prototype=e,a}(function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(null==a)throw new Error("First argument needs to be a string.");var c=d(a.toString());this.checksum=f(1,c)}),a&&(b.fromBuffer=function(a){return a.prototype=e,a}(function(a){if(!(this instanceof b))throw new TypeError("Constructor cannot called be as a function.");if(!c(a))throw new Error("First argument needs to be ArrayBuffer.");var d=new Uint8Array(a);return this.checksum=g(1,d)})),e.update=function(a){if(null==a)throw new Error("First argument needs to be a string.");return a=a.toString(),this.checksum=f(this.checksum,a)},e.updateUtf8=function(a){if(null==a)throw new Error("First argument needs to be a string.");var b=d(a.toString());return this.checksum=f(this.checksum,b)},a&&(e.updateBuffer=function(a){if(!c(a))throw new Error("First argument needs to be ArrayBuffer.");var b=new Uint8Array(a);return this.checksum=g(this.checksum,b)}),e.clone=function(){return new i(this.checksum)},b}();return h.from=function(a){if(null==a)throw new Error("First argument needs to be a string.");return f(1,a.toString())},h.fromUtf8=function(a){if(null==a)throw new Error("First argument needs to be a string.");var b=d(a.toString());return f(1,b)},a&&(h.fromBuffer=function(a){if(!c(a))throw new Error("First argument need to be ArrayBuffer.");var b=new Uint8Array(a);return g(1,b)}),h});var Deflater=function(a){function b(){function a(a){var b,c,e,f,g,i,j=d.dyn_tree,k=d.stat_desc.static_tree,l=d.stat_desc.extra_bits,m=d.stat_desc.extra_base,o=d.stat_desc.max_length,p=0;for(f=0;f<=h;f++)a.bl_count[f]=0;for(j[2*a.heap[a.heap_max]+1]=0,b=a.heap_max+1;b<n;b++)c=a.heap[b],f=j[2*j[2*c+1]+1]+1,f>o&&(f=o,p++),j[2*c+1]=f,c>d.max_code||(a.bl_count[f]++,g=0,c>=m&&(g=l[c-m]),i=j[2*c],a.opt_len+=i*(f+g),k&&(a.static_len+=i*(k[2*c+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(c=a.bl_count[f];0!==c;)(e=a.heap[--b])>d.max_code||(j[2*e+1]!=f&&(a.opt_len+=(f-j[2*e+1])*j[2*e],j[2*e+1]=f),c--)}}function b(a,b){var c=0;do{c|=1&a,a>>>=1,c<<=1}while(--b>0);return c>>>1}function c(a,c,d){var e,f,g,i=[],j=0;for(e=1;e<=h;e++)i[e]=j=j+d[e-1]<<1;for(f=0;f<=c;f++)0!==(g=a[2*f+1])&&(a[2*f]=b(i[g]++,g))}var d=this;d.build_tree=function(b){var e,f,g,h=d.dyn_tree,i=d.stat_desc.static_tree,j=d.stat_desc.elems,k=-1;for(b.heap_len=0,b.heap_max=n,e=0;e<j;e++)0!==h[2*e]?(b.heap[++b.heap_len]=k=e,b.depth[e]=0):h[2*e+1]=0;for(;b.heap_len<2;)g=b.heap[++b.heap_len]=k<2?++k:0,h[2*g]=1,b.depth[g]=0,b.opt_len--,i&&(b.static_len-=i[2*g+1]);for(d.max_code=k,e=Math.floor(b.heap_len/2);e>=1;e--)b.pqdownheap(h,e);g=j;do{e=b.heap[1],b.heap[1]=b.heap[b.heap_len--],b.pqdownheap(h,1),f=b.heap[1],b.heap[--b.heap_max]=e,b.heap[--b.heap_max]=f,h[2*g]=h[2*e]+h[2*f],b.depth[g]=Math.max(b.depth[e],b.depth[f])+1,h[2*e+1]=h[2*f+1]=g,b.heap[1]=g++,b.pqdownheap(h,1)}while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],a(b),c(h,d.max_code,b.bl_count)}}function c(a,b,c,d,e){var f=this;f.static_tree=a,f.extra_bits=b,f.extra_base=c,f.elems=d,f.max_length=e}function d(a,b,c,d,e){var f=this;f.good_length=a,f.max_lazy=b,f.nice_length=c,f.max_chain=d,f.func=e}function e(a,b,c,d){var e=a[2*b],f=a[2*c];return e<f||e==f&&d[b]<=d[c]}function f(){function a(){var a;for(Ea=2*Aa,Ga[Ia-1]=0,a=0;a<Ia-1;a++)Ga[a]=0;Va=N[Wa].max_lazy,Ya=N[Wa].good_length,Za=N[Wa].nice_length,Ua=N[Wa].max_chain,Qa=0,Ma=0,Sa=0,Na=Ta=_-1,Pa=0,Ha=0}function d(){var a;for(a=0;a<m;a++)$a[2*a]=0;for(a=0;a<i;a++)_a[2*a]=0;for(a=0;a<j;a++)ab[2*a]=0;$a[2*o]=1,bb.opt_len=bb.static_len=0,hb=jb=0}function f(){cb.dyn_tree=$a,cb.stat_desc=c.static_l_desc,db.dyn_tree=_a,db.stat_desc=c.static_d_desc,eb.dyn_tree=ab,eb.stat_desc=c.static_bl_desc,lb=0,mb=0,kb=8,d()}function g(a,b){var c,d,e=-1,f=a[1],g=0,h=7,i=4;for(0===f&&(h=138,i=3),a[2*(b+1)+1]=65535,c=0;c<=b;c++)d=f,f=a[2*(c+1)+1],++g<h&&d==f||(g<i?ab[2*d]+=g:0!==d?(d!=e&&ab[2*d]++,ab[2*p]++):g<=10?ab[2*q]++:ab[2*r]++,g=0,e=d,0===f?(h=138,i=3):d==f?(h=6,i=3):(h=7,i=4))}function h(){var a;for(g($a,cb.max_code),g(_a,db.max_code),eb.build_tree(bb),a=j-1;a>=3&&0===ab[2*b.bl_order[a]+1];a--);return bb.opt_len+=3*(a+1)+5+5+4,a}function k(a){bb.pending_buf[bb.pending++]=a}function n(a){k(255&a),k(a>>>8&255)}function H(a){k(a>>8&255),k(255&a)}function ca(a,b){var c,d=b;mb>s-d?(c=a,lb|=c<<mb&65535,n(lb),lb=c>>>s-mb,mb+=d-s):(lb|=a<<mb&65535,mb+=d)}function da(a,b){var c=2*a;ca(65535&b[c],65535&b[c+1])}function ea(a,b){var c,d,e=-1,f=a[1],g=0,h=7,i=4;for(0===f&&(h=138,i=3),c=0;c<=b;c++)if(d=f,f=a[2*(c+1)+1],!(++g<h&&d==f)){if(g<i)do{da(d,ab)}while(0!=--g);else 0!==d?(d!=e&&(da(d,ab),g--),da(p,ab),ca(g-3,2)):g<=10?(da(q,ab),ca(g-3,3)):(da(r,ab),ca(g-11,7));g=0,e=d,0===f?(h=138,i=3):d==f?(h=6,i=3):(h=7,i=4)}}function fa(a,c,d){var e;for(ca(a-257,5),ca(c-1,5),ca(d-4,4),e=0;e<d;e++)ca(ab[2*b.bl_order[e]+1],3);ea($a,a-1),ea(_a,c-1)}function ga(){16==mb?(n(lb),lb=0,mb=0):mb>=8&&(k(255&lb),lb>>>=8,mb-=8)}function ha(){ca(Z<<1,3),da(o,c.static_ltree),ga(),1+kb+10-mb<9&&(ca(Z<<1,3),da(o,c.static_ltree),ga()),kb=7}function ia(a,c){var d,e,f;if(bb.pending_buf[ib+2*hb]=a>>>8&255,bb.pending_buf[ib+2*hb+1]=255&a,bb.pending_buf[fb+hb]=255&c,hb++,0===a?$a[2*c]++:(jb++,a--,$a[2*(b._length_code[c]+l+1)]++,_a[2*b.d_code(a)]++),0==(8191&hb)&&Wa>2){for(d=8*hb,e=Qa-Ma,f=0;f<i;f++)d+=_a[2*f]*(5+b.extra_dbits[f]);if(d>>>=3,jb<Math.floor(hb/2)&&d<Math.floor(e/2))return!0}return hb==gb-1}function ja(a,c){var d,e,f,g,h=0;if(0!==hb)do{d=bb.pending_buf[ib+2*h]<<8&65280|255&bb.pending_buf[ib+2*h+1],e=255&bb.pending_buf[fb+h],h++,0===d?da(e,a):(f=b._length_code[e],da(f+l+1,a),g=b.extra_lbits[f],0!==g&&(e-=b.base_length[f],ca(e,g)),d--,f=b.d_code(d),da(f,c),0!==(g=b.extra_dbits[f])&&(d-=b.base_dist[f],ca(d,g)))}while(h<hb);da(o,a),kb=a[2*o+1]}function ka(){mb>8?n(lb):mb>0&&k(255&lb),lb=0,mb=0}function la(a,b,c){ka(),kb=8,c&&(n(b),n(~b)),bb.pending_buf.set(Da.subarray(a,a+b),bb.pending),bb.pending+=b}function ma(a,b,c){ca((Y<<1)+(c?1:0),3),la(a,b,!0)}function na(a,b,e){var f,g,i=0;Wa>0?(cb.build_tree(bb),db.build_tree(bb),i=h(),f=bb.opt_len+3+7>>>3,(g=bb.static_len+3+7>>>3)<=f&&(f=g)):f=g=b+5,b+4<=f&&-1!=a?ma(a,b,e):g==f?(ca((Z<<1)+(e?1:0),3),ja(c.static_ltree,c.static_dtree)):(ca(($<<1)+(e?1:0),3),fa(cb.max_code+1,db.max_code+1,i+1),ja($a,_a)),d(),e&&ka()}function oa(a){na(Ma>=0?Ma:-1,Qa-Ma,a),Ma=Qa,va.flush_pending()}function pa(){var a,b,c,d;do{if(0===(d=Ea-Sa-Qa)&&0===Qa&&0===Sa)d=Aa;else if(-1==d)d--;else if(Qa>=Aa+Aa-ba){Da.set(Da.subarray(Aa,Aa+Aa),0),Ra-=Aa,Qa-=Aa,Ma-=Aa,a=Ia,c=a;do{b=65535&Ga[--c],Ga[c]=b>=Aa?b-Aa:0}while(0!=--a);a=Aa,c=a;do{b=65535&Fa[--c],Fa[c]=b>=Aa?b-Aa:0}while(0!=--a);d+=Aa}if(0===va.avail_in)return;a=va.read_buf(Da,Qa+Sa,d),Sa+=a,Sa>=_&&(Ha=255&Da[Qa],Ha=(Ha<<La^255&Da[Qa+1])&Ka)}while(Sa<ba&&0!==va.avail_in)}function qa(a){var b,c=65535;for(c>xa-5&&(c=xa-5);;){if(Sa<=1){if(pa(),0===Sa&&a==x)return P;if(0===Sa)break}if(Qa+=Sa,Sa=0,b=Ma+c,(0===Qa||Qa>=b)&&(Sa=Qa-b,Qa=b,oa(!1),0===va.avail_out))return P;if(Qa-Ma>=Aa-ba&&(oa(!1),0===va.avail_out))return P}return oa(a==A),0===va.avail_out?a==A?R:P:a==A?S:Q}function ra(a){var b,c,d=Ua,e=Qa,f=Ta,g=Qa>Aa-ba?Qa-(Aa-ba):0,h=Za,i=Ca,j=Qa+aa,k=Da[e+f-1],l=Da[e+f];Ta>=Ya&&(d>>=2),h>Sa&&(h=Sa);do{if(b=a,Da[b+f]==l&&Da[b+f-1]==k&&Da[b]==Da[e]&&Da[++b]==Da[e+1]){e+=2,b++;do{}while(Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&Da[++e]==Da[++b]&&e<j);if(c=aa-(j-e),e=j-aa,c>f){if(Ra=a,f=c,c>=h)break;k=Da[e+f-1],l=Da[e+f]}}}while((a=65535&Fa[a&i])>g&&0!=--d);return f<=Sa?f:Sa}function sa(a){for(var b,c=0;;){if(Sa<ba){if(pa(),Sa<ba&&a==x)return P;if(0===Sa)break}if(Sa>=_&&(Ha=(Ha<<La^255&Da[Qa+(_-1)])&Ka,c=65535&Ga[Ha],Fa[Qa&Ca]=Ga[Ha],Ga[Ha]=Qa),0!==c&&(Qa-c&65535)<=Aa-ba&&Xa!=v&&(Na=ra(c)),Na>=_)if(b=ia(Qa-Ra,Na-_),Sa-=Na,Na<=Va&&Sa>=_){Na--;do{Qa++,Ha=(Ha<<La^255&Da[Qa+(_-1)])&Ka,c=65535&Ga[Ha],Fa[Qa&Ca]=Ga[Ha],Ga[Ha]=Qa}while(0!=--Na);Qa++}else Qa+=Na,Na=0,Ha=255&Da[Qa],Ha=(Ha<<La^255&Da[Qa+1])&Ka;else b=ia(0,255&Da[Qa]),Sa--,Qa++;if(b&&(oa(!1),0===va.avail_out))return P}return oa(a==A),0===va.avail_out?a==A?R:P:a==A?S:Q}function ta(a){for(var b,c,d=0;;){if(Sa<ba){if(pa(),Sa<ba&&a==x)return P;if(0===Sa)break}if(Sa>=_&&(Ha=(Ha<<La^255&Da[Qa+(_-1)])&Ka,d=65535&Ga[Ha],Fa[Qa&Ca]=Ga[Ha],Ga[Ha]=Qa),Ta=Na,Oa=Ra,Na=_-1,0!==d&&Ta<Va&&(Qa-d&65535)<=Aa-ba&&(Xa!=v&&(Na=ra(d)),Na<=5&&(Xa==u||Na==_&&Qa-Ra>4096)&&(Na=_-1)),Ta>=_&&Na<=Ta){c=Qa+Sa-_,b=ia(Qa-1-Oa,Ta-_),Sa-=Ta-1,Ta-=2;do{++Qa<=c&&(Ha=(Ha<<La^255&Da[Qa+(_-1)])&Ka,d=65535&Ga[Ha],Fa[Qa&Ca]=Ga[Ha],Ga[Ha]=Qa)}while(0!=--Ta);if(Pa=0,Na=_-1,Qa++,b&&(oa(!1),0===va.avail_out))return P}else if(0!==Pa){if(b=ia(0,255&Da[Qa-1]),b&&oa(!1),Qa++,Sa--,0===va.avail_out)return P}else Pa=1,Qa++,Sa--}return 0!==Pa&&(b=ia(0,255&Da[Qa-1]),Pa=0),oa(a==A),0===va.avail_out?a==A?R:P:a==A?S:Q}function ua(b){return b.total_in=b.total_out=0,b.msg=null,bb.pending=0,bb.pending_out=0,wa=V,za=x,f(),a(),B}var va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,bb=this,cb=new b,db=new b,eb=new b;bb.depth=[];var fb,gb,hb,ib,jb,kb,lb,mb;bb.bl_count=[],bb.heap=[],$a=[],_a=[],ab=[],bb.pqdownheap=function(a,b){for(var c=bb.heap,d=c[b],f=b<<1;f<=bb.heap_len&&(f<bb.heap_len&&e(a,c[f+1],c[f],bb.depth)&&f++,!e(a,d,c[f],bb.depth));)c[b]=c[f],b=f,f<<=1;c[b]=d},bb.deflateInit=function(a,b,c,d,e,f){return d||(d=X),e||(e=J),f||(f=w),a.msg=null,b==t&&(b=6),e<1||e>I||d!=X||c<9||c>15||b<0||b>9||f<0||f>v?E:(a.dstate=bb,Ba=c,Aa=1<<Ba,Ca=Aa-1,Ja=e+7,Ia=1<<Ja,Ka=Ia-1,La=Math.floor((Ja+_-1)/_),Da=new Uint8Array(2*Aa),Fa=[],Ga=[],gb=1<<e+6,bb.pending_buf=new Uint8Array(4*gb),xa=4*gb,ib=Math.floor(gb/2),fb=3*gb,Wa=b,Xa=f,ya=255&d,ua(a))},bb.deflateEnd=function(){return wa!=U&&wa!=V&&wa!=W?E:(bb.pending_buf=null,Ga=null,Fa=null,Da=null,bb.dstate=null,wa==V?F:B)},bb.deflateParams=function(a,b,c){var d=B;return b==t&&(b=6),b<0||b>9||c<0||c>v?E:(N[Wa].func!=N[b].func&&0!==a.total_in&&(d=a.deflate(y)),Wa!=b&&(Wa=b,Va=N[Wa].max_lazy,Ya=N[Wa].good_length,Za=N[Wa].nice_length,Ua=N[Wa].max_chain),Xa=c,d)},bb.deflateSetDictionary=function(a,b,c){var d,e=c,f=0;if(!b||wa!=U)return E;if(e<_)return B;for(e>Aa-ba&&(e=Aa-ba,f=c-e),Da.set(b.subarray(f,f+e),0),Qa=e,Ma=e,Ha=255&Da[0],Ha=(Ha<<La^255&Da[1])&Ka,d=0;d<=e-_;d++)Ha=(Ha<<La^255&Da[d+(_-1)])&Ka,Fa[d&Ca]=Ga[Ha],Ga[Ha]=d;return B},bb.deflate=function(a,b){var c,d,e,f,g;if(b>A||b<0)return E;if(!a.next_out||!a.next_in&&0!==a.avail_in||wa==W&&b!=A)return a.msg=O[D-E],E;if(0===a.avail_out)return a.msg=O[D-G],G;if(va=a,f=za,za=b,wa==U&&(d=X+(Ba-8<<4)<<8,e=(Wa-1&255)>>1,e>3&&(e=3),d|=e<<6,0!==Qa&&(d|=T),d+=31-d%31,wa=V,H(d)),0!==bb.pending){if(va.flush_pending(),0===va.avail_out)return za=-1,B}else if(0===va.avail_in&&b<=f&&b!=A)return va.msg=O[D-G],G;if(wa==W&&0!==va.avail_in)return a.msg=O[D-G],G;if(0!==va.avail_in||0!==Sa||b!=x&&wa!=W){switch(g=-1,N[Wa].func){case K:g=qa(b);break;case L:g=sa(b);break;case M:g=ta(b)}if(g!=R&&g!=S||(wa=W),g==P||g==R)return 0===va.avail_out&&(za=-1),B;if(g==Q){if(b==y)ha();else if(ma(0,0,!1),b==z)for(c=0;c<Ia;c++)Ga[c]=0;if(va.flush_pending(),0===va.avail_out)return za=-1,B}}return b!=A?B:C}}function g(){var a=this;a.next_in_index=0,a.next_out_index=0,a.avail_in=0,a.total_in=0,a.avail_out=0,a.total_out=0}var h=15,i=30,j=19,k=29,l=256,m=l+1+k,n=2*m+1,o=256,p=16,q=17,r=18,s=16,t=-1,u=1,v=2,w=0,x=0,y=1,z=3,A=4,B=0,C=1,D=2,E=-2,F=-3,G=-5,H=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];b._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],b.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],b.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],b.d_code=function(a){return a<256?H[a]:H[256+(a>>>7)]},
b.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],c.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],c.static_l_desc=new c(c.static_ltree,b.extra_lbits,l+1,m,h),c.static_d_desc=new c(c.static_dtree,b.extra_dbits,0,i,h),c.static_bl_desc=new c(null,b.extra_blbits,0,j,7);var I=9,J=8,K=0,L=1,M=2,N=[new d(0,0,0,0,K),new d(4,4,8,4,L),new d(4,5,16,8,L),new d(4,6,32,32,L),new d(4,4,16,16,M),new d(8,16,32,32,M),new d(8,16,128,128,M),new d(8,32,128,256,M),new d(32,128,258,1024,M),new d(32,258,258,4096,M)],O=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],P=0,Q=1,R=2,S=3,T=32,U=42,V=113,W=666,X=8,Y=0,Z=1,$=2,_=3,aa=258,ba=aa+_+1;return g.prototype={deflateInit:function(a,b){var c=this;return c.dstate=new f,b||(b=h),c.dstate.deflateInit(c,a,b)},deflate:function(a){var b=this;return b.dstate?b.dstate.deflate(b,a):E},deflateEnd:function(){var a=this;if(!a.dstate)return E;var b=a.dstate.deflateEnd();return a.dstate=null,b},deflateParams:function(a,b){var c=this;return c.dstate?c.dstate.deflateParams(c,a,b):E},deflateSetDictionary:function(a,b){var c=this;return c.dstate?c.dstate.deflateSetDictionary(c,a,b):E},read_buf:function(a,b,c){var d=this,e=d.avail_in;return e>c&&(e=c),0===e?0:(d.avail_in-=e,a.set(d.next_in.subarray(d.next_in_index,d.next_in_index+e),b),d.next_in_index+=e,d.total_in+=e,e)},flush_pending:function(){var a=this,b=a.dstate.pending;b>a.avail_out&&(b=a.avail_out),0!==b&&(a.next_out.set(a.dstate.pending_buf.subarray(a.dstate.pending_out,a.dstate.pending_out+b),a.next_out_index),a.next_out_index+=b,a.dstate.pending_out+=b,a.total_out+=b,a.avail_out-=b,a.dstate.pending-=b,0===a.dstate.pending&&(a.dstate.pending_out=0))}},function(a){var b=this,c=new g,d=512,e=x,f=new Uint8Array(d);void 0===a&&(a=t),c.deflateInit(a),c.next_out=f,b.append=function(a,b){var g,h=[],i=0,j=0,k=0;if(a.length){c.next_in_index=0,c.next_in=a,c.avail_in=a.length;do{if(c.next_out_index=0,c.avail_out=d,c.deflate(e)!=B)throw"deflating: "+c.msg;c.next_out_index&&(c.next_out_index==d?h.push(new Uint8Array(f)):h.push(new Uint8Array(f.subarray(0,c.next_out_index)))),k+=c.next_out_index,b&&c.next_in_index>0&&c.next_in_index!=i&&(b(c.next_in_index),i=c.next_in_index)}while(c.avail_in>0||0===c.avail_out);return g=new Uint8Array(k),h.forEach(function(a){g.set(a,j),j+=a.length}),g}},b.flush=function(){var a,b,e=[],g=0,h=0;do{if(c.next_out_index=0,c.avail_out=d,(a=c.deflate(A))!=C&&a!=B)throw"deflating: "+c.msg;d-c.avail_out>0&&e.push(new Uint8Array(f.subarray(0,c.next_out_index))),h+=c.next_out_index}while(c.avail_in>0||0===c.avail_out);return c.deflateEnd(),b=new Uint8Array(h),e.forEach(function(a){b.set(a,g),g+=a.length}),b}}}();!function(a){var b;b=function(){function b(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(b=this.readUInt32(),k=function(){var a,b;for(b=[],h=a=0;a<4;h=++a)b.push(String.fromCharCode(this.data[this.pos++]));return b}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(b);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),e=this.readUInt16()||100,g.delay=1e3*f/e,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for("fdAT"===k&&(this.pos+=4,b-=4),a=(null!=g?g.data:void 0)||this.imgData,h=n=0;0<=b?n<b:n>b;h=0<=b?++n:--n)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(b),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((l=d-this.transparency.indexed.length)>0)for(h=o=0;0<=l?o<l:o>l;h=0<=l?++o:--o)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(b)[0];break;case 2:this.transparency.rgb=this.read(b)}break;case"tEXt":m=this.read(b),i=m.indexOf(0),j=String.fromCharCode.apply(String,m.slice(0,i)),this.text[j]=String.fromCharCode.apply(String,m.slice(i+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=b}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var c,d,e,f,g,h;b.load=function(a,c,d){var e;return"function"==typeof c&&(d=c),e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){var a,f;return a=new Uint8Array(e.response||e.mozResponseArrayBuffer),f=new b(a),"function"==typeof(null!=c?c.getContext:void 0)&&f.render(c),"function"==typeof d?d(f):void 0},e.send(null)},d=1,e=2,c=0,b.prototype.read=function(a){var b,c;for(c=[],b=0;0<=a?b<a:b>a;0<=a?++b:--b)c.push(this.data[this.pos++]);return c},b.prototype.readUInt32=function(){var a,b,c,d;return a=this.data[this.pos++]<<24,b=this.data[this.pos++]<<16,c=this.data[this.pos++]<<8,d=this.data[this.pos++],a|b|c|d},b.prototype.readUInt16=function(){var a,b;return a=this.data[this.pos++]<<8,b=this.data[this.pos++],a|b},b.prototype.decodePixels=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(null==a&&(a=this.imgData),0===a.length)return new Uint8Array(0);for(a=new FlateStream(a),a=a.getBytes(),m=this.pixelBitlength/8,q=m*this.width,n=new Uint8Array(q*this.height),g=a.length,p=0,o=0,c=0;o<g;){switch(a[o++]){case 0:for(e=t=0;t<q;e=t+=1)n[c++]=a[o++];break;case 1:for(e=u=0;u<q;e=u+=1)b=a[o++],f=e<m?0:n[c-m],n[c++]=(b+f)%256;break;case 2:for(e=v=0;v<q;e=v+=1)b=a[o++],d=(e-e%m)/m,r=p&&n[(p-1)*q+d*m+e%m],n[c++]=(r+b)%256;break;case 3:for(e=w=0;w<q;e=w+=1)b=a[o++],d=(e-e%m)/m,f=e<m?0:n[c-m],r=p&&n[(p-1)*q+d*m+e%m],n[c++]=(b+Math.floor((f+r)/2))%256;break;case 4:for(e=x=0;x<q;e=x+=1)b=a[o++],d=(e-e%m)/m,f=e<m?0:n[c-m],0===p?r=s=0:(r=n[(p-1)*q+d*m+e%m],s=d&&n[(p-1)*q+(d-1)*m+e%m]),h=f+r-s,i=Math.abs(h-f),k=Math.abs(h-r),l=Math.abs(h-s),j=i<=k&&i<=l?f:k<=l?r:s,n[c++]=(b+j)%256;break;default:throw new Error("Invalid filter algorithm: "+a[o-1])}p++}return n},b.prototype.decodePalette=function(){var a,b,c,d,e,f,g,h,i;for(c=this.palette,f=this.transparency.indexed||[],e=new Uint8Array((f.length||0)+c.length),d=0,c.length,a=0,b=g=0,h=c.length;g<h;b=g+=3)e[d++]=c[b],e[d++]=c[b+1],e[d++]=c[b+2],e[d++]=null!=(i=f[a++])?i:255;return e},b.prototype.copyToImageData=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(d=this.colors,k=null,c=this.hasAlphaChannel,this.palette.length&&(k=null!=(m=this._decodedPalette)?m:this._decodedPalette=this.decodePalette(),d=4,c=!0),e=a.data||a,j=e.length,g=k||b,f=h=0,1===d)for(;f<j;)i=k?4*b[f/4]:h,l=g[i++],e[f++]=l,e[f++]=l,e[f++]=l,e[f++]=c?g[i++]:255,h=i;else for(;f<j;)i=k?4*b[f/4]:h,e[f++]=g[i++],e[f++]=g[i++],e[f++]=g[i++],e[f++]=c?g[i++]:255,h=i},b.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};try{g=a.document.createElement("canvas"),h=g.getContext("2d")}catch(i){return-1}return f=function(a){var b;return h.width=a.width,h.height=a.height,h.clearRect(0,0,a.width,a.height),h.putImageData(a,0,0),b=new Image,b.src=g.toDataURL(),b},b.prototype.decodeFrames=function(a){var b,c,d,e,g,h,i,j;if(this.animation){for(i=this.animation.frames,j=[],c=g=0,h=i.length;g<h;c=++g)b=i[c],d=a.createImageData(b.width,b.height),e=this.decodePixels(new Uint8Array(b.data)),this.copyToImageData(d,e),b.imageData=d,j.push(b.image=f(d));return j}},b.prototype.renderFrame=function(a,b){var f,g,h;return g=this.animation.frames,f=g[b],h=g[b-1],0===b&&a.clearRect(0,0,this.width,this.height),(null!=h?h.disposeOp:void 0)===d?a.clearRect(h.xOffset,h.yOffset,h.width,h.height):(null!=h?h.disposeOp:void 0)===e&&a.putImageData(h.imageData,h.xOffset,h.yOffset),f.blendOp===c&&a.clearRect(f.xOffset,f.yOffset,f.width,f.height),a.drawImage(f.image,f.xOffset,f.yOffset)},b.prototype.animate=function(a){var b,c,d,e,f,g,h=this;return c=0,g=this.animation,e=g.numFrames,d=g.frames,f=g.numPlays,(b=function(){var g,i;if(g=c++%e,i=d[g],h.renderFrame(a,g),e>1&&c/e<f)return h.animation._timeout=setTimeout(b,i.delay)})()},b.prototype.stopAnimation=function(){var a;return clearTimeout(null!=(a=this.animation)?a._timeout:void 0)},b.prototype.render=function(a){var b,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,b=a.getContext("2d"),this.animation?(this.decodeFrames(b),this.animate(b)):(c=b.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),b.putImageData(c,0,0))},b}(),a.PNG=b}("undefined"!=typeof window&&window||this);var DecodeStream=function(){function a(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return a.prototype={ensureBuffer:function(a){var b=this.buffer,c=b?b.byteLength:0;if(a<c)return b;for(var d=512;d<a;)d<<=1;for(var e=new Uint8Array(d),f=0;f<c;++f)e[f]=b[f];return this.buffer=e},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(a){var b=this.pos;if(a){this.ensureBuffer(b+a);for(var c=b+a;!this.eof&&this.bufferLength<c;)this.readBlock();var d=this.bufferLength;c>d&&(c=d)}else{for(;!this.eof;)this.readBlock();var c=this.bufferLength}return this.pos=c,this.buffer.subarray(b,c)},lookChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(a,b,c){for(var d=a+b;this.bufferLength<=d&&!this.eof;)this.readBlock();return new Stream(this.buffer,a,b,c)},skip:function(a){a||(a=1),this.pos+=a},reset:function(){this.pos=0}},a}(),FlateStream=function(){function a(a){throw new Error(a)}function b(b){var c=0,d=b[c++],e=b[c++];-1!=d&&-1!=e||a("Invalid header in flate stream"),8!=(15&d)&&a("Unknown compression method in flate stream"),((d<<8)+e)%31!=0&&a("Bad FCHECK in flate stream"),32&e&&a("FDICT bit set in flate stream"),this.bytes=b,this.bytesPos=c,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}if("undefined"!=typeof Uint32Array){var c=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),f=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],g=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return b.prototype=Object.create(DecodeStream.prototype),b.prototype.getBits=function(b){for(var c,d=this.codeSize,e=this.codeBuf,f=this.bytes,g=this.bytesPos;d<b;)void 0===(c=f[g++])&&a("Bad encoding in flate stream"),e|=c<<d,d+=8;return c=e&(1<<b)-1,this.codeBuf=e>>b,this.codeSize=d-=b,this.bytesPos=g,c},b.prototype.getCode=function(b){for(var c=b[0],d=b[1],e=this.codeSize,f=this.codeBuf,g=this.bytes,h=this.bytesPos;e<d;){var i;void 0===(i=g[h++])&&a("Bad encoding in flate stream"),f|=i<<e,e+=8}var j=c[f&(1<<d)-1],k=j>>16,l=65535&j;return(0==e||e<k||0==k)&&a("Bad encoding in flate stream"),this.codeBuf=f>>k,this.codeSize=e-k,this.bytesPos=h,l},b.prototype.generateHuffmanTable=function(a){for(var b=a.length,c=0,d=0;d<b;++d)a[d]>c&&(c=a[d]);for(var e=1<<c,f=new Uint32Array(e),g=1,h=0,i=2;g<=c;++g,h<<=1,i<<=1)for(var j=0;j<b;++j)if(a[j]==g){for(var k=0,l=h,d=0;d<g;++d)k=k<<1|1&l,l>>=1;for(var d=k;d<e;d+=i)f[d]=g<<16|j;++h}return[f,c]},b.prototype.readBlock=function(){function b(a,b,c,d,e){for(var f=a.getBits(c)+d;f-- >0;)b[x++]=e}var h=this.getBits(3);if(1&h&&(this.eof=!0),0==(h>>=1)){var i,j=this.bytes,k=this.bytesPos;void 0===(i=j[k++])&&a("Bad block header in flate stream");var l=i;void 0===(i=j[k++])&&a("Bad block header in flate stream"),l|=i<<8,void 0===(i=j[k++])&&a("Bad block header in flate stream");var m=i;void 0===(i=j[k++])&&a("Bad block header in flate stream"),m|=i<<8,m!=(65535&~l)&&a("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var n=this.bufferLength,o=this.ensureBuffer(n+l),p=n+l;this.bufferLength=p;for(var q=n;q<p;++q){if(void 0===(i=j[k++])){this.eof=!0;break}o[q]=i}return void(this.bytesPos=k)}var r,s;if(1==h)r=f,s=g;else if(2==h){for(var t=this.getBits(5)+257,u=this.getBits(5)+1,v=this.getBits(4)+4,w=Array(c.length),x=0;x<v;)w[c[x++]]=this.getBits(3);for(var y=this.generateHuffmanTable(w),z=0,x=0,A=t+u,B=new Array(A);x<A;){var C=this.getCode(y);16==C?b(this,B,2,3,z):17==C?b(this,B,3,3,z=0):18==C?b(this,B,7,11,z=0):B[x++]=z=C}r=this.generateHuffmanTable(B.slice(0,t)),s=this.generateHuffmanTable(B.slice(t,A))}else a("Unknown block type in flate stream");for(var o=this.buffer,D=o?o.length:0,E=this.bufferLength;;){var F=this.getCode(r);if(F<256)E+1>=D&&(o=this.ensureBuffer(E+1),D=o.length),o[E++]=F;else{if(256==F)return void(this.bufferLength=E);F-=257,F=d[F];var G=F>>16;G>0&&(G=this.getBits(G));var z=(65535&F)+G;F=this.getCode(s),F=e[F],G=F>>16,G>0&&(G=this.getBits(G));var H=(65535&F)+G;E+z>=D&&(o=this.ensureBuffer(E+z),D=o.length);for(var I=0;I<z;++I,++E)o[E]=o[E-H]}}},b}}();!function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===a.btoa&&(a.btoa=function(a){var c,d,e,f,g,h,i,j,k=0,l=0,m="",n=[];if(!a)return a;do{c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=a.charCodeAt(k++),j=c<<16|d<<8|e,f=j>>18&63,g=j>>12&63,h=j>>6&63,i=63&j,n[l++]=b.charAt(f)+b.charAt(g)+b.charAt(h)+b.charAt(i)}while(k<a.length);m=n.join("");var o=a.length%3;return(o?m.slice(0,o-3):m)+"===".slice(o||3)}),void 0===a.atob&&(a.atob=function(a){var c,d,e,f,g,h,i,j,k=0,l=0,m=[];if(!a)return a;a+="";do{f=b.indexOf(a.charAt(k++)),g=b.indexOf(a.charAt(k++)),h=b.indexOf(a.charAt(k++)),i=b.indexOf(a.charAt(k++)),j=f<<18|g<<12|h<<6|i,c=j>>16&255,d=j>>8&255,e=255&j,m[l++]=64==h?String.fromCharCode(c):64==i?String.fromCharCode(c,d):String.fromCharCode(c,d,e)}while(k<a.length);return m.join("")}),Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var b=Object(this),c=b.length>>>0,d=new Array(c),e=arguments.length>1?arguments[1]:void 0,f=0;f<c;f++)f in b&&(d[f]=a.call(e,b[f],f,b));return d}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){"use strict";if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var c=Object(this),d=c.length>>>0,e=0;e<d;e++)e in c&&a.call(b,c[e],e,c)}),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError;var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this),function(a,b,c){"use strict";var d=function(a,b,c){var d,e,f,g,h,i,j,k;switch(g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b),g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}var l=Math.floor(255*d).toString(16),m=Math.floor(255*e).toString(16),n=Math.floor(255*f).toString(16);return"#"+(l.length<2?"0":"")+l+(m.length<2?"0":"")+m+(n.length<2?"0":"")+n},e=function(b,e,f,g,h,i,j,k,l,m,n){var o=function(a,b){if(!b)return a;if(a.getSelectedHTML())return a.insertLink(b);var c='<a href="'+b.replace(/"/,"&quot;")+'">'+b+"</a>";return a.insertHTML(c)},p=function(a,b){var d=t(i),e=c('<input type="text" value="'+(b?b.attr("href"):"")+'"'+(k?' placeholder="'+k+'"':"")+" />").addClass("wysiwyg-input").keypress(function(c){if(10==c.which||13==c.which)if(b)b.attr("href",e.val()),a.closePopup().collapseSelection();else try{o(a,e.val()).closePopup().collapseSelection()}catch(d){a.closePopup()}}),f=d.click(function(c){return b?(b.attr("href",e.val()),a.closePopup().collapseSelection()):o(a,e.val()).closePopup().collapseSelection(),c.stopPropagation(),c.preventDefault(),!1}),g=c("<div/>").addClass("wysiwyg-toolbar-form").attr("unselectable","on");return g.append(e).append(f),g},q=function(b){var d=function(a,d){var e='<img id="wysiwyg-insert-image" src="" alt=""'+(d?' title="'+d.replace(/"/,"&quot;")+'"':"")+" />";b.insertHTML(e).closePopup().collapseSelection();var f=c("#wysiwyg-insert-image").removeAttr("id");l&&f.css({maxWidth:l[0]+"px",maxHeight:l[1]+"px"}).load(function(){f.css({maxWidth:"",maxHeight:""});var a=f.width(),b=f.height();(a>l[0]||b>l[1])&&(a/b>l[0]/l[1]?(b=parseInt(b/a*l[0]),a=l[0]):(a=parseInt(a/b*l[1]),b=l[1]),f.attr("width",a).attr("height",b))}),f.attr("src",a)},e=c("<div/>").addClass("wysiwyg-toolbar-form").attr("unselectable","on"),f=null;if(a.File&&a.FileReader&&a.FileList){var g=function(a){if(a.type.match("image.*")){var b=new FileReader;b.onload=function(b){var c=b.target.result;d(c,a.name)},b.readAsDataURL(a)}};f=c('<input type="file" />').attr("draggable","true").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}).change(function(a){for(var b=a.target.files,c=0;c<b.length;++c)g(b[c])}).on("dragover",function(a){return a.originalEvent.dataTransfer.dropEffect="copy",a.stopPropagation(),a.preventDefault(),!1}).on("drop",function(a){for(var b=a.originalEvent.dataTransfer.files,c=0;c<b.length;++c)g(b[c]);return a.stopPropagation(),a.preventDefault(),!1})}else if(m){var h=c('<input type="file" />').css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}).change(function(){m.call(this,d)});f=c("<form/>").append(h)}f&&c("<div/>").addClass("wysiwyg-browse").html(j).append(f).appendTo(e);var n=t(i),o=c('<input type="text" value=""'+(k?' placeholder="'+k+'"':"")+" />").addClass("wysiwyg-input").keypress(function(a){(10==a.which||13==a.which)&&d(o.val())}),p=n.click(function(a){return d(o.val()),a.stopPropagation(),a.preventDefault(),!1});return e.append(c("<div/>").append(o).append(p)),e},r=function(a,b){for(var e=c("<table/>").attr("cellpadding","0").attr("cellspacing","0").attr("unselectable","on"),f=1;15>f;++f){for(var g=c("<tr/>"),h=0;25>h;++h){var i;if(24==h){var j=Math.floor(255/13*(14-f)).toString(16),k=(j.length<2?"0":"")+j;i="#"+k+k+k}else{i=d(h/24,8>=f?f/8:1,f>8?(16-f)/8:1)}c("<td/>").addClass("wysiwyg-toolbar-color").attr("title",i).attr("unselectable","on").css({backgroundColor:i}).click(function(){var c=this.title;return b?a.forecolor(c).closePopup().collapseSelection():a.highlight(c).closePopup().collapseSelection(),!1}).appendTo(g)}e.append(g)}return e},s=function(a,b){switch(a){case"insertimage":return b?function(a){b(q(B),a)}:null;case"insertlink":return b?function(a){b(p(B),a)}:null;case"bold":return function(){B.bold()};case"italic":return function(){B.italic()};case"underline":return function(){B.underline()};case"strikethrough":return function(){B.strikethrough()};case"forecolor":return b?function(a){b(r(B,!0),a)}:null;case"highlight":return b?function(a){b(r(B,!1),a)}:null;case"alignleft":return function(){B.align("left")};case"aligncenter":return function(){B.align("center")};case"alignright":return function(){B.align("right")};case"alignjustify":return function(){B.align("justify")};case"subscript":return function(){B.subscript()};case"superscript":return function(){B.superscript()};case"indent":return function(){B.indent()};case"outdent":return function(){B.indent(!0)};case"orderedList":return function(){B.insertList(!0)};case"unorderedList":return function(){B.insertList()};case"removeformat":return function(){B.removeFormat().closePopup().collapseSelection()}}return null},t=function(a){return c("<a/>").addClass("wysiwyg-toolbar-icon").attr("href","#").attr("title",a.title).attr("unselectable","on").append(a.image)},u=function(a,b,d,e){c.each(h,function(f,g){if(g&&!(!1===b&&"showstatic"in g&&!g.showstatic||!0===b&&"showselection"in g&&!g.showselection)){var h;h="click"in g?function(a){g.click(c(a))}:"popup"in g?function(a){var b=d();!1!==g.popup(b,c(a))&&e(b,a)}:s(f,function(a,b){var c=d();c.append(a),e(c,b),c.find("input[type=text]:first").focus()});var i;h?i=t(g).click(function(a){return h(a.currentTarget),s(f)&&B.getElement().focus(),a.stopPropagation(),a.preventDefault(),!1}):g.html&&(i=c(g.html)),i&&a.append(i)}})},v=function(){var a=!1;return c(B.getElement()).parents().each(function(b,d){return"fixed"==c(d).css("position")?(a=!0,!1):void 0}),a},w=function(a){for(var b={left:0,top:0},c=a.get(0);c;)b.left+=c.offsetLeft,b.top+=c.offsetTop,c=c.offsetParent;return b},x={},y=function(b,d,e){var f={element:b.get(0),onkeypress:function(a,b,c,d,e,f){if(!(!n||10!=a&&13!=a||c||d||e||f))return n();if(b&&!c&&!d&&e&&!f){var g=b.toLowerCase();if(!x[g])return;return x[g](),!1}},onselection:function(b,d,e,f){var h=!0,j=null;if(d?1==e.length&&0!=c(e[0]).parents("a").length?j=p(i,c(e[0]).parents("a:first")):f||("selection"!=g&&"top-selection"!=g&&"bottom-selection"!=g?h=!1:b?h=!1:1==e.length&&"IMG"==e[0].nodeName&&(h=!1)):h=!1,!h)return void i.closePopup();var k,l=function(){var b=w(c(i.getElement())),e=k.outerWidth(),f=b.left+d.left+parseInt(d.width/2)-parseInt(e/2),g=b.top+d.top+d.height,h=c(a).width();f+e>h-1&&(f=h-e-1);var j=v()?0:c(a).scrollLeft();j+1>f&&(f=j+1),k.css({left:f+"px",top:g+"px",overflow:"visible"})};k=c(i.openPopup()),k.hasClass("wysiwyg-popup")&&!k.hasClass("wysiwyg-arrowtop")&&(k=c(i.closePopup().openPopup())),k.hasClass("wysiwyg-popup")||(k.addClass("wysiwyg-popup wysiwyg-arrowtop").css("position",v()?"fixed":"absolute"),j?k.empty().append(j):u(k,!0,function(){return k.empty()},l)),l()},hijackcontextmenu:"selection"==g};if(e){var h=c("<div/>").addClass("wysiwyg-placeholder").html(e).hide();d.prepend(h),f.onplaceholder=function(a){a?h.show():h.hide()}}var i=wysiwyg(f);return i},z=c("<div/>").addClass("wysiwyg-container");e&&z.addClass(e),b.wrap(z),z=b.parent(".wysiwyg-container");var A=!1;f&&(A=c("<div/>").addClass("wysiwyg-wrapper").click(function(){B.getElement().focus()}),b.wrap(A),A=b.parent(".wysiwyg-wrapper"));var B=y(b,f?A:z,f);if(B.legacy){var b=c(B.getElement());b.addClass("wysiwyg-textarea"),b.is(":visible")&&b.width(z.width()-(b.outerWidth()-b.width()))}else c(B.getElement()).addClass("wysiwyg-editor");var C={};if(c.each(h,function(a,b){if(b&&b.hotkey){var c=s(a);c&&(x[b.hotkey.toLowerCase()]=c,C[a]=c)}}),"selection"!=g){var D="top"==g||"top-selection"==g,E=c("<div/>").addClass("wysiwyg-toolbar").addClass(D?"wysiwyg-toolbar-top":"wysiwyg-toolbar-bottom");u(E,!1,function(){var a=c(B.openPopup());return a.hasClass("wysiwyg-popup")&&a.hasClass("wysiwyg-arrowtop")&&(a=c(B.closePopup().openPopup())),a.hasClass("wysiwyg-popup")||a.addClass("wysiwyg-popup").css("position",v()?"fixed":"absolute"),a},function(b,d){var e=c(d),f=b.outerWidth(),g=w(e),h=g.left+parseInt(e.width()/2)-parseInt(f/2),i=g.top;D?i+=e.outerHeight():i-=b.height();var j=c(a).width();h+f>j-1&&(h=j-f-1);var k=v()?0:c(a).scrollLeft();k+1>h&&(h=k+1),b.css({left:h+"px",top:i+"px",overflow:"visible"})}),D?z.prepend(E):z.append(E)}return{wysiwygeditor:B,$container:z}};c.fn.wysiwyg=function(a){if(!a||"object"==typeof a)return a=c.extend({},a),this.each(function(){var b=c(this);if(!b.data("wysiwyg")){var d=a.classes,f=a.placeholder||b.attr("placeholder"),g=!a.toolbar||"top"!=a.toolbar&&"top-selection"!=a.toolbar&&"bottom"!=a.toolbar&&"bottom-selection"!=a.toolbar&&"selection"!=a.toolbar?"top-selection":a.toolbar,h=a.buttons,i=a.submit,j=a.dropfileclick,k=a.placeholderUrl||null,l=a.maxImageSize||null,m=a.onImageUpload,n=a.onKeyEnter,o=e(b,d,f,g,h,i,j,k,l,m,n);b.data("wysiwyg",o)}});if(1==this.length){var b=this.data("wysiwyg");if(!b)return this;if("container"==a)return b.$container;if("shell"==a)return b.wysiwygeditor}return this}}(window,document,jQuery),function(a,b,c,d){"use strict";var e=function(a,b,c){var d;return function(){if(d){if(!c)return;clearTimeout(d)}var e=this,f=arguments;d=setTimeout(function(){d=null,a.apply(e,f)},b)}},f=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent?b.attachEvent("on"+c,d):b!=a&&(b["on"+c]=d)},g=function(b,c,d){b.removeEventListener?b.removeEventListener(c,d,!1):b.detachEvent?b.detachEvent("on"+c,d):b!=a&&(b["on"+c]=null)},h=function(a,c,e,f){if(b.createEvent){var g=b.createEvent("Event");g.initEvent(c,e===d||e,f!==d&&f),a.dispatchEvent(g)}else if(b.createEventObject){var g=b.createEventObject();a.fireEvent("on"+c,g)}else"function"==typeof a["on"+c]&&a["on"+c]()},i=function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,!1},j="undefined"!=typeof Node?Node.ELEMENT_NODE:1,k="undefined"!=typeof Node?Node.TEXT_NODE:3,l=function(a,b){for(var c=b;c;){if(c===a)return!0
;c=c.parentNode}return!1},m=function(a,b){if(a.firstChild)return a.firstChild;for(;a;){if(a==b)return null;if(a.nextSibling)return a.nextSibling;a=a.parentNode}return null},n=function(){if(a.getSelection){var c=a.getSelection();if(c.rangeCount>0)return c.getRangeAt(0)}else if(b.selection){var c=b.selection;return c.createRange()}return null},o=function(c,d){if(d)if(a.getSelection){var e=a.getSelection();e.removeAllRanges(),e.addRange(d)}else b.selection&&d.select()},p=function(){if(a.getSelection){var c=a.getSelection();if(!c.rangeCount)return!1;var d=c.getRangeAt(0).cloneRange();if(d.getBoundingClientRect){var e=d.getBoundingClientRect();return!(!e||0==e.left&&0==e.top&&0==e.right&&0==e.bottom)&&{left:parseInt(e.left),top:parseInt(e.top),width:parseInt(e.right-e.left),height:parseInt(e.bottom-e.top)}}}else if(b.selection){var c=b.selection;if("Control"!=c.type){var d=c.createRange();return{left:d.boundingLeft,top:d.boundingTop,width:d.boundingWidth,height:d.boundingHeight}}}return!1},q=function(c){if(a.getSelection){var d=a.getSelection();return!!d.isCollapsed}if(b.selection){var d=b.selection;if("Text"==d.type){var e=b.selection.createRange(),f=b.body.createTextRange();return f.moveToElementText(c),f.setEndPoint("EndToStart",e),0==e.htmlText.length}if("Control"==d.type)return!1}return!0},r=function(c){if(a.getSelection){var d=a.getSelection();if(!d.rangeCount)return[];for(var e=[],f=0;f<d.rangeCount;++f)for(var g=d.getRangeAt(f),h=g.startContainer,i=g.endContainer;h;){if(h!=c){var k=!1;if(d.containsNode)k=d.containsNode(h,!0);else{var n=b.createRange();n.selectNodeContents(h);for(var f=0;f<d.rangeCount;++f){var g=d.getRangeAt(f);if(g.compareBoundaryPoints(g.START_TO_START,n)<=0&&g.compareBoundaryPoints(g.END_TO_END,n)>=0){k=!0;break}}}k&&e.push(h)}h=m(h,h==i?i:c)}return 0==e.length&&l(c,d.focusNode)&&d.focusNode!=c&&e.push(d.focusNode),e}if(b.selection){var d=b.selection;if("Text"==d.type){for(var e=[],g=d.createRange(),h=c;h;){if(h!=c&&h.nodeType==j){var n=g.duplicate();n.moveToElementText(h),g.inRange(n)&&e.push(h)}h=m(h,c)}return 0==e.length&&l(c,b.activeElement)&&b.activeElement!=c&&e.push(b.activeElement),e}if("Control"==d.type){for(var e=[],g=d.createRange(),f=0;f<g.length;++f)e.push(g(f));return e}}return[]},s=function(){if(a.getSelection){var c=a.getSelection();c.isCollapsed||c.collapseToEnd()}else if(b.selection){var c=b.selection;if("Control"!=c.type){var d=c.createRange();d.collapse(!1),d.select()}}},t=function(c){if(q(c))return null;if(a.getSelection){var d=a.getSelection();if(d.rangeCount){for(var e=b.createElement("div"),f=d.rangeCount,g=0;f>g;++g){var h=d.getRangeAt(g).cloneContents();e.appendChild(h)}return e.innerHTML}}else if(b.selection){var d=b.selection;if("Text"==d.type){var i=d.createRange();return i.htmlText}}return null},u=function(c,d){if(a.getSelection){var e=a.getSelection();if(l(c,e.anchorNode)&&l(c,e.focusNode))return!0;if(!d)return!1;var f=b.createRange();f.selectNodeContents(c),f.collapse(!1),e.removeAllRanges(),e.addRange(f)}else if(b.selection){var e=b.selection;if("Control"==e.type){var f=e.createRange();if(0!=f.length&&l(c,f(0)))return!0}else{var g=b.body.createTextRange();g.moveToElementText(c);var f=e.createRange();if(g.inRange(f))return!0}if(!d)return!1;var f=b.body.createTextRange();f.moveToElementText(c),f.setEndPoint("StartToEnd",f),f.select()}return!0},v=function(c,d){if(a.getSelection){var e=a.getSelection();if(e.getRangeAt&&e.rangeCount){var f=e.getRangeAt(0),g=b.createElement("div");g.innerHTML=d;for(var h,i,j=b.createDocumentFragment();h=g.firstChild;)i=j.appendChild(h);l(c,f.commonAncestorContainer)?(f.deleteContents(),f.insertNode(j)):c.appendChild(j),i&&(f=f.cloneRange(),f.setStartAfter(i),f.collapse(!0),e.removeAllRanges(),e.addRange(f))}}else if(b.selection){var e=b.selection;if("Control"!=e.type){var k=e.createRange();k.collapse(!0);var f=e.createRange();if(l(c,f.parentElement()))f.pasteHTML(d);else{var m=b.body.createTextRange();m.moveToElementText(c),m.collapse(!1),m.select(),m.pasteHTML(d)}f=e.createRange(),f.setEndPoint("StartToEnd",k),f.select()}}};a.wysiwyg=function(d){d=d||{};var w=d.element||null,x=d.onkeypress||null,y=d.onselection||null,z=d.onplaceholder||null,A=d.hijackcontextmenu||!1,B="TEXTAREA"==w.nodeName||"INPUT"==w.nodeName;if(B){var C="contentEditable"in b.body;if(C){var D=c.userAgent.match(/(?:iPad|iPhone|Android).* AppleWebKit\/([^ ]+)/);D&&420<=parseInt(D[1])&&parseInt(D[1])<534&&(C=!1)}if(!C){var E=w,F=function(a){return a.replace(/<br[ \/]*>\n?/gi,"<br>\n")};E.value=F(E.value);var G=function(){return this},H=function(){return null};return{legacy:!0,getElement:function(){return E},getHTML:function(){return E.value},setHTML:function(a){return E.value=F(a),this},getSelectedHTML:H,sync:G,collapseSelection:G,openPopup:H,closePopup:G,removeFormat:G,bold:G,italic:G,underline:G,strikethrough:G,forecolor:G,highlight:G,fontName:G,fontSize:G,subscript:G,superscript:G,align:G,format:G,indent:G,insertLink:G,insertImage:G,insertHTML:G,insertList:G}}}var E=null,I=null;B?(E=w,E.style.display="none",I=b.createElement("DIV"),I.innerHTML=E.value,E.parentNode.insertBefore(I,E.nextSibling)):I=w,I.setAttribute("contentEditable","true");var J=b.all&&!b.addEventListener?b:a,K=null;if(B){var L=I.innerHTML;K=function(){var a=I.innerHTML;a!=L&&(E.value=a,L=a,h(E,"change",!1))}}var M;if(z){var N=!1;(M=function(){for(var a=!0,b=I;b;)if(b=m(b,I))if(b.nodeType==j){if("IMG"==b.nodeName){a=!1;break}}else if(b.nodeType==k){var c=b.nodeValue;if(c&&-1!=c.search(/[^\s]/)){a=!1;break}}N!=a&&(z(a),N=a)})()}var O=null,P=null,Q=null;y&&(P=function(b,c,d){var e=q(I),f=r(I),g=null===b||null===c?null:{left:b,top:c,width:0,height:0},h=p();if(h&&(g=h),g){if(I.getBoundingClientRect){var i=I.getBoundingClientRect();g.left-=parseInt(i.left),g.top-=parseInt(i.top)}else{var k=I,l=0,m=0,n=!1;do{l+=k.offsetLeft?parseInt(k.offsetLeft):0,m+=k.offsetTop?parseInt(k.offsetTop):0,"fixed"==k.style.position&&(n=!0)}while(k=k.offsetParent);g.left-=l-(n?0:a.pageXOffset),g.top-=m-(n?0:a.pageYOffset)}g.left<0&&(g.left=0),g.top<0&&(g.top=0),g.width>I.offsetWidth&&(g.width=I.offsetWidth),g.height>I.offsetHeight&&(g.height=I.offsetHeight)}else if(f.length)for(var o=0;o<f.length;++o){var k=f[o];if(k.nodeType==j){g={left:k.offsetLeft,top:k.offsetTop,width:k.offsetWidth,height:k.offsetHeight};break}}y(e,g,f,d)},Q=e(P,1));var R=null,S=function(b){if(!b)var b=a.event;var c=b.target||b.srcElement;c.nodeType==k&&(c=c.parentNode),l(R,c)||U()},T=function(){return R||(f(J,"mousedown",S),R=b.createElement("DIV"),b.body.appendChild(R),R)},U=function(){R&&(R.parentNode.removeChild(R),R=null,g(J,"mousedown",S))};f(I,"focus",function(){E&&h(E,"focus",!1)}),f(I,"blur",function(){K&&K(),E&&h(E,"blur",!1)});var V=null;if(M||K){var W=K?e(K,250,!0):null;V=e(function(){M&&M(),W&&W()},1),f(I,"input",V),f(I,"DOMNodeInserted",V),f(I,"DOMNodeRemoved",V),f(I,"DOMSubtreeModified",V),f(I,"DOMCharacterDataModified",V),f(I,"propertychange",V),f(I,"textInput",V),f(I,"paste",V),f(I,"cut",V),f(I,"drop",V)}var X=function(b,c){if(!b)var b=a.event;var d=0;b.keyCode?d=b.keyCode:b.which&&(d=b.which);var e=b.charCode;if(1==c&&x){if(!1===x(d,e?String(String):String.fromCharCode(d),b.shiftKey||!1,b.altKey||!1,b.ctrlKey||!1,b.metaKey||!1))return i(b)}if((2==c||3==c)&&(O=null,Q&&Q(null,null,!1)),2==c&&V)switch(d){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:break;default:V()}};f(I,"keydown",function(a){return X(a,1)}),f(I,"keypress",function(a){return X(a,2)}),f(I,"keyup",function(a){return X(a,3)});var Y=function(b,c){if(!b)var b=a.event;var d=null,e=null;b.clientX&&b.clientY?(d=b.clientX,e=b.clientY):b.pageX&&b.pageY&&(d=b.pageX-a.pageXOffset,e=b.pageY-a.pageYOffset),b.which&&3==b.which?c=!0:b.button&&2==b.button&&(c=!0),g(J,"mouseup",Y),O=null,(A||!c)&&Q&&Q(d,e,c)};f(I,"mousedown",function(){g(J,"mouseup",Y),f(J,"mouseup",Y)}),f(I,"mouseup",function(a){Y(a),V&&V()}),f(I,"dblclick",function(a){Y(a)}),f(I,"selectionchange",function(a){Y(a)}),A&&f(I,"contextmenu",function(a){return Y(a,!0),i(a)});var Z=function(c,d,e){if(o(I,O),!u(I,e))return!1;if(a.getSelection)try{return!(b.queryCommandSupported&&!b.queryCommandSupported(c))&&b.execCommand(c,!1,d)}catch(f){}else if(b.selection){var f=b.selection;if("None"!=f.type){var g=f.createRange();try{return!!g.queryCommandEnabled(c)&&g.execCommand(c,!1,d)}catch(f){}}}return!1},$=function(a){V&&V(),a?(s(),O=null):O&&(O=n(I))};return{getElement:function(){return I},getHTML:function(){return I.innerHTML},setHTML:function(a){return I.innerHTML=a,$(!0),this},getSelectedHTML:function(){return o(I,O),u(I)?t(I):null},sync:function(){return K&&K(),this},collapseSelection:function(){return s(),O=null,this},openPopup:function(){return O||(O=n(I)),T()},closePopup:function(){return U(),this},removeFormat:function(){return Z("removeFormat"),Z("unlink"),$(),this},bold:function(){return Z("bold"),$(),this},italic:function(){return Z("italic"),$(),this},underline:function(){return Z("underline"),$(),this},strikethrough:function(){return Z("strikeThrough"),$(),this},forecolor:function(a){return Z("foreColor",a),$(),this},highlight:function(a){return Z("hiliteColor",a)||Z("backColor",a),$(),this},fontName:function(a){return Z("fontName",a),$(),this},fontSize:function(a){return Z("fontSize",a),$(),this},subscript:function(){return Z("subscript"),$(),this},superscript:function(){return Z("superscript"),$(),this},align:function(a){return"left"==a?Z("justifyLeft"):"center"==a?Z("justifyCenter"):"right"==a?Z("justifyRight"):"justify"==a&&Z("justifyFull"),$(),this},format:function(a){return Z("formatBlock",a),$(),this},indent:function(a){return Z(a?"outdent":"indent"),$(),this},insertLink:function(a){return Z("createLink",a),$(!0),this},insertImage:function(a){return Z("insertImage",a,!0),$(!0),this},insertHTML:function(a){return Z("insertHTML",a,!0)||(o(I,O),u(I,!0),v(I,a)),$(!0),this},insertList:function(a){return Z(a?"insertOrderedList":"insertUnorderedList"),$(),this},redo:function(){return Z("redo"),this},undo:function(){return Z("undo"),this}}}}(window,document,navigator),function(a,b,c){"use strict";var d=function(a,b,c){var d,e,f,g,h,i,j,k;switch(g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b),g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}var l=Math.floor(255*d).toString(16),m=Math.floor(255*e).toString(16),n=Math.floor(255*f).toString(16);return"#"+(l.length<2?"0":"")+l+(m.length<2?"0":"")+m+(n.length<2?"0":"")+n},e=function(b,e,f,g,h,i,j,k,l,m,n){var o=function(a,b){if(!b)return a;if(a.getSelectedHTML())return a.insertLink(b);var c='<a href="'+b.replace(/"/,"&quot;")+'">'+b+"</a>";return a.insertHTML(c)},p=function(a,b){var d=t(i),e=c('<input type="text" value="'+(b?b.attr("href"):"")+'"'+(k?' placeholder="'+k+'"':"")+" />").addClass("wysiwyg-input").keypress(function(c){if(10==c.which||13==c.which)if(b)b.attr("href",e.val()),a.closePopup().collapseSelection();else try{o(a,e.val()).closePopup().collapseSelection()}catch(d){a.closePopup()}}),f=d.click(function(c){return b?(b.attr("href",e.val()),a.closePopup().collapseSelection()):o(a,e.val()).closePopup().collapseSelection(),c.stopPropagation(),c.preventDefault(),!1}),g=c("<div/>").addClass("wysiwyg-toolbar-form").attr("unselectable","on");return g.append(e).append(f),g},q=function(b){var d=function(a,d){var e='<img id="wysiwyg-insert-image" src="" alt=""'+(d?' title="'+d.replace(/"/,"&quot;")+'"':"")+" />";b.insertHTML(e).closePopup().collapseSelection();var f=c("#wysiwyg-insert-image").removeAttr("id");l&&f.css({maxWidth:l[0]+"px",maxHeight:l[1]+"px"}).load(function(){f.css({maxWidth:"",maxHeight:""});var a=f.width(),b=f.height();(a>l[0]||b>l[1])&&(a/b>l[0]/l[1]?(b=parseInt(b/a*l[0]),a=l[0]):(a=parseInt(a/b*l[1]),b=l[1]),f.attr("width",a).attr("height",b))}),f.attr("src",a)},e=c("<div/>").addClass("wysiwyg-toolbar-form").attr("unselectable","on"),f=null;if(a.File&&a.FileReader&&a.FileList){var g=function(a){if(a.type.match("image.*")){var b=new FileReader;b.onload=function(b){var c=b.target.result;d(c,a.name)},b.readAsDataURL(a)}};f=c('<input type="file" />').attr("draggable","true").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}).change(function(a){for(var b=a.target.files,c=0;c<b.length;++c)g(b[c])}).on("dragover",function(a){return a.originalEvent.dataTransfer.dropEffect="copy",a.stopPropagation(),a.preventDefault(),!1}).on("drop",function(a){for(var b=a.originalEvent.dataTransfer.files,c=0;c<b.length;++c)g(b[c]);return a.stopPropagation(),a.preventDefault(),!1})}else if(m){var h=c('<input type="file" />').css({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}).change(function(){m.call(this,d)});f=c("<form/>").append(h)}f&&c("<div/>").addClass("wysiwyg-browse").html(j).append(f).appendTo(e);var n=t(i),o=c('<input type="text" value=""'+(k?' placeholder="'+k+'"':"")+" />").addClass("wysiwyg-input").keypress(function(a){(10==a.which||13==a.which)&&d(o.val())}),p=n.click(function(a){return d(o.val()),a.stopPropagation(),a.preventDefault(),!1});return e.append(c("<div/>").append(o).append(p)),e},r=function(a,b){for(var e=c("<table/>").attr("cellpadding","0").attr("cellspacing","0").attr("unselectable","on"),f=1;15>f;++f){for(var g=c("<tr/>"),h=0;25>h;++h){var i;if(24==h){var j=Math.floor(255/13*(14-f)).toString(16),k=(j.length<2?"0":"")+j;i="#"+k+k+k}else{i=d(h/24,8>=f?f/8:1,f>8?(16-f)/8:1)}c("<td/>").addClass("wysiwyg-toolbar-color").attr("title",i).attr("unselectable","on").css({backgroundColor:i}).click(function(){var c=this.title;return b?a.forecolor(c).closePopup().collapseSelection():a.highlight(c).closePopup().collapseSelection(),!1}).appendTo(g)}e.append(g)}return e},s=function(a,b){switch(a){case"insertimage":return b?function(a){b(q(B),a)}:null;case"insertlink":return b?function(a){b(p(B),a)}:null;case"bold":return function(){B.bold()};case"italic":return function(){B.italic()};case"underline":return function(){B.underline()};case"strikethrough":return function(){B.strikethrough()};case"forecolor":return b?function(a){b(r(B,!0),a)}:null;case"highlight":return b?function(a){b(r(B,!1),a)}:null;case"alignleft":return function(){B.align("left")};case"aligncenter":return function(){B.align("center")};case"alignright":return function(){B.align("right")};case"alignjustify":return function(){B.align("justify")};case"subscript":return function(){B.subscript()};case"superscript":return function(){B.superscript()};case"indent":return function(){B.indent()};case"outdent":return function(){B.indent(!0)};case"orderedList":return function(){B.insertList(!0)};case"unorderedList":return function(){B.insertList()};case"removeformat":return function(){B.removeFormat().closePopup().collapseSelection()}}return null},t=function(a){return c("<a/>").addClass("wysiwyg-toolbar-icon").attr("href","#").attr("title",a.title).attr("unselectable","on").append(a.image)},u=function(a,b,d,e){c.each(h,function(f,g){if(g&&!(!1===b&&"showstatic"in g&&!g.showstatic||!0===b&&"showselection"in g&&!g.showselection)){var h;h="click"in g?function(a){g.click(c(a))}:"popup"in g?function(a){var b=d();!1!==g.popup(b,c(a))&&e(b,a)}:s(f,function(a,b){var c=d();c.append(a),e(c,b),c.find("input[type=text]:first").focus()});var i;h?i=t(g).click(function(a){return h(a.currentTarget),s(f)&&B.getElement().focus(),a.stopPropagation(),a.preventDefault(),!1}):g.html&&(i=c(g.html)),i&&a.append(i)}})},v=function(){var a=!1;return c(B.getElement()).parents().each(function(b,d){return"fixed"==c(d).css("position")?(a=!0,!1):void 0}),a},w=function(a){for(var b={left:0,top:0},c=a.get(0);c;)b.left+=c.offsetLeft,b.top+=c.offsetTop,c=c.offsetParent;return b},x={},y=function(b,d,e){var f={element:b.get(0),onkeypress:function(a,b,c,d,e,f){if(!(!n||10!=a&&13!=a||c||d||e||f))return n();if(b&&!c&&!d&&e&&!f){var g=b.toLowerCase();if(!x[g])return;return x[g](),!1}},onselection:function(b,d,e,f){var h=!0,j=null;if(d?1==e.length&&0!=c(e[0]).parents("a").length?j=p(i,c(e[0]).parents("a:first")):f||("selection"!=g&&"top-selection"!=g&&"bottom-selection"!=g?h=!1:b?h=!1:1==e.length&&"IMG"==e[0].nodeName&&(h=!1)):h=!1,!h)return void i.closePopup();var k,l=function(){var b=w(c(i.getElement())),e=k.outerWidth(),f=b.left+d.left+parseInt(d.width/2)-parseInt(e/2),g=b.top+d.top+d.height,h=c(a).width();f+e>h-1&&(f=h-e-1);var j=v()?0:c(a).scrollLeft();j+1>f&&(f=j+1),k.css({left:f+"px",top:g+"px",overflow:"visible"})};k=c(i.openPopup()),k.hasClass("wysiwyg-popup")&&!k.hasClass("wysiwyg-arrowtop")&&(k=c(i.closePopup().openPopup())),k.hasClass("wysiwyg-popup")||(k.addClass("wysiwyg-popup wysiwyg-arrowtop").css("position",v()?"fixed":"absolute"),j?k.empty().append(j):u(k,!0,function(){return k.empty()},l)),l()},hijackcontextmenu:"selection"==g};if(e){var h=c("<div/>").addClass("wysiwyg-placeholder").html(e).hide();d.prepend(h),f.onplaceholder=function(a){a?h.show():h.hide()}}var i=wysiwyg(f);return i},z=c("<div/>").addClass("wysiwyg-container");e&&z.addClass(e),b.wrap(z),z=b.parent(".wysiwyg-container");var A=!1;f&&(A=c("<div/>").addClass("wysiwyg-wrapper").click(function(){B.getElement().focus()}),b.wrap(A),A=b.parent(".wysiwyg-wrapper"));var B=y(b,f?A:z,f);if(B.legacy){var b=c(B.getElement());b.addClass("wysiwyg-textarea"),b.is(":visible")&&b.width(z.width()-(b.outerWidth()-b.width()))}else c(B.getElement()).addClass("wysiwyg-editor");var C={};if(c.each(h,function(a,b){if(b&&b.hotkey){var c=s(a);c&&(x[b.hotkey.toLowerCase()]=c,C[a]=c)}}),"selection"!=g){var D="top"==g||"top-selection"==g,E=c("<div/>").addClass("wysiwyg-toolbar").addClass(D?"wysiwyg-toolbar-top":"wysiwyg-toolbar-bottom");u(E,!1,function(){var a=c(B.openPopup());return a.hasClass("wysiwyg-popup")&&a.hasClass("wysiwyg-arrowtop")&&(a=c(B.closePopup().openPopup())),a.hasClass("wysiwyg-popup")||a.addClass("wysiwyg-popup").css("position",v()?"fixed":"absolute"),a},function(b,d){var e=c(d),f=b.outerWidth(),g=w(e),h=g.left+parseInt(e.width()/2)-parseInt(f/2),i=g.top;D?i+=e.outerHeight():i-=b.height();var j=c(a).width();h+f>j-1&&(h=j-f-1);var k=v()?0:c(a).scrollLeft();k+1>h&&(h=k+1),b.css({left:h+"px",top:i+"px",overflow:"visible"})}),D?z.prepend(E):z.append(E)}return{wysiwygeditor:B,$container:z}};c.fn.wysiwyg=function(a){if(!a||"object"==typeof a)return a=c.extend({},a),this.each(function(){var b=c(this);if(!b.data("wysiwyg")){var d=a.classes,f=a.placeholder||b.attr("placeholder"),g=!a.toolbar||"top"!=a.toolbar&&"top-selection"!=a.toolbar&&"bottom"!=a.toolbar&&"bottom-selection"!=a.toolbar&&"selection"!=a.toolbar?"top-selection":a.toolbar,h=a.buttons,i=a.submit,j=a.dropfileclick,k=a.placeholderUrl||null,l=a.maxImageSize||null,m=a.onImageUpload,n=a.onKeyEnter,o=e(b,d,f,g,h,i,j,k,l,m,n);b.data("wysiwyg",o)}});if(1==this.length){var b=this.data("wysiwyg");if(!b)return this;if("container"==a)return b.$container;if("shell"==a)return b.wysiwygeditor}return this}}(window,document,jQuery),function(a,b,c,d){"use strict";var e=function(a,b,c){var d;return function(){if(d){if(!c)return;clearTimeout(d)}var e=this,f=arguments;d=setTimeout(function(){d=null,a.apply(e,f)},b)}},f=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent?b.attachEvent("on"+c,d):b!=a&&(b["on"+c]=d)},g=function(b,c,d){b.removeEventListener?b.removeEventListener(c,d,!1):b.detachEvent?b.detachEvent("on"+c,d):b!=a&&(b["on"+c]=null)},h=function(a,c,e,f){if(b.createEvent){var g=b.createEvent("Event");g.initEvent(c,e===d||e,f!==d&&f),a.dispatchEvent(g)}else if(b.createEventObject){var g=b.createEventObject();a.fireEvent("on"+c,g)}else"function"==typeof a["on"+c]&&a["on"+c]()},i=function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,!1},j="undefined"!=typeof Node?Node.ELEMENT_NODE:1,k="undefined"!=typeof Node?Node.TEXT_NODE:3,l=function(a,b){for(var c=b;c;){if(c===a)return!0;c=c.parentNode}return!1},m=function(a,b){if(a.firstChild)return a.firstChild;for(;a;){if(a==b)return null;if(a.nextSibling)return a.nextSibling;a=a.parentNode}return null},n=function(){if(a.getSelection){var c=a.getSelection();if(c.rangeCount>0)return c.getRangeAt(0)}else if(b.selection){var c=b.selection;return c.createRange()}return null},o=function(c,d){if(d)if(a.getSelection){var e=a.getSelection();e.removeAllRanges(),e.addRange(d)}else b.selection&&d.select()},p=function(){if(a.getSelection){var c=a.getSelection();if(!c.rangeCount)return!1;var d=c.getRangeAt(0).cloneRange();if(d.getBoundingClientRect){var e=d.getBoundingClientRect();return!(!e||0==e.left&&0==e.top&&0==e.right&&0==e.bottom)&&{left:parseInt(e.left),top:parseInt(e.top),width:parseInt(e.right-e.left),height:parseInt(e.bottom-e.top)}}}else if(b.selection){var c=b.selection;if("Control"!=c.type){var d=c.createRange();return{left:d.boundingLeft,top:d.boundingTop,width:d.boundingWidth,height:d.boundingHeight}}}return!1},q=function(c){if(a.getSelection){var d=a.getSelection();return!!d.isCollapsed}if(b.selection){var d=b.selection;if("Text"==d.type){var e=b.selection.createRange(),f=b.body.createTextRange();return f.moveToElementText(c),f.setEndPoint("EndToStart",e),0==e.htmlText.length}if("Control"==d.type)return!1}return!0},r=function(c){if(a.getSelection){var d=a.getSelection();if(!d.rangeCount)return[];for(var e=[],f=0;f<d.rangeCount;++f)for(var g=d.getRangeAt(f),h=g.startContainer,i=g.endContainer;h;){if(h!=c){var k=!1;if(d.containsNode)k=d.containsNode(h,!0);else{var n=b.createRange();n.selectNodeContents(h);for(var f=0;f<d.rangeCount;++f){var g=d.getRangeAt(f);if(g.compareBoundaryPoints(g.START_TO_START,n)<=0&&g.compareBoundaryPoints(g.END_TO_END,n)>=0){k=!0;break}}}k&&e.push(h)}h=m(h,h==i?i:c)}return 0==e.length&&l(c,d.focusNode)&&d.focusNode!=c&&e.push(d.focusNode),e}if(b.selection){var d=b.selection;if("Text"==d.type){for(var e=[],g=d.createRange(),h=c;h;){if(h!=c&&h.nodeType==j){var n=g.duplicate();n.moveToElementText(h),g.inRange(n)&&e.push(h)}h=m(h,c)}return 0==e.length&&l(c,b.activeElement)&&b.activeElement!=c&&e.push(b.activeElement),e}if("Control"==d.type){for(var e=[],g=d.createRange(),f=0;f<g.length;++f)e.push(g(f));return e}}return[]},s=function(){if(a.getSelection){var c=a.getSelection();c.isCollapsed||c.collapseToEnd()}else if(b.selection){var c=b.selection;if("Control"!=c.type){var d=c.createRange();d.collapse(!1),d.select()}}},t=function(c){if(q(c))return null;if(a.getSelection){var d=a.getSelection();if(d.rangeCount){for(var e=b.createElement("div"),f=d.rangeCount,g=0;f>g;++g){var h=d.getRangeAt(g).cloneContents();e.appendChild(h)}return e.innerHTML}}else if(b.selection){var d=b.selection;if("Text"==d.type){var i=d.createRange();return i.htmlText}}return null},u=function(c,d){if(a.getSelection){var e=a.getSelection();if(l(c,e.anchorNode)&&l(c,e.focusNode))return!0;if(!d)return!1;var f=b.createRange();f.selectNodeContents(c),f.collapse(!1),e.removeAllRanges(),e.addRange(f)}else if(b.selection){var e=b.selection;if("Control"==e.type){var f=e.createRange();if(0!=f.length&&l(c,f(0)))return!0}else{var g=b.body.createTextRange();g.moveToElementText(c);var f=e.createRange();if(g.inRange(f))return!0}if(!d)return!1;var f=b.body.createTextRange();f.moveToElementText(c),f.setEndPoint("StartToEnd",f),f.select()}return!0},v=function(c,d){if(a.getSelection){var e=a.getSelection();if(e.getRangeAt&&e.rangeCount){var f=e.getRangeAt(0),g=b.createElement("div");g.innerHTML=d;for(var h,i,j=b.createDocumentFragment();h=g.firstChild;)i=j.appendChild(h);l(c,f.commonAncestorContainer)?(f.deleteContents(),f.insertNode(j)):c.appendChild(j),i&&(f=f.cloneRange(),f.setStartAfter(i),f.collapse(!0),e.removeAllRanges(),e.addRange(f))}}else if(b.selection){var e=b.selection;if("Control"!=e.type){var k=e.createRange();k.collapse(!0);var f=e.createRange();if(l(c,f.parentElement()))f.pasteHTML(d);else{var m=b.body.createTextRange();m.moveToElementText(c),m.collapse(!1),m.select(),m.pasteHTML(d)}f=e.createRange(),f.setEndPoint("StartToEnd",k),f.select()}}};a.wysiwyg=function(d){d=d||{};var w=d.element||null,x=d.onkeypress||null,y=d.onselection||null,z=d.onplaceholder||null,A=d.hijackcontextmenu||!1,B="TEXTAREA"==w.nodeName||"INPUT"==w.nodeName;if(B){var C="contentEditable"in b.body;if(C){var D=c.userAgent.match(/(?:iPad|iPhone|Android).* AppleWebKit\/([^ ]+)/);D&&420<=parseInt(D[1])&&parseInt(D[1])<534&&(C=!1)}if(!C){var E=w,F=function(a){return a.replace(/<br[ \/]*>\n?/gi,"<br>\n")};E.value=F(E.value);var G=function(){return this},H=function(){return null};return{legacy:!0,getElement:function(){return E},getHTML:function(){return E.value},setHTML:function(a){return E.value=F(a),this},getSelectedHTML:H,sync:G,collapseSelection:G,openPopup:H,closePopup:G,removeFormat:G,bold:G,italic:G,underline:G,strikethrough:G,forecolor:G,highlight:G,fontName:G,fontSize:G,subscript:G,superscript:G,align:G,format:G,indent:G,insertLink:G,insertImage:G,insertHTML:G,insertList:G}}}var E=null,I=null;B?(E=w,E.style.display="none",I=b.createElement("DIV"),I.innerHTML=E.value,E.parentNode.insertBefore(I,E.nextSibling)):I=w,I.setAttribute("contentEditable","true");var J=b.all&&!b.addEventListener?b:a,K=null;if(B){var L=I.innerHTML;K=function(){var a=I.innerHTML;a!=L&&(E.value=a,L=a,h(E,"change",!1))}}var M;if(z){var N=!1;(M=function(){for(var a=!0,b=I;b;)if(b=m(b,I))if(b.nodeType==j){if("IMG"==b.nodeName){a=!1;break}}else if(b.nodeType==k){var c=b.nodeValue;if(c&&-1!=c.search(/[^\s]/)){a=!1;break}}N!=a&&(z(a),N=a)})()}var O=null,P=null,Q=null;y&&(P=function(b,c,d){var e=q(I),f=r(I),g=null===b||null===c?null:{left:b,top:c,width:0,height:0},h=p();if(h&&(g=h),g){if(I.getBoundingClientRect){var i=I.getBoundingClientRect();g.left-=parseInt(i.left),g.top-=parseInt(i.top)}else{var k=I,l=0,m=0,n=!1;do{l+=k.offsetLeft?parseInt(k.offsetLeft):0,m+=k.offsetTop?parseInt(k.offsetTop):0,"fixed"==k.style.position&&(n=!0)}while(k=k.offsetParent);g.left-=l-(n?0:a.pageXOffset),g.top-=m-(n?0:a.pageYOffset)}g.left<0&&(g.left=0),g.top<0&&(g.top=0),g.width>I.offsetWidth&&(g.width=I.offsetWidth),g.height>I.offsetHeight&&(g.height=I.offsetHeight)}else if(f.length)for(var o=0;o<f.length;++o){var k=f[o];if(k.nodeType==j){g={left:k.offsetLeft,top:k.offsetTop,width:k.offsetWidth,height:k.offsetHeight};break}}y(e,g,f,d)},Q=e(P,1));var R=null,S=function(b){if(!b)var b=a.event;var c=b.target||b.srcElement;c.nodeType==k&&(c=c.parentNode),l(R,c)||U()},T=function(){return R||(f(J,"mousedown",S),R=b.createElement("DIV"),b.body.appendChild(R),R)},U=function(){R&&(R.parentNode.removeChild(R),R=null,g(J,"mousedown",S))};f(I,"focus",function(){E&&h(E,"focus",!1)}),f(I,"blur",function(){K&&K(),E&&h(E,"blur",!1)});var V=null;if(M||K){var W=K?e(K,250,!0):null;V=e(function(){M&&M(),W&&W()},1),f(I,"input",V),f(I,"DOMNodeInserted",V),f(I,"DOMNodeRemoved",V),f(I,"DOMSubtreeModified",V),f(I,"DOMCharacterDataModified",V),f(I,"propertychange",V),f(I,"textInput",V),f(I,"paste",V),f(I,"cut",V),f(I,"drop",V)}var X=function(b,c){if(!b)var b=a.event;var d=0;b.keyCode?d=b.keyCode:b.which&&(d=b.which);var e=b.charCode;if(1==c&&x){if(!1===x(d,e?String(String):String.fromCharCode(d),b.shiftKey||!1,b.altKey||!1,b.ctrlKey||!1,b.metaKey||!1))return i(b)}if((2==c||3==c)&&(O=null,Q&&Q(null,null,!1)),2==c&&V)switch(d){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:break;default:V()}};f(I,"keydown",function(a){return X(a,1)}),f(I,"keypress",function(a){return X(a,2)}),f(I,"keyup",function(a){return X(a,3)});var Y=function(b,c){if(!b)var b=a.event;var d=null,e=null;b.clientX&&b.clientY?(d=b.clientX,e=b.clientY):b.pageX&&b.pageY&&(d=b.pageX-a.pageXOffset,e=b.pageY-a.pageYOffset),b.which&&3==b.which?c=!0:b.button&&2==b.button&&(c=!0),g(J,"mouseup",Y),O=null,(A||!c)&&Q&&Q(d,e,c)};f(I,"mousedown",function(){g(J,"mouseup",Y),f(J,"mouseup",Y)}),f(I,"mouseup",function(a){Y(a),V&&V()}),f(I,"dblclick",function(a){Y(a)}),f(I,"selectionchange",function(a){Y(a)}),A&&f(I,"contextmenu",function(a){return Y(a,!0),i(a)});var Z=function(c,d,e){if(o(I,O),!u(I,e))return!1;if(a.getSelection)try{return!(b.queryCommandSupported&&!b.queryCommandSupported(c))&&b.execCommand(c,!1,d)}catch(f){}else if(b.selection){var f=b.selection;if("None"!=f.type){var g=f.createRange();try{return!!g.queryCommandEnabled(c)&&g.execCommand(c,!1,d)}catch(f){}}}return!1},$=function(a){V&&V(),a?(s(),O=null):O&&(O=n(I))};return{getElement:function(){return I},getHTML:function(){return I.innerHTML},setHTML:function(a){return I.innerHTML=a,$(!0),this},getSelectedHTML:function(){return o(I,O),u(I)?t(I):null},sync:function(){return K&&K(),this},collapseSelection:function(){return s(),O=null,this},openPopup:function(){return O||(O=n(I)),T()},closePopup:function(){return U(),this},removeFormat:function(){return Z("removeFormat"),Z("unlink"),$(),this},bold:function(){return Z("bold"),$(),this},italic:function(){return Z("italic"),$(),this},underline:function(){return Z("underline"),$(),this},strikethrough:function(){return Z("strikeThrough"),$(),this},forecolor:function(a){return Z("foreColor",a),$(),this},highlight:function(a){return Z("hiliteColor",a)||Z("backColor",a),$(),this},fontName:function(a){return Z("fontName",a),$(),this},fontSize:function(a){return Z("fontSize",a),$(),this},subscript:function(){return Z("subscript"),$(),this},superscript:function(){return Z("superscript"),$(),this},align:function(a){return"left"==a?Z("justifyLeft"):"center"==a?Z("justifyCenter"):"right"==a?Z("justifyRight"):"justify"==a&&Z("justifyFull"),$(),this},format:function(a){return Z("formatBlock",a),$(),this},indent:function(a){return Z(a?"outdent":"indent"),$(),this},insertLink:function(a){return Z("createLink",a),$(!0),this},insertImage:function(a){return Z("insertImage",a,!0),$(!0),this},insertHTML:function(a){return Z("insertHTML",a,!0)||(o(I,O),u(I,!0),v(I,a)),$(!0),this},insertList:function(a){return Z(a?"insertOrderedList":"insertUnorderedList"),$(),this},redo:function(){return Z("redo"),this},undo:function(){return Z("undo"),this}}}}(window,document,navigator),angular.module("wedo",["lego.content.viewer","lego.content.help","lego.content.common","lego.content.overviews","lego.content.documentation","lego.content.mediaPreview","lego.templates"]).config(["$logProvider","$routeProvider","$compileProvider","VIEWS","CommunicationHandlerProvider","ConfigProvider","$sceDelegateProvider",function(a,b,c,d,e,f,g){f.setConfig(window.settings),c.debugInfoEnabled(window.settings.debug),a.debugEnabled(window.settings.debug),c.imgSrcSanitizationWhitelist(/^\s*((https?|ftp|file|blob|ms-local-stream|chrome-extension):|data:image\/)/),g.resourceUrlWhitelist(["**"]),b.when("/connectionerror",{controller:"ConnectionErrorController",templateUrl:d.BASE+"connectionerror.tpl.html",reloadOnSearch:!1}).otherwise({templateUrl:d.BASE+"frontpage.html",reloadOnSearch:!1})}]).run(["$rootScope","$location","UnityMessageService","LanguageService","ConnectionCenterService","NoMouseZoomService",function(a,b,c,d,e,f){c.requestLocationSetup(),c.getLanguage(),e.init(),f.attachListener(),a.$on("$routeChangeSuccess",function(a,d,e){if(!angular.isUndefined(d.$$route)&&"ProjectViewController"!==d.$$route.controller&&"/connectionerror"!==d.$$route.originalPath){var f=d.$$route.UNITY_PREFIX;angular.isUndefined(f)&&(f="library"===d.locals.Overview?"CL":"CM"),c.updateCurrentUrl(encodeURIComponent(f+":"+b.absUrl()))}})}]),angular.module("lego.content.common",["ui.bootstrap"]).run(["GlobalHooks","PathService","$rootScope","PlatformService","$timeout","$log",function(a,b,c,d,e,f){function g(){c.screenWidth=angular.element("body")[0].clientWidth,c.screenHeight=angular.element("body")[0].clientHeight,c.libraryBlockContainerStyle={height:(Math.round(334/c.referenceWidth*c.screenWidth)||0)+"px"}}(d.isWSA()||d.isWin10Desktop())&&(document.ondragstart=function(){return!1}),d.isWin10Desktop()&&(window.addEventListener("dragover",function(a){a.stopPropagation(),a.preventDefault()},!1),window.addEventListener("drop",function(a){a.preventDefault()},!1)),
b.ensureProjectPathIsSet().then(function(){return c.PROJECT_PATH_PREFIX=b.getProjectPath(),b}),c.$on("projectPathChanged",function(){e(function(){f.debug("[CommonModule] Set rootscope path var after project path changed"),c.PROJECT_PATH_PREFIX=b.getProjectPath()})}),c.referenceWidth=1856,c.referenceHeight=1536,g(),$(window).on("resize",function(){e(function(){g()})})}]),angular.module("lego.content.documentation",["ngRoute","ui.bootstrap","ngAnimate","hmTouchEvents","ngTouch","ngSanitize","rt.debounce","lego.content.common"]).config(["$routeProvider","$locationProvider","DOCUMENTATION.VIEW","$provide",function(a,b,c,d){d.decorator("$templateCache",["$delegate",function(a){var b=a.get;return a.get=function(){var c=Array.prototype.slice.call(arguments);return c[0]=c[0].replace(/\?r=.+/gim,""),b.apply(a,c)},a}]),a.when("/documentation",{UNITY_PREFIX:"SDT",templateUrl:c.DOCUMENTATION_TOOL,controller:"DocumentationToolController",resolve:{Project:["UnityMessageService","$q","$window",function(a,b,c){var d=b.defer();return c.loadProject=function(a){return delete c.loadProject,d.resolve(a)},a.loadProject(),d.promise}],Locked:["UnityMessageService","$q","$window",function(a,b,c){var d=b.defer();return c.setLockedStatus=function(a){return delete c.setLockedStatus,d.resolve(a)},a.lockedStatus(),d.promise}],PathService:["$q","PathService","$rootScope",function(a,b,c){return b.useSDTAsPath(),b.ensureSDTPathIsSet().then(function(){return b})}]},reloadOnSearch:!1})}]),angular.module("lego.content.help",["lego.content.common"]).config(["$routeProvider","$locationProvider","HELP.VIEW",function(a,b,c){a.when("/help",{UNITY_PREFIX:"HELP",templateUrl:c.HELP,controller:"HelpController",resolve:{PageStateService:["PageStateService",function(a){return a.setCurrentSection("help"),a}],PathService:["PathService",function(a){return a.useProjectAsPath(),a}],helpFile:["PathService","legoWS","LanguageService",function(a,b,c){var d=a.getProjectPath()+"translations/help/"+c.getCurrentLanguage()+".json";return b.get(d).then(function(a){return a.data})}]},reloadOnSearch:!1})}]),angular.module("lego.content.mediaPreview",["ngRoute","hmTouchEvents","ngTouch","ngSanitize","lego.content.common","lego.templates"]).config(["$routeProvider","$locationProvider","MEDIAPREVIEW.VIEW",function(a,b,c){a.when("/media-preview",{UNITY_PREFIX:"MCPD",templateUrl:c.MEDIA_PREVIEW,controller:"MediaPreviewController",controllerAs:"MPCtrl",classes:["media-preview"],resolve:{PathService:["PathService",function(a){return a.useProjectAsPath(),a}]}})}]),angular.module("lego.content.overviews",["lego.content.common","ngAnimate"]).config(["$routeProvider","$locationProvider","OVERVIEWS.VIEW",function(a,b,c){a.when("/library/:popupProjectId?",{UNITY_PREFIX:"CL",templateUrl:c.LIBRARY,controller:"LibraryController",reloadOnSearch:!1,resolve:{PathService:["PathService",function(a){return a.useProjectAsPath(),a}]}}).when("/models",{UNITY_PREFIX:"CM",templateUrl:c.MODELS,controller:"ModelsController",reloadOnSearch:!1,resolve:{PathService:["PathService",function(a){return a.useProjectAsPath(),a}]}}).when("/programs",{UNITY_PREFIX:"CM",templateUrl:c.PROGRAMS,controller:"ProgramController",resolve:{projects:["ProjectService",function(a){return a.getPrograms()}],PathService:["PathService",function(a){return a.useProjectAsPath(),a}]},reloadOnSearch:!1})}]),angular.module("lego.content.viewer.basic",["rt.debounce"]),angular.module("lego.content.viewer",["ngRoute","ngAnimate","hmTouchEvents","ngTouch","ngSanitize","lego.content.common","lego.templates","lego.content.viewer.basic"]).config(["$routeProvider","$locationProvider","VIEWER.VIEW",function(a,b,c){a.when("/:overview/project/:id",{templateUrl:c.PROJECT_VIEW,controller:"ProjectViewController",resolve:{Overview:["$route","PageStateService",function(a,b){var c=a.current.params.overview;return b.setCurrentSection(c),c}],Project:["$route","ProjectService",function(a,b){return b.get(a.current.params.id)}],PathService:["PathService",function(a){return a.useProjectAsPath(),a}]}})}]),angular.module("lego.content.common").constant("TEMPLATES",[{url:"A.tpl.html",sdt:!0},{url:"B.tpl.html",sdt:!0},{url:"C.tpl.html",sdt:!0},{url:"D.tpl.html",sdt:!0},{url:"E.tpl.html",sdt:!0},{url:"F.tpl.html",sdt:!0},{url:"G.tpl.html",isHalfPage:!0},{url:"H.tpl.html",isHalfPage:!0},{url:"I.tpl.html",isHalfPage:!0,branchEnd:!0},{url:"s1.tpl.html"},{url:"J.tpl.html",isHalfPage:!0},{url:"internals/branch-2.tpl.html",branchStart:!0,numberOfBranches:2},{url:"C.tpl.html",isQuarterPage:!0},{url:"celebration.tpl.html"},{url:"celebration-v2.tpl.html"}]),angular.module("lego.content.common").constant("VIEWS",{BASE:"common/views/"}),angular.module("lego.content.common").controller("ConnectionErrorController",["$log","$scope","$location","legoWS","LanguageService","UnityMessageService",function(a,b,c,d,e,f){b.retry=function(){d.lastLocationWithFailure()&&(a.debug("[ConnectionErrorController] Attempting reload of language"),e.reload().then(function(){a.debug("[ConnectionErrorController] Language reloaded. Reload path: ",d.lastLocationWithFailure()),c.url(d.lastLocationWithFailure())}))},b.getTranslation=function(a){return e.getOffline(a)},f.viewLoadingComplete("Unknown")}]),angular.module("lego.content.common").controller("MainController",["$scope","PlatformService",function(a,b){var c=this;c.body_classes=[],c.body_classes.push(b.getPlatform()),a.$on("$routeChangeSuccess",function(a,d){d.$$route?c.body_classes=d.$$route.classes||[]:c.body_classes=[],c.body_classes.push(b.getPlatform())})}]),angular.module("lego.content.common").directive("indicateScroll",["debounce",function(a){return{restrict:"A",scope:!0,link:function(a,b){function c(){b[0].offsetHeight<b[0].scrollHeight?(b.addClass("has-scroll"),b[0].offsetHeight+b[0].scrollTop+1<b[0].scrollHeight?(b.removeClass("scroll-margin"),b.after(d)):(b.addClass("scroll-margin"),d.remove())):(b.removeClass("has-scroll"),b.removeClass("scroll-margin"),d.remove())}var d=angular.element('<div class="scroll-indicator"><i class="fa fa-chevron-down"></i></div>');c(),b.on("scroll",function(a){c()}),a.$watch(function(){return b[0].offsetHeight},function(a,b){a!==b&&c()}),a.$watch(function(){return b[0].scrollHeight},function(a,b){a!==b&&c()})}}}]),angular.module("lego.content.common").directive("noModalScroll",[function(){return{restrict:"A",link:function(a,b,c){var d=$(b);d.on("touchstart touchmove",function(a){d.hasClass("modal-open")&&!$(a.target).parents().hasClass("modal-content")&&a.preventDefault()})}}}]),angular.module("lego.content.common").directive("noSwipeWhenPlaying",[function(){return{restrict:"A",link:function(a,b,c){var d=$(b);d.on("playing",function(){d.addClass("no-swipe")}).on("touchstart touchmove",function(a){d.hasClass("no-swipe")&&a.stopPropagation()})}}}]),angular.module("lego.content.common").directive("pagePan",["debounce","PlatformService","DirectionService",function(a,b,c){return{restrict:"A",scope:!0,link:function(d,e,f){function g(a,c){return!b.isWin7()&&(angular.isUndefined(c)||!$("body").hasClass("vertical-navigation")&&void 0!==c&&"VIDEO"!==c.target.nodeName&&0===$(c.target).closest(".wysiwyg-editor").length&&0===$(c.target).closest(".zoom-holder").length&&0===$(c.target).closest(".no-page-pan").length&&0===$(c.target).closest(".carousel-controls").length&&"INPUT"!==c.target.nodeName)}function h(){c.getDirection()===c.LTR?d.$parent.swipeNextPage(event.target):d.$parent.swipePreviousPage(event.target)}function i(){c.getDirection()===c.LTR?d.$parent.swipePreviousPage(event.target):d.$parent.swipeNextPage(event.target)}function j(a){y=!0,z=0;var b=e.find(".pan-target");t=b.length>0?b:e,s=t[0],t.addClass("panning"),$("body").addClass("page-panning")}function k(a){if(y){var b,c,d=u.clientWidth,e=u.clientHeight;if(angular.isDefined(a.srcEvent.clientX)?(b=a.srcEvent.clientX,c=a.srcEvent.clientY):angular.isDefined(a.srcEvent.targetTouches[0].clientX)&&(b=a.srcEvent.targetTouches[0].clientX,c=a.srcEvent.targetTouches[0].clientY),b<0||b>d||c<0||c>e)return;z=a.deltaX,o(z),A(a),b&&(b<q||b>d-q)&&m(a)}}function l(a){y&&(y=!1,x.state=1,n())}function m(a){y&&(a.type="panend",a.eventType=4,a.isFinal=!0,w.emit("panend",a),w.stop(!0))}function n(){t.removeClass("panning"),$("body").removeClass("page-panning"),Math.abs(z)>u.clientWidth*p?(event=angular.isDefined(event)?event:{},event.target=angular.isDefined(event.target)?event.target:{classList:[]},z<0&&!d.$parent.canSwipeLeft()?(h(),o(-100,"%")):z>0&&!d.$parent.canSwipeRight()?(i(),o(100,"%")):(z=0,o(z))):(z=0,o(z))}function o(a,b){b=b||"px",null!==s&&(s.style["-webkit-transform"]="translate3d("+a+b+",0,0)",s.style["-moz-transform"]="translate3d("+a+b+",0,0)",s.style["-o-transform"]="translate3d("+a+b+",0,0)",s.style["-ms-transform"]="translate3d("+a+b+",0,0)",s.style.transform="translate3d("+a+b+",0,0)")}var p=.2,q=20,r=300;d.$on("$destroy",function(a){w.destroy()});var s,t,u=e[0],v={dragLockToAxis:!0,dragBlockHorizontal:!0,domEvents:!0},w=new Hammer.Manager(u,v),x=new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,enable:g});w.add(x),w.on("panstart",j),w.on("panmove",k),w.on("panend",l);var y=!1,z=0,A=a(r,function(a){m(a)})}}}]),angular.module("lego.content.common").directive("playStop",["$timeout",function(a){return{restrict:"A",transclude:!0,scope:!0,link:function(a,b,c){$(b)[0].play(),$(b).on("loadedmetadata",function(){$(b)[0].pause()})}}}]),angular.module("lego.content.common").filter("translate",["LanguageService",function(a){return function(b,c){return c.translations[a.getCurrentLanguage()][b]}}]).filter("translateSection",["LanguageService",function(a){return function(b){return a.get("sections."+b)}}]),angular.module("lego.content.common").factory("CommunicationHandler.chromeos",["$window","$q","$log",function($window,$q,$log){function _processQueue(a){var b,c=$q.defer();if($log.debug("[CommunicationHandler.chromeos] - PRE - [_processQueue]",a),appWindow&&appOrigin){$log.debug("[CommunicationHandler.chromeos] - [_processQueue]",a);var d="?timestamp="+(new Date).getTime();-1!==a.indexOf("?")?a.replace("?",d+"&"):a+=d,b={sender:"content",target:"Content",method:"invokeUnity",data:["uniwebview://"+a]},appWindow.postMessage(b,appOrigin),c.resolve()}else $log.debug("[CommunicationHandler.chromeos] - [_processQueue] - NOT READY"),c.reject();return c.promise}function _handleMessage(event){event.data&&event.data.requester&&"teachingassistant"===event.data.requester||(event.data&&event.data.code&&"requestNextUniWebViewMessage()"!==event.data.code&&$log.debug("[CommunicationHandler.chromeos] - [_handleMessage]",event),appWindow||(appWindow=event.source),appOrigin||(appOrigin=event.origin),event.data.code?eval(event.data.code):nextHandler())}function _attach(a){$log.debug("[CommunicationHandler.chromeos] - [_attach]"),$window.addEventListener("message",_handleMessage),nextHandler=a,$window.requestNextUniWebViewMessage=function(){a()}}function _sendData(a,b){var c,d=$q.defer();return $log.debug("[CommunicationHandler.chromeos] - PRE - [_sendData]",a),appWindow&&appOrigin?($log.debug("[CommunicationHandler.chromeos] - [_sendData]",a),c={sender:"content",target:"Content",method:a,data:[b]},appWindow.postMessage(c,appOrigin),d.resolve()):($log.debug("[CommunicationHandler.chromeos] - [_sendData] - NOT READY"),d.reject()),d.promise}var appWindow,appOrigin,nextHandler;return{attach:_attach,processQueue:_processQueue,sendData:_sendData}}]),angular.module("lego.content.common").factory("CommunicationHandler.ios",["$window","$q","$log",function(a,b,c){function d(a){c.debug("[CommunicationHandler.ios] - [_processQueue]",a);var d=b.defer(),e="?timestamp="+(new Date).getTime();return-1!==a.indexOf("?")?a.replace("?",e+"&"):a+=e,g.src="uniwebview://"+a,d.resolve(),d.promise}function e(a){c.debug("[CommunicationHandler.ios] - [_attach]"),g=document.createElement("iframe"),g.style.height="0",g.style.width="0",g.style.opacity="0",g.style.lineHeight="0",g.style.position="absolute",g.style.border="0",document.body.appendChild(g),f(a)}function f(b){a.requestNextUniWebViewMessage=function(){return c.debug("[CommunicationHandler.ios] - [requestNextUniWebViewMessage]"),b()}}var g;return{attach:e,processQueue:d}}]),angular.module("lego.content.common").factory("CommunicationHandler.win7",["$window","$q","$log",function(a,b,c){function d(d){c.debug("[CommunicationHandler.win7] - [_processQueue]");var e=b.defer();return a.UWK.sendMessage("UnityMessage",{Message:d}),e.resolve(),e.promise}function e(b){c.debug("[CommunicationHandler.win7] - [_attach]"),a.UWK.subscribe("requestNextUniWebViewMessage",function(){b()}),a.requestNextUniWebViewMessage=function(){c.debug("[CommunicationHandler.win7] - requestNextUniWebViewMessage on window"),b()}}return{attach:e,processQueue:d}}]),angular.module("lego.content.common").factory("CommunicationHandler.wsa",["$window","$q","$log",function(a,b,c){function d(d){c.debug("[CommunicationHandler.wsa] - [_processQueue]");var e=b.defer();return a.external.notify("UnityMessage:"+d),e.resolve(),e.promise}function e(a){c.debug("[CommunicationHandler.wsa] - [_attach]"),f(a)}function f(b){a.requestNextUniWebViewMessage=function(){return c.debug("[CommunicationHandler.wsa] - [requestNextUniWebViewMessage]"),b()}}return{attach:e,processQueue:d}}]),angular.module("lego.content.common").factory("ExportHandler.chromeos",["$timeout","$q","$log","ExportService","CommunicationHandler",function(a,b,c,d,e){function f(){c.debug("Exporting image from chromeos export handler");var a=b.defer();return d.startExporting(),d.getImage().then(function(b){e.sendData("handleExportImage",b).then(angular.noop,function(){c.error("Export failed because of CommunicationHandler"),delete window.ExportDone,d.doneExporting(),a.reject()}),window.ExportDone=function(){c.debug("Export image done in ExportHandler"),delete window.ExportDone,d.doneExporting(),a.resolve()}}),a.promise}function g(f){var g=b.defer(),h=f.output("datauristring");return e.sendData("handleExportPdf",h).then(angular.noop,function(){c.error("Export failed because of ExportHandler"),delete window.ExportDone,d.doneExporting(),g.reject()}),window.ExportDone=function(){delete window.ExportDone,a(function(){c.debug("ExportDone called in ExportHandler"),d.doneExporting(),g.resolve()},0)},g.promise}return{exportImage:f,exportPdf:g}}]),angular.module("lego.content.common").factory("ExportHandler.default",["$timeout","$q","$log","ExportService","UnityMessageService",function(a,b,c,d,e){function f(){c.debug("[ExportHandler.default] Exporting image");var a=b.defer();return d.startExporting(),d.getImage().then(function(b){e.exportImage(),window.getExportImage=function(){return delete window.getExportImage,b},window.ExportDone=function(){c.debug("[ExportHandler.default] Export image done"),delete window.ExportDone,d.doneExporting(),a.resolve()}}),a.promise}function g(c){var f=b.defer(),g=c.output("datauristring");return e.exportPDF(),window.getExportPDF=function(){return delete window.getExportPDF,g},window.ExportDone=function(){delete window.ExportDone,a(function(){d.doneExporting(),f.resolve()},0)},f.promise}return{exportImage:f,exportPdf:g}}]),function(a){a.module("lego.content.common").provider("CommunicationHandler",function(){return{$get:["$injector","$log","Config","PlatformService",function(a,b,c,d){function e(a){var b=["attach","processQueue"],c=Object.keys(a);b.forEach(function(a){if(-1===c.indexOf(a))throw new Error("Missing method: "+a)})}var f,g=c.get("platform");try{b.debug("Trying to load communicationhandler for CommunicationHandler",g),g!==d.availablePlatforms.ANDROID&&g!==d.availablePlatforms.OSX||(g=d.availablePlatforms.IOS),g!==d.availablePlatforms.UWP&&g!==d.availablePlatforms.WIN10DESKTOP||(g=d.availablePlatforms.WSA),f=a.get("CommunicationHandler."+g),e(f)}catch(h){b.error("No CommunicationHandler found for the provided platform.",g)}return f}]}})}(angular),angular.module("lego.content.common").provider("Config",function(){function a(a){b=a}var b;return{setConfig:a,$get:function(){return{get:function(a){return b[a]}}}}}),function(a){a.module("lego.content.common").provider("ExportHandler",function(){return{$get:["$injector","$log","Config",function(a,b,c){function d(a){var b=["exportImage","exportPdf"],c=Object.keys(a);b.forEach(function(a){if(-1===c.indexOf(a))throw new Error("Missing method: "+a)})}var e,f=c.get("platform");try{b.debug("Trying to load exporthandler for ExportHandler",f),e="chromeos"===f?a.get("ExportHandler.chromeos"):a.get("ExportHandler.default"),d(e)}catch(g){b.error("No ExportHandler found for the provided platform.",f)}return e}]}})}(angular),angular.module("lego.content.common").service("AnalyticService",["$log","UnityMessageService",function(a,b){return{enteredHelp:function(c){a.debug("[AnalyticService] Help entered: ",c),b.analyticHelpSection(c)},enteredProjectLibrary:function(){a.debug("[AnalyticService] Project library entered"),b.analyticProjectLibrary()},enteredProgramLibrary:function(){a.debug("[AnalyticService] Program library entered"),b.analyticProgramLibrary()},enteredModelLibrary:function(){a.debug("[AnalyticService] Model library entered"),b.analyticModelLibrary()},enteredSDT:function(){a.debug("[AnalyticService] SDT entered"),b.analyticSDT()},projectChangePage:function(c,d){a.debug('[AnalyticService] Open project "'+c+'" on page '+d),b.analyticProjectChangePage(c,d)},openProject:function(c){a.debug('[AnalyticService] Openening project "'+c+'"'),b.analyticOpenProject(c)},openTeacherAssistant:function(){a.debug("[AnalyticService] Open teacher assistant"),b.analyticOpenTeacherAssistant()},playProjectVideo:function(c){a.debug("[AnalyticService] Play project video: "+c),b.analyticPlayProjectVideo(c)},openBuildingInstructions:function(c){a.debug("[AnalyticService] Open building instructions, slide : "+c),b.analyticOpenInstructions(c)}}}]),angular.module("lego.content.common").service("ConnectionCenterService",["$log","$window","$timeout","UnityMessageService",function(a,b,c,d){function e(b){a.debug("[ConnectionCenterService] Update connected state: ",b),c(function(){f="true"===b},0)}var f=!1;return{init:function(){b.setConnectedState=e},getState:function(){return f},openConnectionCenter:function(){d.openConnectionCenter()}}}]),angular.module("lego.content.common").service("DirectionService",["$rootScope",function(a){function b(b){d=b,a.DIRECTION=d}function c(){return d}var d,e={getDirection:c,setDirection:b,LTR:"ltr",RTL:"rtl"};return e}]),angular.module("lego.content.common").service("EasyGettingStartedService",["Config",function(a){var b=["activities.introduction"];return{isSupportedCategory:function(a){return-1!==b.indexOf(a)},isSupported:function(){return!!a.get("showEGS")}}}]),angular.module("lego.content.common").service("GlobalHooks",["$rootScope","$location","$timeout","$window","$uibModalStack","UnityMessageService",function(a,b,c,d,e,f){d.unityEmitMessage=function(b,d){var e=arguments;c(function(){var c=Array.prototype.slice.call(e);c[0]="UnityAppBroadcast:"+b,a.$broadcast.apply(a,c)})},d.goto=function(a){angular.element(".modal.in").hide(),c(function(){e.dismissAll();var c=decodeURIComponent(a),d=c.substring(c.indexOf("#")+1),g=b.path(),h=d.split("?")[0];g===h?f.viewLoadingComplete("Unknown"):b.path(h)},!1)}}]),angular.module("lego.content.common").service("ImageService",["legoWS","Config","PathResolveService","$q",function(a,b,c,d){return{getImageFromFileName:function(a,d,e){return c.resolve("projects/"+a+"/images/"+d+"/"+b.get("mediaSizes").image.prefix+e+b.get("mediaSizes").image.suffix)},getImage:function(e,f){return f&&e?a.get("projects/"+e+"/images/"+f+"/metafile.json").then(function(a){return c.resolve("projects/"+e+"/images/"+f+"/"+b.get("mediaSizes").image.prefix+"raw."+a.data.fileExtension+b.get("mediaSizes").image.suffix)},function(){return""}).catch(function(){return""}):d.resolve("")}}}]),angular.module("lego.content.common").service("LanguageService",["$log","$rootScope","$q","$timeout","legoWS","$route","DirectionService","PathService",function(a,b,c,d,e,f,g,h){function i(a){return q=a,"arabic"===a?g.setDirection(g.RTL):g.setDirection(g.LTR),e.get(o+a+".json").then(function(a){n=a.data}),j()}function j(){if(!h.getProjectPath()||!q)return c.reject();var b=h.getProjectPath()+p+q+".json";return e.get(b).then(function(a){m=a.data,f.reload()},function(){a.error("[LanguageService] Error fetching language",q)})}function k(){var b=m,c=Array.prototype.slice.call(arguments);return angular.isDefined(b)&&c.forEach(function(a){b=b[a]}),angular.isUndefined(b)&&a.debug("[LanguageService] Get returning undefined for args",c),b}function l(){var a=n;return Array.prototype.slice.call(arguments).forEach(function(b){a=a[b]}),a}var m,n,o="offline/",p="translations/content/",q="ENUS";return b.$on("UnityAppBroadcast:LanguageChange",function(b,c){a.debug("[LanguageService] Language change from Unity"),i(c)}),b.$on("projectPathChanged",function(){d(function(){a.debug("[LanguageService] Reload language after project path change"),j()})}),{set:i,get:k,getOffline:l,getCurrentLanguage:function(){return q},reload:j}}]),angular.module("lego.content.common").service("legoWS",["$log","$window","$q","$http","$location","PathService","PathResolveService",function(a,b,c,d,e,f,g){function h(d){return function(){return a.debug("[LEGOWS] Error in fetching online resource: "+d),"http"===d.substring(0,"http".length)&&("/connectionerror"!==e.url()&&b.localStorage.setItem(i,e.url()),a.debug("[LEGOWS] Setting last location as",b.localStorage.getItem(i)),e.path("/connectionerror")),c.reject()}}var i="lastLocationWithFailure";return{lastLocationWithFailure:function(){return b.localStorage.getItem(i)},post:function(a,b){return d.post(a,b).catch(h(a))},get:function(a){if(a=a+"?"+(new Date).getTime(),"projects"===a.substring(0,"projects".length)){var b=g.resolve(f.getProjectPath()+a);return d.get(b).catch(h(b))}return d.get(a).catch(h(a))},delete:function(a){return d.delete(a).catch(h(a))}}}]),angular.module("lego.content.common").service("MovieService",["legoWS","Config",function(a,b){return{getMovie:function(c,d){return a.get("projects/"+c+"/movies/"+d+"/metafile.json").then(function(a){return"projects/"+c+"/movies/"+d+"/"+b.get("mediaSizes").movie.prefix+"raw."+a.data.fileExtension+b.get("mediaSizes").movie.suffix},function(){return""})}}}]),angular.module("lego.content.common").service("NoMouseZoomService",["$window",function(a){return{attachListener:function(){document.addEventListener("mousewheel",function(a){!0===a.ctrlKey&&(a.preventDefault(),a.stopPropagation())})}}}]),angular.module("lego.content.common").service("PageStateService",[function(){var a={},b="";return{getSectionState:function(b){return a[b]},clearSectionState:function(b){a[b]={}},updateSectionState:function(b,c,d){angular.isUndefined(a[b])&&(a[b]={}),a[b][c]=d},setCurrentSection:function(a){b=a},getCurrentSection:function(){return b},getCurrentSectionState:function(){return""!==b?a[b]:void 0}}}]),angular.module("lego.content.common").service("PageStatusService",["$q",function(a){function b(a){return e.resolve(a)}var c,d=0,e=null;return{reset:function(){d=0,c=null,null!==e&&e.reject(),e=null},setExceptedElements:function(a){c=a},elementLoaded:function(){++d===c&&b(!1)},allElementsLoaded:function(){return e=a.defer(),0===c&&b(!0),e.promise}}}]),angular.module("lego.content.common").service("PathResolveService",["PlatformService","Config",function(a,b){var c={},d=/\-([\-a-z0-9])*/gim;return c.resolve=function(b){if(a.isWindows()&&b.indexOf("projects/")>-1){var c=b.split("projects/"),e=c[1].split("/");return e[0]=e[0].replace(d,""),e[2]&&(e[2]=e[2].replace(d,"")),c[0]+"projects/"+e.join("/")}return b},c}]),angular.module("lego.content.common").service("PathService",["$log","$rootScope","$window","$q","$timeout","UnityMessageService",function(a,b,c,d,e,f){function g(){return q||""}function h(c){a.debug("[PathService] Setting project path: ",c),q=c,b.$broadcast("projectPathChanged")}function i(){var a=d.defer();return void 0===q?(c.setProjectPath=function(b){h(b),a.resolve(),c.setProjectPath=h},f.getProjectPath()):a.resolve(),a.promise}function j(){return p||""}function k(a){p=a}function l(){var a=d.defer();return c.setSDTPath=function(b){k(b),a.resolve()},f.getSDTPath(),a.promise}function m(){r="SDT"}function n(){r="Project"}function o(){if("SDT"===r)return j();if("Project"===r)return g();throw new Error("No currentPath!")}var p,q,r;return c.setProjectPath=h,c.setSDTPath=function(a){p=a},{getProjectPath:g,setProjectPath:h,ensureProjectPathIsSet:i,setSDTPath:k,getSDTPath:j,ensureSDTPathIsSet:l,useSDTAsPath:m,useProjectAsPath:n,getCurrentPath:o}}]),angular.module("lego.content.common").service("PlatformService",["Config",function(a){function b(){return c}var c=a.get("platform"),d={IOS:"ios",ANDROID:"android",WSA:"wsa",UWP:"uwp",WIN7:"win7",OSX:"osx",CHROMEOS:"chromeos",WIN10DESKTOP:"win10desktop"};return{availablePlatforms:d,getPlatform:b,isIOS:function(){return b()===d.IOS},isOSX:function(){return b()===d.OSX},isWSA:function(){return b()===d.WSA},isUWP:function(){return b()===d.UWP},isWin7:function(){return b()===d.WIN7},isWin10Desktop:function(){return b()===d.WIN10DESKTOP},isWindows:function(){return b()===d.WSA||b()===d.UWP||b()===d.WIN7||b()===d.WIN10DESKTOP},isAndroid:function(){return b()===d.ANDROID},isChromeOS:function(){return b()===d.CHROMEOS}}}]),angular.module("lego.content.common").service("ProjectService",["legoWS","$q","ImageService","TextService","PathService",function(a,b,c,d,e){var f,g="allProjects.json";return _load=function(){var c=b.defer();return void 0===f?a.get(g).then(function(a){return f=a.data,c.resolve(f)}):c.resolve(f),c.promise},_getProjectsById=function(a){return a.map(function(a){return _getProject(a)})},_getProject=function(b){return a.get("projects/"+b+"/metafile.js").then(function(a){return a.data}).then(function(a){return d.getText(a.id,a.title_id).then(function(b){return a.title=""!==b?b:a.name,a})}).then(function(a){return c.getImage(a.id,a.thumbnailImageId).then(function(b){return a.thumbnailUrl=b,a})})},{getAllByTypes:function(a){return _load().then(function(){return _getAllByTypes(a)})},get:_getProject,load:_load,getLibrary:function(){return a.get(e.getProjectPath()+"library.json").then(function(a){return a.data})},getModels:function(){return a.get(e.getProjectPath()+"models.json").then(function(a){return a.data})},getPrograms:function(){return a.get(e.getProjectPath()+"programs.json").then(function(a){return a.data})}}}]),angular.module("lego.content.common").service("ResourceService",["TextService","ImageService","MovieService","SlideshowService",function(a,b,c,d){var e,f="shared";return{setCurrentProjectId:function(a){e=a},getSharedImage:function(a){return b.getImage(f,a)},getImage:function(a){return b.getImage(e,a)},getText:function(b){return a.getText(e,b)},getSharedMovie:function(a){return c.getMovie(f,a)},getMovie:function(a){return c.getMovie(e,a)},getSharedSlideshow:function(a){return d.getSlideshow(f,a)},getSlideshow:function(a){return d.getSlideshow(e,a)}}}]),angular.module("lego.content.common").service("SlideshowService",["legoWS","Config","PathResolveService",function(a,b,c){return{getSlideshow:function(d,e){var f="projects/"+d+"/slideshows/"+e;return a.get(f+"/metafile.json").then(function(a){return a.data.pages}).then(function(a){return a.map(function(a){return c.resolve(f+"/"+b.get("mediaSizes").slideshow.prefix+a+b.get("mediaSizes").slideshow.suffix)})})}}}]),angular.module("lego.content.common").service("TeachingAssistantService",["LanguageService","PathService","DirectionService","PlatformService",function(a,b,c,d){var e=["ENUS","ENUK","en_au","FRFR","ES","chinese","japanese","korean","GER","NLNL"],f=["thinking.open","thinking.guided"];return{isComputationalCategory:function(a){return-1!==f.indexOf(a)},isSupportedLanguage:function(){return e.reduce(function(b,c){return b||a.getCurrentLanguage()===c},!1)},createUrl:function(d){return b.getProjectPath()+"projects/shared/tas/"+d+"/index.html?lang="+a.getCurrentLanguage()+"&direction="+c.getDirection()},containerStyling:function(){return d.isIOS()?{"overflow-y":"scroll","-webkit-overflow-scrolling":"touch"}:{}}}}]),angular.module("lego.content.common").service("TemplateService",["DirectionService","TEMPLATES","PlatformService","Config",function(a,b,c,d){function e(a){return d.get("useConnectionCenter")&&angular.equals(a,b[12])?k:a.isHalfPage?i:a.isQuarterPage?j:k}function f(a){return b[a]}function g(b){return d.get("useConnectionCenter")&&12===b?"templates/connection-center.tpl.html":c.isChromeOS()&&12===b?"templates/chrome-project-connect-hack.tpl.html":"templates/"+a.getDirection()+"/"+f(b).url}function h(){return b}var i="Half",j="Quarter",k="Full";return{getTemplateSize:e,getTemplate:f,getTemplateUrl:g,getAll:h,HALF_MODE:i,QUARTER_MODE:j,FULL_MODE:k}}]),angular.module("lego.content.common").service("TextService",["legoWS","LanguageService","PlatformService",function(a,b,c){return{getText:function(d,e){var f=b.getCurrentLanguage();return c.isUWP()&&"ES"===f&&(f="spanish"),a.get("projects/"+d+"/languages/"+f+"/strings.json").then(function(a){var b=a.data.Strings.String.filter(function(a){if(a.refId===e)return a.string});return b.length>0?b[0].string:""})}}}]),function(a){function b(b,c,d,e,f){function g(){var b=j.shift();f.processQueue(b).then(a.noop,function(){j.unshift(b)})}function h(){j.length>0?g():k=!0}function i(a){j.push(a),k&&(k=!1,h())}var j=[],k=!0;return f.attach(h),{requestLocationSetup:function(){i("CurrentLocationRequest?")},playVideo:function(a){i("PlayVideo?Path="+encodeURIComponent(a))},getPlatform:function(){i("GetPlatform?")},pageSize:function(a){i("UpdateWebViewSize?Size="+a)},fullPage:function(){i("UpdateWebViewSize?Size=Full")},updateCurrentUrl:function(a){i("UpdateReturnURL?URL="+a)},deleteMedia:function(a){i("DeleteMedia?Path="+encodeURIComponent(a))},showImagePicker:function(a,b,c){i("ShowMediaPicker?Type=Image&PositionX="+a+"&PositionY="+b+"&ElementID="+c)},showVideoPicker:function(a,b,c){i("ShowMediaPicker?Type=Video&PositionX="+a+"&PositionY="+b+"&ElementID="+c)},enableButton:function(a){i("UpdateButtonState?EnableButton="+a)},disableButton:function(a){i("UpdateButtonState?DisableButton="+a)},loadProject:function(){i("LoadProject?")},getSDTPath:function(){i("ApplicationDataPath?")},getProjectPath:function(){i("ProjectDataPath?")},lockedStatus:function(){i("LockedStatus?")},getLanguage:function(){i("Language?Request=Current")},previewImageReady:function(){i("LobbySDTPreview?")},exportImage:function(){i("Export?Type=Image")},exportPDF:function(){i("Export?Type=PDF")},showFormatAdorner:function(){i("FormatAdorner?State=Show")},hideFormatAdorner:function(){i("FormatAdorner?State=Hide")},analyticLog:function(a,b){i("AnalyticEvent?"+a+"="+b)},openConnectionCenter:function(){i("ShowConnectionCenter?")},showBlockDragHint:function(a){i("ShowBlockDragHint?StartBlock="+a)},hideBlockDragHint:function(){i("ShowBlockDragHint?StartBlock=")},analyticHelpSection:function(a){i("AnalyticStateHelp?Section="+a)},analyticProjectLibrary:function(){i("AnalyticStateProjectLibrary?")},analyticModelLibrary:function(){i("AnalyticStateModelLibrary?")},analyticProgramLibrary:function(){i("AnalyticStateProgramLibrary?")},analyticSDT:function(){i("AnalyticStateSDT?")},analyticOpenProject:function(a){i("AnalyticOpenProject?Name="+a)},analyticProjectChangePage:function(a,b){i("AnalyticProjectChangePage?Name="+a+"&Page="+b)},analyticOpenTeacherAssistant:function(){i("AnalyticOpenTeacherAssistant?")},analyticPlayProjectVideo:function(a){i("AnalyticPlayProjectVideo?Id="+a)},analyticOpenInstructions:function(a){i("AnalyticOpenBuildingInstructions?Page="+a)},clickOnMediaPreview:function(){i("ContentInteraction?InteractionType=Clicked")},doNoOp:function(){i("NoOp?")},viewLoadingComplete:function(a){i("ViewLoadingComplete?ViewId="+a)},navigateToLobby:function(){i("NavigateToLobby?")},next:function(){h()}}}b.$inject=["$rootScope","$sce","$window","$timeout","CommunicationHandler"],
a.module("lego.content.common").factory("UnityMessageService",b)}(angular),angular.module("lego.content.documentation").constant("DOCUMENTATION.VIEW",function(){var a="documentation/views/";return{BASE:a,DOCUMENTATION_TOOL:a+"documentation-tool.tpl.html",EXPORT:a+"export-process.tpl.html",PAGE_ELEMENT:a+"page-elements.tpl.html",WYSIWYG_EDITOR:a+"wysiwyg-editor.tpl.html",TEMPLATE_SELECTOR:a+"template-selector.tpl.html",EXPORT_MODAL:a+"export-model.tpl.html",EXPORT_MODAL_PROCESS:a+"export-process.tpl.html",BLOCK_CONTENT:a+"block-content.tpl.html",IMAGE_EDIT:a+"blocks/image-edit.tpl.html",MOVIE_EDIT:a+"blocks/movie-edit.tpl.html",TEXT_EDIT:a+"blocks/text-edit.tpl.html",DELETE_ELEMENT:a+"deleteElement.tpl.html"}}()),angular.module("lego.content.documentation").controller("BlockImageEditController",["$scope","$rootScope","PathService",function(a,b,c){a.image=a.getElement(),a.deleteElementContent=function(){b.$broadcast("content.delete",{pageIndex:a.getPageIndex(),key:a.key})},a.rotateRight=function(){a.$broadcast("rotateRight")},a.rotateLeft=function(){a.$broadcast("rotateLeft")}}]),angular.module("lego.content.documentation").controller("BlockMovieEditController",["$scope","$rootScope","PathService","$element",function(a,b,c,d){a.content=a.getElement(),a.showVideo=!1,a.showFilmIcon=!0,a.deleteElementContent=function(){b.$broadcast("content.delete",{pageIndex:a.getPageIndex(),key:a.key})},a.videoSource=c.getCurrentPath()+a.content.path,a.content.poster&&""!==a.content.poster&&(a.posterPath=c.getCurrentPath()+a.content.poster)}]),angular.module("lego.content.documentation").controller("BlockPageElementController",["$scope","UnityMessageService","$q","PlatformService",function(a,b,c,d){function e(){f&&(f(),f=null),g&&(g(),g=null)}var f,g;a.$on("$destroy",function(){e()}),a.$on("UnityAppBroadcast:mediaPickerAbortFail",function(b,c){a.key===c&&e()}),a.addTextarea=function(){var b={elementKey:a.key,id:null,type:"TEXT"};a.$emit("content.changed",b)},a.addImage=function(c){b.showImagePicker(c.currentTarget.offsetLeft,c.currentTarget.offsetTop,a.key),f||(f=a.$on("UnityAppBroadcast:imagePath",function(b,c,e,f){if(a.key===Number(f)){var g={elementKey:f,path:c,rotation:e};d.isChromeOS()&&(g.database="/idbfs"),a.$emit("image.set",g)}}))},a.addVideo=function(c){b.showVideoPicker(c.currentTarget.offsetLeft,c.currentTarget.offsetTop,a.key),g||(g=a.$on("UnityAppBroadcast:videoPath",function(b,c,e,f){if(a.key===Number(f)){var g={elementKey:f,path:c,poster:e,type:"MOVIE"};d.isChromeOS()&&(g.database="/idbfs"),a.$emit("movie.set",g)}}))}}]),angular.module("lego.content.documentation").controller("BlockTextEditController",["$scope","$rootScope",function(a,b){a.deleteElementContent=function(){b.$broadcast("content.delete",{pageIndex:a.getPageIndex(),key:a.key})}}]),angular.module("lego.content.documentation").controller("changeTemplateModalController",["$rootScope","$scope","$uibModalInstance","templates",function(a,b,c,d){b.templates=d,b.selectTemplate=function(c){d.forEach(function(a){delete a.active}),c.active=!0,b.activeTemplate=c,a.$broadcast("changeTemplate",c)},b.ok=function(){c.close(b.activeTemplate)},b.cancel=function(){c.dismiss("cancel")}}]),angular.module("lego.content.documentation").controller("DocumentationToolController",["$scope","$uibModal","$uibModalStack","TemplateService","guidService","UnityHookHandlerService","UnityMessageService","$window","Project","Locked","DOCUMENTATION.VIEW","DirectionService","CommunicationHandler","PlatformService","AnalyticService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a){for(var b=a.classList,c=0;c<b.length;c++)if("no-swipe"===b[c])return!0;return!1}function q(b,c){b<c?l.getDirection()===l.RTL?a.setSlideAnimation("from-right"):a.setSlideAnimation("from-left"):l.getDirection()===l.RTL?a.setSlideAnimation("from-left"):a.setSlideAnimation("from-right")}o.enteredSDT();var r;a.slideDirection="from-right",a.setSlideAnimation=function(b){a.slideDirection=b},g.fullPage(),f.setup(a),a.$on("$destroy",function(){f.destroy(),c.dismissAll()}),a.project=i||{sections:[{type:"",position:0,pages:[],pageLimit:10}]},a.$watch("currentPage",function(b,c){a.hidePrevArrow=a.isFirstPage(b),a.hideNextArrow=a.isLastPage(b)}),h.getProject=function(b){if(!n.isChromeOS())return"SAVEDATA_"+b+"@"+angular.toJson(a.project);m.sendData("handleSaveSDT","SAVEDATA_"+b+"@"+angular.toJson(a.project))},a.Locked=j||!1,a.$on("$viewContentLoaded",function(){a.initialize(),g.viewLoadingComplete("Unknown")}),a.initialize=function(){a.currentPage=void 0!==a.project.currentPageIndex?u()[a.project.currentPageIndex-1]:{};var b=u().length;0===b&&a.newPageAfterCurrentPage(),r=a.project.sections[0].pages[0],b>0&&a.nextPage(),b>0&&updateUnityButtons()},updateUnityButtons=function(){1===u().length?g.disableButton("deletePage"):g.enableButton("deletePage"),a.allowMorePages(a.project.sections[0])?g.enableButton("addPage"):g.disableButton("addPage"),a.Locked?g.disableButton("templateselector"):g.enableButton("templateselector")};var s;a.exportModal=function(){void 0===s&&(c.dismissAll(),s=b.open({templateUrl:k.EXPORT_MODAL,controller:"ExportModalController",windowClass:["documentation-tool export-options-modal"],backdropClass:["documentation-tool popup-background"],resolve:{projectCopy:function(){return a}}}).result.then(function(){s=void 0},function(){s=void 0}))};var t;a.changeTemplate=function(){if(a.havePageSelected()&&void 0===t){angular.copy(a.currentPage.template_id);c.dismissAll(),t=b.open({templateUrl:k.TEMPLATE_SELECTOR,controller:"changeTemplateModalController",windowClass:["documentation-tool"],backdropClass:["documentation-tool popup-background"],resolve:{templates:function(){return d.getAll().filter(function(a){return a.sdt}).map(function(b,c){return delete b.active,a.currentPage.template_id===c&&(b.active=!0),b})}}}).result.then(function(){},function(){t=void 0})}},a.$on("changeTemplate",function(b,c){a.currentPage.template_id=d.getAll().indexOf(c),a.activatePage(a.currentPage,!0)}),a.allowMorePages=function(a){return a.pages.length<(a.pageLimit||LIMIT_MAX_PAGES_PER_SECTION)},a.isCurrentPage=function(b){return angular.equals(b,a.currentPage)},a.isFirstPage=function(a){return u()[0].GUID===a.GUID},a.isLastPage=function(a){var b=u();return b[b.length-1].GUID===a.GUID};var u=function(){return a.project.sections[0].pages};a.templateUrl="",a.setTemplateUrl=function(){a.templateUrl=a.havePageSelected()?k.BASE+d.getTemplateUrl(a.currentPage.template_id)+"?r="+Math.random():""},a.havePageSelected=function(){return!angular.equals(a.currentPage,{})},a.hideLeftArrow=function(){return l.getDirection()===l.RTL?a.isLastPage(a.currentPage):a.isFirstPage(a.currentPage)},a.hideRightArrow=function(){return l.getDirection()===l.LTR?a.isLastPage(a.currentPage):a.isFirstPage(a.currentPage)},a.canSwipeLeft=a.hideRightArrow,a.canSwipeRight=a.hideLeftArrow,a.goPageLeft=function(){l.getDirection()===l.LTR?a.previousPage():a.nextPage()},a.goPageRight=function(){l.getDirection()===l.LTR?a.nextPage():a.previousPage()},a.swipePreviousPage=function(b){p(b)||a.previousPage()},a.swipeNextPage=function(b){p(b)||a.nextPage()},a.nextPage=function(){var b=a.currentPage,c=u(),d=c.indexOf(b),e=0;d>-1&&(e=d+1,e=Math.min(e,c.length-1)),a.activatePage(c[e])},a.previousPage=function(){var b=a.currentPage,c=u(),d=c.indexOf(b),e=0;d>-1&&(e=(d-1)%c.length,e=Math.max(0,e)),a.activatePage(c[e])},a.pagePosition=function(a){var b=u().indexOf(a);return b>-1?b+1:-1},a.newPageAfterCurrentPage=function(){var b=a.project.sections[0];a.allowMorePages(b)&&(a.newPage(a.pagePosition(a.currentPage)),updateUnityButtons())},a.newPage=function(b){var c={GUID:e.getGUID(),template_id:0,elements:{}};a.project.sections[0].pages.splice(b,0,c),a.activatePage(c)},a.activatePage=function(b,c){if(void 0!==b.template_id&&(!angular.equals(b,a.currentPage)||c)){var d=u().indexOf(b);q(d,a.project.currentPageIndex),a.project.currentPageIndex=d,a.currentPage=b,a.setTemplateUrl()}},a.pages=a.project.sections[0].pages,a.deleteCurrentPage=function(){var b=a.project.sections[0];a.currentPage&&b.pages.length>1&&(b.pages.splice(a.project.currentPageIndex,1),a.activatePage(b.pages[a.project.currentPageIndex<b.pages.length?a.project.currentPageIndex:b.pages.length-1]),updateUnityButtons())},a.deleteElementContent=function(b){var c=a.project.sections[0].pages[b.pageIndex].elements[b.key];if(void 0!==c.type)switch(c.type){case"MOVIE":case"IMAGE":g.deleteMedia(c.path)}delete a.project.sections[0].pages[b.pageIndex].elements[b.key]},a.$on("content.delete",function(b,c){a.deleteElementContent(c)}),a.$on("content.changed",function(b,c){a.currentPage.elements[c.elementKey]={id:c.id,type:c.type}}),a.$on("wysiwyg.update.soft",function(b,c){a.project.sections[0].pages[c.pageIndex].elements[c.elementKey]={id:c.id,type:"TEXT",html:c.html}}),a.$on("image.set",function(b,c){a.currentPage.elements[c.elementKey]={x:0,y:0,rotation:c.rotation,type:"IMAGE",path:c.path},c.database&&(a.currentPage.elements[c.elementKey].database=c.database)}),a.$on("movie.set",function(b,c){a.currentPage.elements[c.elementKey]={type:"MOVIE",path:c.path,poster:c.poster},c.database&&(a.currentPage.elements[c.elementKey].database=c.database)})}]),angular.module("lego.content.documentation").controller("ExportModalController",["$uibModalInstance","$uibModal","$scope","$q","projectCopy","ExportService","UnityMessageService","$timeout","DOCUMENTATION.VIEW","PageStatusService","ExportHandler",function(a,b,c,d,e,f,g,h,i,j,k){function l(){a.dismiss(),n=b.open({templateUrl:i.EXPORT_MODAL_PROCESS,controller:function(){angular.element(".modal-backdrop").addClass("exporting")},windowClass:["documentation-tool export-modal"],backdropClass:["documentation-tool exporting"],keyboard:!1,backdrop:"static"})}function m(){n.dismiss(),n=void 0,a.dismiss()}var n;c.exportImage=function(){l(),h(function(){k.exportImage().then(function(){m()},function(){m()})},100)},c.exportPDF=function(){l(),h(function(){var a=e.currentPage,b=new jsPDF("landscape","px",[920,520]),c=d.defer(),g=c.promise,h=e.project.sections[0].pages;f.startExporting(),angular.forEach(h,function(a,c){g=g.then(function(){var g=d.defer();return j.reset(),j.setExceptedElements(Object.keys(a.elements).length),j.allElementsLoaded().then(function(a){a?(c+1<h.length&&b.addPage(),g.resolve()):f.getImage().then(function(a){b.addImage(a,"JPEG",0,0,920,520),c+1<h.length&&b.addPage(),g.resolve()})}),e.activatePage(a,!0),g.promise})}),g.then(function(){k.exportPdf(b).then(function(){m(),e.activatePage(a,!0)})}),c.resolve()},100)},c.cancel=function(){a.dismiss()}}]),angular.module("lego.content.documentation").directive("deleteElement",["DOCUMENTATION.VIEW",function(a){return{restrict:"E",templateUrl:a.DELETE_ELEMENT}}]),angular.module("lego.content.documentation").directive("blockPageElement",["DOCUMENTATION.VIEW",function(a){return{restrict:"A",templateUrl:a.PAGE_ELEMENT,controller:"BlockPageElementController"}}]),angular.module("lego.content.documentation").directive("blockImageEdit",["DOCUMENTATION.VIEW",function(a){return{controller:"BlockImageEditController",restrict:"A",templateUrl:a.IMAGE_EDIT}}]).directive("blockMovieEdit",["DOCUMENTATION.VIEW",function(a){return{controller:"BlockMovieEditController",restrict:"A",templateUrl:a.MOVIE_EDIT}}]).directive("blockTextEdit",["DOCUMENTATION.VIEW",function(a){return{controller:"BlockTextEditController",restrict:"A",templateUrl:a.TEXT_EDIT}}]),angular.module("lego.content.documentation").directive("documentationBlockContent",["DOCUMENTATION.VIEW",function(a){return{restrict:"E",replace:!0,templateUrl:a.BLOCK_CONTENT,scope:{key:"=",pages:"=",index:"@"},link:function(a,b,c){a.isLocked=function(){return a.$parent.Locked},a.getElement=function(){if(a.index)return parseInt(a.index,10)<a.pages.length?a.pages[a.index].elements[a.key]:void 0},a.getPageIndex=function(){return a.index}}}}]),angular.module("lego.content.viewer").service("ipadBlurFix",[function(){function a(a){0===$(a.target).closest(".wysiwyg-editor").length&&($("#editableFix").focus(),$("#editableFix")[0].setSelectionRange(0,0),$("#editableFix").blur())}function b(){d.get("tap").set({enable:!0})}function c(){d.get("tap").set({enable:!1})}var d=new Hammer.Manager(document.body);return d.add(new Hammer.Tap({enable:!1})),d.on("tap",a),{on:b,off:c}}]),angular.module("lego.content.viewer").directive("videoCanvas",["$compile","$timeout","$rootScope",function(a,b,c){return{template:"",scope:!0,transclude:!0,terminal:!0,link:function(d,e,f){e[0].style.position="relative";var g=angular.element(e.children()[1])[0],h=angular.element(e.children()[2])[0],i=h.getContext("2d");g.addEventListener("loadedmetadata",function(){function a(b,c,d,e,f){if((b.paused||b.ended)&&!f)return!1;c.drawImage(b,0,0,d,e),setTimeout(a,20,b,c,d,e)}g.play(),g.pause();var d=h.width=g.clientWidth,e=h.height=g.clientHeight;g.addEventListener("play",function(){a(this,i,d,e,!1)},!1),g.addEventListener("seeking",function(){a(this,i,d,e,!0)},!1),b(function(){i.drawImage(g,0,0,d,e),c.$emit("PAGE.ELEMENT.READY")},1e3)}),g.src=f.src,a(e.contents())(d)}}}]),angular.module("lego.content.documentation").directive("wysiwyg",["$log","$rootScope","$compile","$timeout","guidService","wysiwygStateService","$window","ipadBlurFix","DOCUMENTATION.VIEW","PageStatusService","PlatformService","Config",function(a,b,c,d,e,f,g,h,i,j,k,l){return{restrict:"E",replace:!0,templateUrl:i.WYSIWYG_EDITOR,scope:!0,link:function(c,i,m){function n(){S=$(i).find("textarea");var a=c.getElement().html||"";S.wysiwyg("shell").setHTML(a),j.elementLoaded(),R&&r()}function o(){g.document.onselectionchange=function(){var a=g.document.getSelection();return W=a.rangeCount>0?a.getRangeAt(0):void 0,void 0!==V&&V===a.baseOffset||(V+1!==a.baseOffset&&d(function(){f.updateState()},0),V=a.baseOffset),!0}}function p(){if(W){var a=g.document.getSelection();a.removeAllRanges(),a.addRange(W),T.focus()}}function q(){delete g.document.onselectionchange}function r(){E||(E=$("<div></div>"),E.addClass("wysiwyg-format-pane"),F=y("undo"),E.append(F),G=y("repeat"),E.append(G),H=A(3),E.append(H),I=A(4),E.append(I),J=A(5),E.append(J),K=z("000000"),E.append(K),L=z("008000"),E.append(L),M=z("0000FF"),E.append(M),N=z("FF0000"),E.append(N),O=B("left"),E.append(O),P=B("center"),E.append(P),Q=B("right"),E.append(Q),c.$watch(function(){return f.getState()},function(a){a&&(u(H,"selected",a.textsizesmall),u(I,"selected",a.textsizemedium),u(J,"selected",a.textsizelarge),u(O,"selected",a.textalignleft),u(P,"selected",a.textalignmiddle),u(Q,"selected",a.textalignright),t(a.textcolorblack,a.textcolorgreen,a.textcolorblue,a.textcolorred))}),$("body").append(E))}function s(a){t("000000"===a,"008000"===a,"0000FF"===a,"FF0000"===a)}function t(a,b,c,d){u(K,"selected",a),u(L,"selected",b),u(M,"selected",c),u(N,"selected",d)}function u(a,b,c){R&&(c?a.addClass(b):a.removeClass(b))}function v(){document.queryCommandEnabled?(u(F,"disabled",!document.queryCommandEnabled("undo")),u(G,"disabled",!document.queryCommandEnabled("redo"))):a.debug("Can't query for command enabled")}function w(){R?E.addClass("active"):f.showFormatAdorner()}function x(){R?E.removeClass("active"):f.hideFormatAdorner()}function y(a){var b=$("<div></div>");return b.html('<i class="fa fa-'+a+'"></i>'),b.addClass("undo-redo"),b.on("mousedown touchstart",D()),b.on("click",function(b){return C(b),"repeat"===a?c.redo():c.undo(),!1}),b}function z(a){var b=$("<div></div>");return b.html('<i class="fa fa-circle"></i>'),b.css("color","#"+a),b.on("mousedown touchstart",D()),b.on("click",function(b){return C(b),c.fontColor(a),s(a),!1}),b}function A(a){var b=$("<div></div>");return b.html('<i class="fa fa-font"></i>'),b.addClass("font-"+a),b.on("mousedown touchstart",D()),b.on("click",function(b){return C(b),c.fontsize(a),!1}),b}function B(a){var b=$("<div></div>");return b.html('<i class="fa fa-align-'+a+'"></i>'),b.addClass("undo-redo"),b.on("mousedown touchstart",D()),b.on("click",function(b){return C(b),c.alignText(a),!1}),b}function C(a){k.isUWP()&&p(),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()}function D(a){return function(b){return a&&k.isUWP()&&p(),b.preventDefault(),b.stopPropagation(),!1}}var E,F,G,H,I,J,K,L,M,N,O,P,Q,R=l.get("useWebViewFormatAdorner"),S=$(i).find("textarea");c.deleteIconVisible=!0,c.showDeleteIcon=function(){c.deleteIconVisible=!0},c.hideDeleteIcon=function(){c.deleteIconVisible=!1},null===c.getElement().id&&(c.getElement().id=e.getGUID(),d(function(){$(T).focus()})),c.$watch(function(){return c.getElement().id},function(a){n()}),c.$on("$destroy",function(){void 0!==c.getElement()&&c.softSave(),h.off(),q(),x(),E&&(E.remove(),E=void 0)}),h.on(),i.on("touchstart mousedown pointerdown",function(a){a.stopPropagation()}),S.wysiwyg({toolbar:"top",buttons:{}});var T=i.find(".wysiwyg-editor");T.on("click",function(){d(function(){f.updateState()},0)}),c.$on("UnityAppBroadcast:undo",function(){c.undo()}),c.$on("UnityAppBroadcast:redo",function(){c.redo()}),c.$on("UnityAppBroadcast:textsizesmall",function(){c.fontsize(3)}),c.$on("UnityAppBroadcast:textsizemedium",function(){c.fontsize(4)}),c.$on("UnityAppBroadcast:textsizelarge",function(){c.fontsize(5)}),c.$on("UnityAppBroadcast:textcolorblack",function(){c.fontColor("000000")}),c.$on("UnityAppBroadcast:textcolorgreen",function(){c.fontColor("008000")}),c.$on("UnityAppBroadcast:textcolorblue",function(){c.fontColor("0000FF")}),c.$on("UnityAppBroadcast:textcolorred",function(){c.fontColor("FF0000")}),c.$on("UnityAppBroadcast:textalignleft",function(){c.alignText("left")}),c.$on("UnityAppBroadcast:textalignmiddle",function(){c.alignText("center")}),c.$on("UnityAppBroadcast:textalignright",function(){c.alignText("right")}),c.undo=function(){S.wysiwyg("shell").undo(),f.updateState(),c.softSave()},c.redo=function(){S.wysiwyg("shell").redo(),f.updateState(),c.softSave()},c.fontsize=function(a){S.wysiwyg("shell").fontSize(a),f.updateState(),c.softSave()},c.fontColor=function(a){S.wysiwyg("shell").forecolor(a),f.updateState(a),c.softSave()},c.alignText=function(a){S.wysiwyg("shell").align(a),f.updateState(),c.softSave()},c.softSave=function(){if("TEXT"===c.getElement().type){var a=S.wysiwyg("shell").getHTML();a=a.replace(new RegExp("<div><br></div>","gmi"),"<br>"),b.$broadcast("wysiwyg.update.soft",{pageIndex:c.getPageIndex(),html:a,elementKey:c.key,id:c.getElement().id})}},c.triggerExport=function(){b.$broadcast("wysiwyg.update.export")};var U=!1;T.on("paste",function(a){a.preventDefault();var b;b=a.originalEvent.clipboardData?a.originalEvent.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),S.wysiwyg("shell").insertHTML(b)}).on("input",function(){v()}).on("focus",function(){U||d(function(){U=!0,T.addClass("small-textfield"),o(),v(),w(),f.updateState(),c.hideDeleteIcon()})}).on("blur",function(a){d(function(){U=!1,T.removeClass("small-textfield"),q(),x(),c.showDeleteIcon(),c.softSave(),c.triggerExport()},0)});var V,W}}}]),angular.module("lego.content.documentation").directive("zoomPan",["$timeout","$rootScope","PathService","debounce","$window","PageStatusService","ExportService","MediaObjectService",function(a,b,c,d,e,f,g,h){return{scope:{image:"=",locked:"="},replace:!1,link:function(i,j,k){function l(){K.add(M),K.add(L),K.on("panstart panmove",z),K.on("pinchstart",v),K.on("pinchin",x),K.on("pinchout",y),K.on("hammer.input",A),F={translate:{x:parseFloat(i.image.x)||0,y:parseFloat(i.image.y)||0},rotation:parseInt(i.image.rotation)||0,scale:parseFloat(i.image.scale)||null},m(),u(),N()}function m(){var a,b;90===F.rotation||270===F.rotation?(a=D.height/E.width,b=D.width/E.height):(a=D.height/E.height,b=D.width/E.width),I=Math.min(a,b),null===F.scale&&(F.scale=I)}function n(a){}function o(){G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,D.width,D.height),G.translate(F.translate.x,F.translate.y),G.rotate(F.rotation*(Math.PI/180)),G.scale(F.scale,F.scale),G.drawImage(E,0,0),n(F),B||(f.elementLoaded(),B=!0)}function p(){i.image.x=F.translate.x,i.image.y=F.translate.y,i.image.scale=F.scale,i.image.rotation=F.rotation,N()}function q(){var a={x:D.width,y:D.height},b=E.width*F.scale,c=E.height*F.scale;b>a.x?(F.translate.x<a.x-b&&(F.translate.x=a.x-b),F.translate.x>0&&(F.translate.x=0)):(F.translate.x+b>a.x&&(F.translate.x=a.x-b),F.translate.x<0&&(F.translate.x=0)),E.height*F.scale>a.y?(F.translate.y<a.y-c&&(F.translate.y=a.y-c),F.translate.y>0&&(F.translate.y=0)):(F.translate.y+c>a.y&&(F.translate.y=a.y-c),F.translate.y<0&&(F.translate.y=0))}function r(){var a={x:D.width,y:D.height},b=E.height*F.scale,c=E.width*F.scale;c<=a.y?(F.translate.y<0&&(F.translate.y=0),F.translate.y+c>a.y&&(F.translate.y=a.y-c)):(F.translate.y>0&&(F.translate.y=0),F.translate.y+c<a.y&&(F.translate.y=a.y-c)),b<=a.x?(F.translate.x>a.x&&(F.translate.x=a.x),F.translate.x-b<0&&(F.translate.x=b)):(F.translate.x>b&&(F.translate.x=b),F.translate.x<a.x&&(F.translate.x=a.x))}function s(){var a={x:D.width,y:D.height},b=E.width*F.scale,c=E.height*F.scale;b<=a.x?(F.translate.x<b&&(F.translate.x=b),F.translate.x>a.x&&(F.translate.x=a.x)):(F.translate.x>b&&(F.translate.x=b),F.translate.x<a.x&&(F.translate.x=a.x)),c<=a.y?(F.translate.y<c&&(F.translate.y=c),F.translate.y>a.y&&(F.translate.y=a.y)):(F.translate.y>c&&(F.translate.y=c),F.translate.y<a.y&&(F.translate.y=a.y))}function t(){var a={x:D.width,y:D.height},b=E.height*F.scale,c=E.width*F.scale;b<=a.x?(F.translate.x<0&&(F.translate.x=0),F.translate.x+b>a.x&&(F.translate.x=a.x-b)):(F.translate.x>0&&(F.translate.x=0),F.translate.x+b<a.x&&(F.translate.x=a.x-b)),c<=a.y?(F.translate.y<c&&(F.translate.y=c),F.translate.y>a.y&&(F.translate.y=a.y)):(F.translate.y>c&&(F.translate.y=c),F.translate.y<a.y&&(F.translate.y=a.y))}function u(){switch(F.rotation){case 90:r();break;case 180:s();break;case 270:t();break;default:q()}g.isExporting()?o():C(o)}function v(a){pinch_start_scale=F.scale}function w(a){if(!i.locked){var b=$(H).parent().offset(),c=F.scale;F.scale=Math.max(I,Math.min(pinch_start_scale*a.scale,J)),F.translate.x=a.center.x-b.left-(a.center.x-b.left-F.translate.x)/c*F.scale,F.translate.y=a.center.y-b.top-(a.center.y-b.top-F.translate.y)/c*F.scale,u()}}function x(a){w(a)}function y(a){w(a)}function z(a){"panstart"===a.type?P=F.translate:i.locked||(F.translate={x:P.x+a.deltaX,y:P.y+a.deltaY},u())}function A(a){a.isFinal&&p()}var B=!1;i.$on("$destroy",function(){K.destroy(),angular.element(e).off("resize",O),E=void 0});var C=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,D=j[0];D.style.width="100%",D.style.height="100%";var E=new Image;a(function(){if(D.width=D.clientWidth,D.height=D.clientHeight,E.onerror=function(){B||(f.elementLoaded(),B=!0)},i.image.database){var a=h.getMediaObject(i.image.database,i.image.path,"image/jpeg");a.getMediaUrl().then(function(b){E.onload=function(){l(),a.revokeObjectUrl()},E.src=b})}else E.onload=function(){l()},"data:image"===i.image.path.substring(0,"data:image".length)?E.src=i.image.path.replace(/ /g,"+"):E.src=c.getCurrentPath()+i.image.path},100);var F,G=D.getContext("2d"),H=angular.element(j)[0],I=(angular.element(j.children())[0],1),J=2,K=new Hammer.Manager(H),L=new Hammer.Pinch({threshold:.1}),M=new Hammer.Pan,N=d(100,function(){b.$broadcast("export.lobbyImage")}),O=d(100,function(){D.width=D.clientWidth,D.height=D.clientHeight,u()});angular.element(e).on("resize",O),i.$on("rotateLeft",function(){F.rotation=(F.rotation-90+360)%360,u(),p()}),i.$on("rotateRight",function(){F.rotation=(F.rotation+90+360)%360,u(),p()}),j.on("touchstart mousedown pointerdown",function(a){a.stopPropagation()});var P}}}]),angular.module("lego.content.documentation").service("ExportService",["$timeout","$window","$q","UnityMessageService",function(a,b,c,d){function e(){var a=c.defer();return html2canvas([angular.element(".templates")[0]],{allowTaint:!0,onrendered:function(b){var c=b.toDataURL("image/jpeg",1);return a.resolve(c)}}),a.promise}function f(){i=!0,$(document.body).addClass("exporting")}function g(){i=!1,$(document.body).removeClass("exporting")}function h(){return i}var i=!1;return{getImage:e,isExporting:h,startExporting:f,doneExporting:g}}]),angular.module("lego.content.documentation").service("MediaObjectService",["$q","$log",function(a,b){function c(c,d,e){var f;return{revokeObjectUrl:function(){if(f){b.debug("[MediaService] Revoke MediaObject");(window.URL||window.webkitURL).revokeObjectURL(f),f=void 0}},getMediaUrl:function(){var g=a.defer(),h=indexedDB.open(c);return h.onsuccess=function(a){b.debug("[MediaService] MediaObject db event",a);var c=a.target.result.transaction("FILE_DATA").objectStore("FILE_DATA").get(d);c.onsuccess=function(a){if(b.debug("[MediaService] MediaObject trans event;",a),a.target.result){var c=new Blob([a.target.result.contents],{type:e}),d=window.URL||window.webkitURL;f=d.createObjectURL(c),g.resolve(f)}else g.reject()},c.onerror=function(){g.reject()}},h.onerror=function(){g.reject()},g.promise}}}return{getMediaObject:c}}]),angular.module("lego.content.documentation").service("UnityHookHandlerService",["$rootScope","UnityMessageService",function(a,b){var c,d=new Array(6);return{setup:function(e){c=e,d.push(a.$on("UnityAppBroadcast:addPage",function(){c.newPageAfterCurrentPage()})),d.push(a.$on("UnityAppBroadcast:templateselector",function(){c.changeTemplate()})),d.push(a.$on("UnityAppBroadcast:export",function(){c.exportModal()})),d.push(a.$on("UnityAppBroadcast:deletePage",function(){c.deleteCurrentPage()})),d.push(a.$on("UnityAppBroadcast:lock",function(){c.Locked=!0,b.disableButton("templateselector"),b.disableButton("addPage"),b.disableButton("deletePage")})),d.push(a.$on("UnityAppBroadcast:unlock",function(){c.Locked=!1,b.enableButton("templateselector"),updateUnityButtons()}))},destroy:function(){d.forEach(function(a){a()}),d=new Array(6)}}}]),angular.module("lego.content.documentation").service("guidService",[function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return{getGUID:function(){return(a()+a()+"-"+a()+"-4"+a().substr(0,3)+"-"+a()+"-"+a()+a()+a()).toLowerCase()}}}]),angular.module("lego.content.documentation").service("wysiwygStateService",["UnityMessageService","$timeout","Config",function(a,b,c){function d(a,c){return function(){var d=this,e=arguments;b.cancel(l),l=b(function(){a.apply(d,e)},c||k)}}function e(){i={textsizesmall:document.queryCommandValue("fontSize")<=3,textsizemedium:4==document.queryCommandValue("fontSize"),textsizelarge:document.queryCommandValue("fontSize")>=5,textalignleft:document.queryCommandState("justifyLeft")||!document.queryCommandState("justifyCenter")&&!document.queryCommandState("justifyRight"),textalignmiddle:document.queryCommandState("justifyCenter"),textalignright:document.queryCommandState("justifyRight"),textcolorblack:""===document.queryCommandValue("foreColor")||"rgb(0, 0, 0)"===document.queryCommandValue("foreColor")||"0"==document.queryCommandValue("foreColor"),textcolorgreen:"rgb(0, 128, 0)"===document.queryCommandValue("foreColor")||"32768"==document.queryCommandValue("foreColor"),textcolorblue:"rgb(0, 0, 255)"===document.queryCommandValue("foreColor")||"16711680"==document.queryCommandValue("foreColor"),textcolorred:"rgb(255, 0, 0)"===document.queryCommandValue("foreColor")||"255"==document.queryCommandValue("foreColor")},i.textcolorblack||i.textcolorgreen||i.textcolorblue||i.textcolorred||!j||(i.textcolorblack="000000"===j,i.textcolorgreen="008000"===j,i.textcolorblue="0000FF"===j,i.textcolorred="FF0000"===j),c.get("useWebViewFormatAdorner")||f()}function f(){for(var b in i){!0===i[b]&&a.enableButton(b)}}function g(){a.showFormatAdorner()}function h(){a.hideFormatAdorner()}var i,j,k=100,l=null;return{showFormatAdorner:g,hideFormatAdorner:h,updateState:function(a){a&&(j=a),d(e)()},getState:function(){return i}}}]),angular.module("lego.content.help").constant("HELP_VIDEO_ID","491aba4e-7a7a-44bb-acd7-bff0574ed9ab").constant("HELP_VIDEO_POSTER_IMAGE_ID","d5076054-bb8d-4fd7-9e16-3313271e6a2a"),angular.module("lego.content.help").constant("HELP.VIEW",function(){var a="help/views/";return{BASE:a,HELP:a+"help.tpl.html",HELP_BASIC:a+"help-basic"+("win10desktop"==settings.platform?".wind.tpl.html":".tpl.html"),HELP_CT:a+"help-ct.tpl.html"}}()),angular.module("lego.content.help").controller("HelpController",["$scope","helpFile","AnalyticService","LanguageService","UnityMessageService","$timeout","HELP_VIDEO_ID","HELP_VIDEO_POSTER_IMAGE_ID","PlatformService","PageStateService","HELP.VIEW","TeachingAssistantService","Config",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){var b=angular.element("#"+a)[0];void 0!==b&&(angular.element(".content-container")[0].scrollTop=b.offsetTop)}switch(a.getHelpTemplate=function(){return m.get("showComputational")&&l.isSupportedLanguage()?k.HELP_CT:k.HELP_BASIC},e.fullPage(),a.help=b,a.getElement=function(){return{shared:!0,id:g,posterImageId:h,posterImageIsShared:!0}},a.platform=i,c.enteredHelp("Initial"),a.gotoSection=function(a,b){var d=angular.element(".content-container")[0];i.isWin10Desktop()||(d.style.overflow="hidden"),f(function(){n(b),i.isWin10Desktop()||(d.style.overflow="")},10),c.enteredHelp(a),j.updateSectionState("help","section",b)},a.$on("$viewContentLoaded",function(){e.viewLoadingComplete("Unknown"),f(function(){var a=j.getSectionState("help");a&&a.section&&n(a.section)},100)}),a.shouldShowConnectionText=function(){return i.isWSA()||i.isChromeOS()||i.isUWP()||i.isWin10Desktop()},a.shouldShowConnectionVideo=function(){return!m.get("useConnectionCenter")&&!i.isChromeOS()&&!i.isUWP()},a.showConnectionCenterImage=function(){return m.get("useConnectionCenter")},a.getLabel=function(a){return d.get(a)},i.getPlatform()){case i.availablePlatforms.WIN7:a.connection_key=1;break;case i.availablePlatforms.WSA:a.connection_key=2;break;case i.availablePlatforms.CHROMEOS:a.connection_key=4;break;case i.availablePlatforms.UWP:case i.availablePlatforms.WIN10DESKTOP:a.connection_key=3}}]),angular.module("lego.content.help").directive("scrollSpy",["$window","$timeout","$location","PageStateService",function(a,b,c,d){return{restrict:"A",scope:{spyOn:"@"},controller:["$scope",function(a){a.spies=[],this.sortSpies=function(){a.spies=a.spies.sort(function(a,b){return a.order-b.order})},this.addSpy=function(b){a.spies.push(b),1===a.spies.length&&b.in(),this.sortSpies()},this.deleteSpy=function(b){a.spies.forEach(function(c,d){c.id===b&&a.spies.splice(d,1)})}}],link:function(a,b,c){var e;e=[],a.$watch("spies",function(a){var c,d,f;for(d=0,f=a.length;d<f;d++)c=a[d],null===e[c.id]&&(e[c.id]=b.find("#"+c.id))},!0);var f=angular.element(".content-container");$(f).scroll(function(b){var c,e=1/0;a.spies.forEach(function(a){a.out();var b=$("#"+a.id);if(0!==b.length){var d=b.offset().top;Math.abs(d)<e&&(c=a,e=Math.abs(d))}}),$(f).scrollTop()+$(f).height()>=$(".content").height()&&(c=a.spies[a.spies.length-1]),c.in(),d.updateSectionState("help","section",c.id)})}}}]),angular.module("lego.content.help").directive("spy",[function(){return{restrict:"A",require:"^scrollSpy",link:function(a,b,c,d){a.$on("$destroy",function(){d.deleteSpy(c.spy)}),d.addSpy({id:c.spy,order:c.spyOrder,in:function(){b.addClass("active")},out:function(){b.removeClass("active")}})}}}]),angular.module("lego.content.mediaPreview").constant("MEDIAPREVIEW.VIEW",function(){var a="media-preview/views/";return{BASE:a,MEDIA_PREVIEW:a+"preview.tpl.html"}}()),angular.module("lego.content.mediaPreview").controller("MediaPreviewController",["$scope","PathService","$window","UnityMessageService","$timeout","PlatformService","MediaObjectService",function(a,b,c,d,e,f,g){function h(){j.isShowingImage=!0,j.isShowingVideo=!1}function i(){j.isShowingVideo=!0,j.isShowingImage=!1}var j=this;j.isShowingImage=!1,j.isShowingVideo=!1;var k={};a.getElement=function(){return k},c.setVideo=function(b){e(function(){k.id=-1,k.isAbsolutePath=!0,f.isChromeOS()?(k.path=b,k.database="/idbfs",k.type="MOVIE"):k.path=decodeURIComponent(b),i(),
a.$broadcast("movie.play")},!1)},c.setImage=function(a,b){e(function(){if(j.orientation=b||0,f.isChromeOS()){g.getMediaObject("/idbfs",a,"image/jpeg").getMediaUrl().then(function(a){j.mediaSrc=a,h()})}else j.mediaSrc=decodeURIComponent(a),h()},!1)},j.onClick=function(){d.clickOnMediaPreview()}}]),angular.module("lego.content.mediaPreview").directive("lcRotate",function(){return{link:function(a,b,c){a.$watch(function(){return c.lcRotate},function(){b.css({"-webkit-transform":"rotate("+c.lcRotate+"deg)","-ms-transform":"rotate("+c.lcRotate+"deg)",transform:"rotate("+c.lcRotate+"deg)"})})}}}),angular.module("lego.content.overviews").constant("OVERVIEWS.VIEW",function(){var a="overviews/views/";return{BASE:a,LIBRARY:a+"library"+("win10desktop"==settings.platform?".wind.tpl.html":".tpl.html"),MODELS:a+"models.tpl.html",PROGRAMS:a+"models.tpl.html"}}()),angular.module("lego.content.viewer").controller("ProjectPopupController",["$rootScope","$scope","$uibModalInstance","Project","ImageService","LanguageService","TeachingAssistantService","EasyGettingStartedService","UnityMessageService","$location",function(a,b,c,d,e,f,g,h,i,j){function k(c){b.popupImageStyle={"background-image":"url('"+a.PROJECT_PATH_PREFIX+c+"')"}}b.project=d;var l=!1,m=!1;b.taStyle=g.containerStyling(),b.toggleTA=function(){m||(l=!l,m=l)},b.allowTeachingAssistant=function(){return g.isSupportedLanguage()&&b.project.popupPage.teachingassistant},b.showTeachingAssistant=function(){return b.project.popupPage.teachingassistant&&l},b.iframeLoadedCallBack=function(){m=!1},b.project.popupPage.imageId&&(b.project.popupPage.popupImageName?k(e.getImageFromFileName(b.project.id,b.project.popupPage.imageId,b.project.popupPage.popupImageName)):e.getImage(b.project.id,b.project.popupPage.imageId).then(function(a){k(a)})),b.constructUrl=function(){return g.createUrl(b.project.popupPage.teachingassistant)},b.ok=function(){c.close()},b.cancel=function(){c.dismiss("cancel")},b.getLabel=function(a){return f.get(a)},i.updateCurrentUrl(encodeURIComponent("CL:library/"+d.id))}]),angular.module("lego.content.viewer").controller("LibraryController",["$scope","$uibModal","$location","$routeParams","ProjectService","UnityMessageService","LanguageService","AnalyticService","PageStateService","PathResolveService","DirectionService","TeachingAssistantService","ImageService","EasyGettingStartedService",function(a,b,c,d,e,f,g,h,l,m,n,o,p,q){function r(a){q.isSupported()&&a["activities.introduction"]&&(a["getting.started"]||(a["getting.started"]=[]),angular.forEach(a["activities.introduction"],function(b){a["getting.started"].unshift(b)}),delete a["activities.introduction"]);var b=[];for(var c in a)o.isComputationalCategory(c)?o.isSupportedLanguage()&&b.push([c,a[c]]):q.isSupportedCategory(c)?q.isSupported()&&b.push([c,a[c]]):b.push([c,a[c]]);return b.sort(function(a,b){return t.indexOf(a[0])-t.indexOf(b[0])})}function s(a,b){if(a)for(i=0;i<a.length;i++){var c=a[i][1];for(j=0;j<c.length;j++){var d=c[j];for(k=0;k<d.length;k++){var e=d[k];if(e.id===b)return e}}}return null}var t=["activities.introduction","getting.started","guided","open","thinking.guided","thinking.open"];e.getLibrary().then(r).then(function(b){a.categories=b}).then(function(){if(d.popupProjectId){var b=s(a.categories,d.popupProjectId);b&&(a.activate(b),f.viewLoadingComplete("LibraryPopup"))}else f.viewLoadingComplete("Unknown")}),h.enteredProjectLibrary(),l.clearSectionState("library"),f.fullPage(),a.blockStyle=function(b){return a.libraryBlockContainerStyle||(a.libraryBlockContainerStyle={}),a.libraryBlockContainerStyle["background-image"]="url('"+a.PROJECT_PATH_PREFIX+a.getThumbnailImage(b)+"')",a.libraryBlockContainerStyle};var u=!0;a.activate=function(d){if(angular.isUndefined(d.disabled)&&u)if(a.project=d,d.popupPage){var e=["library"];n.getDirection()===n.RTL&&e.push("rtl"),b.open({animation:!1,templateUrl:"projectPopup",controller:"ProjectPopupController",backdropClass:["library popup-white-background"],windowClass:e.join(" "),resolve:{Project:function(){return d}}}).result.then(function(a){u=!1,c.path("library/project/"+d.id)})}else u=!1,c.path("library/project/"+d.id)},a.getCategoryName=function(a){return g.get("categories."+a)},a.isCategoryDisabled=function(a){return 0===a.filter(function(a){return a.filter(function(a){return!a.disabled}).length>0}).length},a.getThumbnailImage=function(a){return a.thumbnailImageId?a.thumbnailImageName?p.getImageFromFileName(a.id,a.thumbnailImageId,a.thumbnailImageName):m.resolve(a.thumbnailImage):""}}]),angular.module("lego.content.viewer").controller("ModelsController",["$scope","UnityMessageService","$location","AnalyticService","ProjectService","PageStateService","PathResolveService","ImageService","LanguageService","$timeout",function(a,b,c,d,e,f,g,h,i,j){e.getModels().then(function(b){a.projectGroups=b}).then(function(){b.viewLoadingComplete("Unknown")}),d.enteredModelLibrary(),f.clearSectionState("models"),b.fullPage(),a.goto=function(a){if(a.disabled)return!0;c.path("/models/project/"+a.id)},a.getThumbnailImage=function(a){return a.thumbnailImageId?a.thumbnailImageName?h.getImageFromFileName(a.id,a.thumbnailImageId,a.thumbnailImageName):g.resolve(a.thumbnailImage):""},a.getHeader=function(){return i.get("headers.models")}}]),angular.module("lego.content.viewer").controller("ProgramController",["$scope","projects","UnityMessageService","$location","AnalyticService","PageStateService","PathResolveService","ImageService","LanguageService",function(a,b,c,d,e,f,g,h,i){e.enteredProgramLibrary(),f.clearSectionState("programs"),c.fullPage(),a.projects=b,a.projectGroups=b,a.goto=function(a){a.disabled||d.path("/programs/project/"+a.id)},a.getThumbnailImage=function(a){return a.thumbnailImageId?a.thumbnailImageName?h.getImageFromFileName(a.id,a.thumbnailImageId,a.thumbnailImageName):g.resolve(a.thumbnailImage):""},a.getHeader=function(){return i.get("headers.programs")},a.$on("$viewContentLoaded",function(){c.viewLoadingComplete("Unknown")})}]),angular.module("lego.content.common").directive("iframeOnload",[function(){return{scope:{callBack:"&iframeOnload"},link:function(a,b,c){b.on("load",function(){return a.callBack()})}}}]),angular.module("lego.content.viewer.basic").constant("VIEWER.BASIC.VIEW",function(){var a="viewer-basic/views/";return{BASE:a,BLOCK_CONTENT:a+"block-content.tpl.html",TEXT:a+"parts/text.tpl.html",MOVIE:a+"parts/movie.tpl.html",IMAGE:a+"parts/image.tpl.html",SLIDESHOW:a+"parts/slideshow.tpl.html",VERTICAL_SLIDESHOW:a+"parts/vertical-slideshow.tpl.html",PROJECT_NAME:a+"parts/project.name.tpl.html",PROJECT_BOX:a+"parts/project.box.tpl.html"}}()),angular.module("lego.content.viewer.basic").controller("BlockImageController",["$scope","ResourceService","PathService","PageStatusService","PlatformService",function(a,b,c,d,e){function f(){a.content.path?g(a.content.path):a.content.shared?b.getSharedImage(a.content.id).then(g):b.getImage(a.content.id).then(g)}function g(b){a.x=h(a.content.x,0),a.y=h(a.content.y,0),a.zoom=h(a.content.zoom,100),a.path=c.getCurrentPath()+b,a.initStyle={"background-size":a.zoom+"%","background-position-x":a.x+"px","background-position-y":a.y+"px","background-image":"url('"+a.path+"')"},d.elementLoaded()}function h(a,b){return void 0===a?b:a}a.platform=e.getPlatform(),a.$watch(function(){return a.content.id},function(){f()})}]),angular.module("lego.content.viewer.basic").controller("BlockMovieController",["$scope","ResourceService","PathService","PlatformService","$element","$timeout","PathResolveService","UnityMessageService","PageStatusService","ExportService","$q","MediaObjectService","AnalyticService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){return!!a.toLowerCase().endsWith(".avi")||(d.isAndroid()||d.isWin7())}function o(){a.getElement().path?(k.when(r(a.getElement().path)).then(p),q()):a.getElement().shared?(b.getSharedMovie(a.getElement().id).then(r).then(s).then(p),q()):(b.getMovie(a.getElement().id).then(r).then(s).then(p),q())}function p(){a.autoplay&&a.loadVideo()}function q(){i.elementLoaded()}function r(b){a.getElement().isAbsolutePath?a.videoSource=g.resolve(b):a.videoSource=g.resolve(c.getCurrentPath()+b)}function s(){a.getElement().posterImageIsShared?b.getSharedImage(a.getElement().posterImageId).then(function(b){a.posterPath=g.resolve(c.getCurrentPath()+b)}):b.getImage(a.getElement().posterImageId).then(function(b){a.posterPath=g.resolve(c.getCurrentPath()+b)})}var t,u=!1,v=!1;a.$on("movie.play",function(){o()}),a.$on("$destroy",function(){u=!0,t&&t[0].pause()}),a.$watch(function(){return a.getElement().path},function(){o()}),a.$on("UnityAppBroadcast:pauseVideo",function(b){v=!0,a.pauseVideo()}),a.$on("UnityAppBroadcast:resumeVideo",function(b){v&&(v=!1,t&&a.playVideo())}),a.showVideo=!1,a.isVideoPlaying=!1,a.showNativeControls=!d.isWin7(),a.showIcons=d.isWin7(),a.ExportService=j,String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)}),a.loadVideo=function(){n(a.videoSource)?h.playVideo(a.videoSource):(a.showVideo=!0,f(a.getElement().database?function(){t=angular.element(e).find("video"),t[0].src="";var b=l.getMediaObject(a.getElement().database,a.getElement().path,"video/webm"),c=function(){a.playVideo(),t[0].removeEventListener("loadeddata",c)};t[0].addEventListener("loadeddata",c),b.getMediaUrl().then(function(a){t[0].src=a}),t[0].controls=a.showNativeControls,t[0].onended=function(){a.$apply(function(){a.showVideo=!1,b.revokeObjectUrl(),t[0].pause(),t[0].removeAttribute("src"),t[0].load()})}}:function(){t=angular.element(e).find("video"),t[0].controls=a.showNativeControls,t[0].onended=function(){a.$apply(function(){a.showVideo=!1,t[0].pause(),t[0].removeAttribute("src"),t[0].load()})},a.playVideo()}))},a.unloadVideo=function(){a.showVideo=!1,t=null},a.playVideo=function(){u||(m.playProjectVideo(a.getElement().id),a.isVideoPlaying=!0,t&&t.length>0&&t[0].play())},a.pauseVideo=function(){a.isVideoPlaying=!1,t&&t.length>0&&t[0].pause()},a.setShowIcons=function(b){a.showIcons=b}}]),angular.module("lego.content.viewer.basic").controller("BlockProjectBoxController",["$rootScope","$scope","ImageService","ProjectService","$location","$route","PageStateService",function(a,b,c,d,e,f,g){function h(){b.project=b.content.id,d.get(b.project.id).then(function(a){b.title=a.title}),c.getImage(b.project.id,b.project.thumbnailImageId).then(function(c){b.background=a.PROJECT_PATH_PREFIX+c})}b.$watch(function(){return b.content.id},function(){h()}),b.gotoProject=function(){g.clearSectionState(f.current.params.overview),e.path("/library/"+b.project.id)}}]),angular.module("lego.content.viewer.basic").controller("BlockProjectNameController",["$scope","TextService","ProjectService",function(a,b,c){function d(){var b=a.content.id;c.get(b.id).then(function(b){a.title=b.title})}a.$watch(function(){return a.content.id},function(){d()})}]),angular.module("lego.content.viewer.basic").controller("BlockSlideshowController",["$rootScope","$scope","ResourceService","$timeout","$animate","PathService","PageStateService","$element","DirectionService","AnalyticService","LanguageService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){g.updateSectionState(g.getCurrentSection(),b.content.id+"_completed_"+a,!0)}function m(a){return g.getSectionState(g.getCurrentSection())[b.content.id+"_completed_"+a]}function n(a){if(0!==b.slides.length)for(var c=(a+1)/b.slides.length*100,d=[0,25,50,100],e=0;e<=d.length;e++){var f=d[e];c>=f&&!m(f)&&(l(f),j.openBuildingInstructions(f))}}function o(){var a=g.getCurrentSectionState();b.slides=[],t=a[b.content.id+"_slide"]?a[b.content.id+"_slide"]:0,u=1,b.sliding=!1,b.blocks={1:"",2:""},(b.content.shared?c.getSharedSlideshow(b.content.id):c.getSlideshow(b.content.id)).then(function(a){b.slides=a,n(t),d(function(){b.rangeSlideValue=t},0)}).then(function(){b.blocks[u]=f.getCurrentPath()+b.slides[t]})}function p(a,c){b.$broadcast("zoom.$destroy"),b.sliding=!0;var d=u%2+1,e=$(b.slideElements[u-1]),g=$(b.slideElements[d-1]),h="next"==a?"left":"right";b.blocks[d]=f.getCurrentPath()+b.slides[c],void 0==window.getComputedStyle(e[0]).getPropertyValue("transform")?(g.addClass("active"),e.removeClass("active"),b.sliding=!1):(e.one("transitionend",function(c){g.removeClass(a).removeClass(h).addClass("active"),e.removeClass("active").removeClass(h),u=u%2+1,b.sliding=!1}),g.addClass(a),g[0].offsetWidth,e.addClass(h),g.addClass(h))}function q(){g.updateSectionState(g.getCurrentSection(),b.content.id+"_slide",0),o()}var r=h.find(".middle"),s=function(a){a.stopPropagation()};r.on("touchmove",s),r.on("touchstart",s),r.on("touchend",s),b.isZoomed=!1,b.slideElements=[],angular.forEach(h.find(".slides").children(),function(a){b.slideElements.push(a)}),b.$on("wedo-slider.restart-if-last-slide",function(){b.hasNext()||q()}),b.$watch(function(){return b.content.id},function(){o()}),b.getLabel=function(a){return k.get(a)},b.sliding=!1;var t,u=0;b.hasPrev=function(){return 0!==t},b.hasNext=function(){return t+1!==b.slides.length},b.prev=function(){b.hasPrev()&&b.gotoSlide(t-1)},b.next=function(){b.hasNext()&&b.gotoSlide(t+1)},b.finishSlideshow=function(){q(),a.$broadcast("wedo-slider.close",{moveToNextPage:!0})},b.gotoSlide=function(a){if(a=parseInt(a,10),n(a),b.sliding)return void(b.rangeSlideValue=t);b.isZoomed=!1,p(a>t?"next":"prev",a),g.updateSectionState(g.getCurrentSection(),b.content.id+"_slide",a),t=a,b.rangeSlideValue=t},b.DIRECTION=i.getDirection(),b.toggleZoom=function(){b.isZoomed=!b.isZoomed}}]),angular.module("lego.content.viewer.basic").controller("BlockTextController",["$scope","ResourceService","$sce","PageStatusService",function(a,b,c,d){a.getElement().html?(a.contentHTML=c.trustAsHtml(a.getElement().html),d.elementLoaded()):b.getText(a.getElement().id).then(function(b){a.contentHTML=c.trustAsHtml(b),d.elementLoaded()})}]),angular.module("lego.content.viewer.basic").controller("VerticalSlideshowController",["$scope","ResourceService","$timeout","$animate","PathService","PageStateService","$element","DirectionService","AnalyticService",function(a,b,c,d,e,f,g,h,i){function j(a){i.openBuildingInstructions(a+1)}function k(){var c=f.getCurrentSectionState();a.slides=[],a.slideshowState.currentIndex=c[a.content.id+"_slide"]?c[a.content.id+"_slide"]:0,(a.content.shared?b.getSharedSlideshow(a.content.id):b.getSlideshow(a.content.id)).then(function(b){angular.forEach(b,function(b){a.slides.push(e.getCurrentPath()+b)}),a.updateSlides(),a.slidesLoaded=!0})}a.slidesLoaded=!1,a.slideshowState={currentIndex:0,previousSlide:"",activeSlide:"",nextSlide:""},a.$watch(function(){return a.content.id},function(){k()}),a.requestPrevious=function(){a.slideshowState.currentIndex>0&&a.slideshowState.currentIndex--,a.updateSlides()},a.requestNext=function(){a.slideshowState.currentIndex<a.slides.length-1&&a.slideshowState.currentIndex++,a.updateSlides()},a.updateSlides=function(){a.$broadcast("zoom.$destroy"),j(a.slideshowState.currentIndex),a.slideshowState.activeSlide=a.slides[a.slideshowState.currentIndex],a.slideshowState.previousSlide=a.slideshowState.currentIndex>0?a.slides[a.slideshowState.currentIndex-1]:"",a.slideshowState.nextSlide=a.slideshowState.currentIndex<a.slides.length-1?a.slides[a.slideshowState.currentIndex+1]:"",f.updateSectionState(f.getCurrentSection(),a.content.id+"_slide",a.slideshowState.currentIndex)}}]),angular.module("lego.content.viewer.basic").directive("backToLobbyBtn",["UnityMessageService","LanguageService",function(a,b){return{restrict:"A",link:function(c,d,e){var f=function(){a.navigateToLobby()};d.bind("click",f),c.$on("destroy",function(){d.removeEventListener("click",f)}),d[0].innerText=b.get("celebration.button.backtolobby")}}}]),angular.module("lego.content.viewer.basic").directive("viewerBlockContent",["VIEWER.BASIC.VIEW",function(a){return{restrict:"E",replace:!0,templateUrl:a.BLOCK_CONTENT,scope:{content:"=element"},link:function(a,b,c){a.getElement=function(){return a.content}}}}]),angular.module("lego.content.viewer.basic").directive("blockText",["VIEWER.BASIC.VIEW",function(a){return{controller:"BlockTextController",restrict:"A",templateUrl:a.TEXT}}]).directive("blockMovie",["VIEWER.BASIC.VIEW",function(a){return{controller:"BlockMovieController",restrict:"A",templateUrl:a.MOVIE,link:function(a,b,c){c.blockMovieAutoplay&&(a.autoplay=!0)}}}]).directive("blockImage",["VIEWER.BASIC.VIEW",function(a){return{controller:"BlockImageController",restrict:"A",templateUrl:a.IMAGE}}]).directive("blockSlideshow",["VIEWER.BASIC.VIEW","Config",function(a,b){return{controller:b.get("useVerticalSlideshow")?"VerticalSlideshowController":"BlockSlideshowController",restrict:"A",templateUrl:b.get("useVerticalSlideshow")?a.VERTICAL_SLIDESHOW:a.SLIDESHOW}}]).directive("blockProjectName",["VIEWER.BASIC.VIEW",function(a){return{controller:"BlockProjectNameController",restrict:"A",templateUrl:a.PROJECT_NAME}}]).directive("blockProjectBox",["VIEWER.BASIC.VIEW",function(a){return{controller:"BlockProjectBoxController",restrict:"A",templateUrl:a.PROJECT_BOX}}]),angular.module("lego.content.viewer.basic").directive("contentOrDropdown",["$compile","$location",function(a,b){return{restrict:"E",replace:!0,scope:!0,link:function(b,c,d){b.fetchProjectName=function(a){return a?a.name:""};var e='<div style="text-align:center;width:100%;">{{ fetchProjectName(currentPage.elements[\''+d.contentkey+"'].id) | translate:project }}</div>",f='<div style="padding-left:5px;padding:5px;width:inherit;">',g="</div>",h=f+e+g;c.replaceWith(a(h)(b))}}}]),angular.module("lego.content.viewer.basic").directive("legoBtn",[function(){return{restrict:"A",link:function(a,b,c){b[0].className+=" lego-btn"}}}]),angular.module("lego.content.viewer.basic").directive("lessonoverviewBtn",["$location","LanguageService",function(a,b){return{restrict:"A",link:function(c,d,e){var f=function(){c.$apply(function(){a.url("/library")})};d.bind("click",f),c.$on("destroy",function(){d.removeEventListener("click",f)}),d[0].innerText=b.get("celebration.button.lessonoverview")}}}]),angular.module("lego.content.viewer.basic").directive("slideshowVerticalPan",["$animate","$compile","$templateRequest",function(a,b,c){return{restrict:"A",link:function(d,e){function f(a,b){return y||angular.isUndefined(b)||!$("body").hasClass("page-panning")&&0===$(b.target).closest(".zoom-holder").length}function g(){z||($("body").addClass("vertical-navigation"),y=!0,A=0,n())}function h(a){if(y&&!z){A=a.deltaY;(0===A||A<0&&angular.isDefined(u[0])||A>0&&angular.isDefined(s[0]))&&(angular.isDefined(s[0])&&m(s,A+"px"),angular.isDefined(t[0])&&m(t,A+"px"),angular.isDefined(u[0])&&m(u,A+"px"))}}function i(){y&&(y=!1,F.state=1,j(),$("body").removeClass("vertical-navigation"))}function j(){Math.abs(A)>x.clientHeight*v?A<0&&angular.isDefined(u[0])?d.$apply(function(){k()}):A>0&&angular.isDefined(s[0])?d.$apply(function(){l()}):o():o(),A=0}function k(){z=!0,a.addClass(t,"move from-bottom"),a.addClass(u,"move from-bottom").then(function(){p(),t.attr("class","vertical-slide previous"),u.attr("class","vertical-slide active"),s.remove(),d.requestNext(),r("next",d.slideshowState.nextSlide),n(),z=!1})}function l(){z=!0,a.addClass(t,"move from-top"),a.addClass(s,"move from-top").then(function(){p(),t.attr("class","vertical-slide next"),s.attr("class","vertical-slide active"),u.remove(),d.requestPrevious(),r("previous",d.slideshowState.previousSlide),n(),z=!1})}function m(a,b){angular.isDefined(a[0])&&(a.addClass("moving"),a[0].style["-webkit-transform"]="translate3d(0,"+b+",0)",a[0].style["-moz-transform"]="translate3d(0,"+b+",0)",a[0].style["-o-transform"]="translate3d(0,"+b+",0)",a[0].style["-ms-transform"]="translate3d(0,"+b+",0)",a[0].style.transform="translate3d(0,"+b+",0)")}function n(){s=w.find(".vertical-slide.previous"),t=w.find(".vertical-slide.active"),u=w.find(".vertical-slide.next")}function o(){d.$apply(function(){angular.isDefined(s[0])&&a.addClass(s,"move move-to-start").then(function(){q(s)}),angular.isDefined(t[0])&&a.addClass(t,"move move-to-start").then(function(){q(t)}),angular.isDefined(u[0])&&a.addClass(u,"move move-to-start").then(function(){q(u)})})}function p(){angular.isDefined(s[0])&&q(s),angular.isDefined(t[0])&&q(t),angular.isDefined(u[0])&&q(u)}function q(a){angular.isDefined(a[0])&&(a.removeClass("moving"),a.removeClass("move"),a.removeClass("move-to-start"),a[0].style["-webkit-transform"]="",a[0].style["-moz-transform"]="",a[0].style["-o-transform"]="",a[0].style["-ms-transform"]="",a[0].style.transform="")}function r(a,e){e&&c("viewer-basic/views/parts/vertical-slide.tpl.html").then(function(c){var f=d.$new();f.slide=e,f.slideState=a;var g=b(angular.element(c))(f);w.append(g)},function(a){console.log("Error fetching template",a)})}var s,t,u,v=.2,w=e.find(".vertical-bi"),x=w[0],y=!1,z=!1,A=0,B=e.find(".navigation .prev");B&&B.on("click",function(){n(),d.$apply(function(){l()})});var C=e.find(".navigation .next");C&&C.on("click",function(){n(),d.$apply(function(){k()})});var D={dragLockToAxis:!0,dragBlockHorizontal:!0,domEvents:!0},E=new Hammer.Manager(x,D),F=new Hammer.Pan({direction:Hammer.DIRECTION_VERTICAL,enable:f});E.add(F),E.on("panstart",g),E.on("panmove",h),E.on("panend",i),d.$watch(function(){return d.slidesLoaded},function(){d.slidesLoaded&&!t&&(r("previous",d.slideshowState.previousSlide),r("active",d.slideshowState.activeSlide),r("next",d.slideshowState.nextSlide))}),d.$on("$destroy",function(){E.destroy()})}}}]),angular.module("lego.content.viewer.basic").directive("slideshowZoomPan",["PathService","debounce","$window",function(a,b,c){return{restrict:"A",scope:{zoomed:"="},link:function(a,b,c){function d(){null!==o&&(o.addClass("init-zoom"),l={translate:{x:0,y:0},scale:1},$(q).on("transitionend",function(){e()}),j())}function e(){n.removeClass("has-zoom"),null!==s&&s.destroy(),b.off("touchstart mousedown pointerdown",h),o&&o.remove(),o=null,p=null,q=null}function f(){o=angular.element('<div class="zoom-holder"></div>'),p=o[0],n.addClass("has-zoom"),n.append(o),q=new Image,q.onload=function(){o.addClass("init-zoom"),g()},q.src=c.slideshowZoomPan,o.append(q),b.on("touchstart mousedown pointerdown",h)}function g(){s=new Hammer.Manager(n[0]),s.add(new Hammer.Pan),s.on("panstart",k),s.on("panmove",k),l={translate:{x:0,y:0},scale:r},j()}function h(a){a.stopPropagation()}function i(){var a,b={x:p.clientWidth,y:p.clientHeight},c=q.width*l.scale,d=q.height*l.scale;c>b.x?(a=(c-b.x)/2,l.translate.x<-a&&(l.translate.x=-a),l.translate.x>a&&(l.translate.x=a)):l.translate.x=0,d>b.y?(a=(d-b.y)/2,l.translate.y<-a&&(l.translate.y=-a),l.translate.y>a&&(l.translate.y=a)):l.translate.y=0}function j(){i(),q.style["-webkit-transform"]="translate3d("+l.translate.x+"px,"+l.translate.y+"px,0) scale("+l.scale+")",q.style["-moz-transform"]="translate3d("+l.translate.x+"px,"+l.translate.y+"px,0) scale("+l.scale+")",q.style["-o-transform"]="translate3d("+l.translate.x+"px,"+l.translate.y+"px,0) scale("+l.scale+")",q.style["-ms-transform"]="translate3d("+l.translate.x+"px,"+l.translate.y+"px,0) scale("+l.scale+")",q.style.transform="translate3d("+l.translate.x+"px,"+l.translate.y+"px,0) scale("+l.scale+")"}function k(a){"panstart"===a.type?(m=l.translate,o.removeClass("init-zoom")):(l.translate={x:m.x+a.deltaX,y:m.y+a.deltaY},j())}a.$on("$destroy",function(){e()}),a.$on("zoom.$destroy",function(){e()}),a.$watch(function(){return a.zoomed},function(a){a&&null===p?f():d()});var l,m,n=angular.element(b),o=null,p=null,q=null,r=3,s=null}}}]),angular.module("lego.content.viewer.basic").directive("togglePlayPauseIcons",[function(){return{restrict:"A",link:function(a,b,c){var d=angular.element(b)[0];d.onmouseenter=function(){a.$apply(function(){a.setShowIcons(!0)})},d.onmouseleave=function(){a.$apply(function(){a.setShowIcons(!1)})}}}}]),angular.module("lego.content.viewer").constant("VIEWER.VIEW",function(){var a="viewer/views/";return{BASE:a,PROJECT_VIEW:a+"project-view"+("win10desktop"==settings.platform?".wind.tpl.html":".tpl.html"),BLOCK_CONTENT:a+"block-content.tpl.html",TEXT:a+"parts/text.tpl.html",MOVIE:a+"parts/movie.tpl.html",IMAGE:a+"parts/image.tpl.html",SLIDESHOW:a+"parts/slideshow.tpl.html"}}()),angular.module("lego.content.viewer").controller("TeachingAssistantPopupController",["$log","$scope","$window","$timeout","$uibModalInstance","Page","LanguageService","TeachingAssistantService","CloseCallback","PlatformService",function(a,b,c,d,e,f,g,h,i,j){b.taStyle=h.containerStyling(),b.url=h.createUrl(f.teachingassistant),a.debug("[TAController] Constructing url: "+b.url),b.ok=function(){e.close()},b.cancel=function(){e.dismiss("cancel")},b.getLabel=function(a){return g.get(a)},b.$on("modal.closing",function(){i()})}]),angular.module("lego.content.viewer").controller("ProjectViewController",["$log","$rootScope","$scope","$location","$timeout","Project","ResourceService","UnityMessageService","DirectionService","Overview","TemplateService","VIEWER.VIEW","PageStateService","$uibModal","TeachingAssistantService","LanguageService","PlatformService","AnalyticService","ConnectionCenterService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a){for(var b=a.classList,c=0;c<b.length;c++)if("no-swipe"===b[c])return!0;return!1}function u(a,b){a<b?i.getDirection()===i.RTL?c.setSlideAnimation("from-right"):c.setSlideAnimation("from-left"):i.getDirection()===i.RTL?c.setSlideAnimation("from-left"):c.setSlideAnimation("from-right")}function v(a,b,e){if(void 0!==a.template_id&&(b||!angular.equals(a,c.currentPage))){var g=E().indexOf(a);g<0&&(g=e);var i="library"===j?"Project":"models"===j?"Model":"Program";r.projectChangePage(i+":"+f.name,g+1),u(g,H),c.currentPage=a,c.hasText=!1,angular.forEach(a.elements,function(a){"TEXT"===a.type&&(c.hasText=!0)}),H=g,c.setTemplateUrl(),y(c.currentPage.template_id),z(),g>-1?m.updateSectionState(j,"page",g):(m.updateSectionState(j,"page",e),m.updateSectionState(j,"branchIndex",B));var k="library"===j?"CL":"CM";h.updateCurrentUrl(encodeURIComponent(k+":"+d.absUrl())),x()?(console.log("Building instructions"),h.showBlockDragHint(c.project.startBrick)):(console.log("Hiding block"),h.hideBlockDragHint())}}function w(a){var b=E(),c=b[a],d=k.getTemplate(c.template_id);return!("C.tpl.html"!==d.url||!d.isQuarterPage)}function x(){return!!(H>0&&c.isHalfPage)&&w(H-1)}function y(a,b){var d=k.getTemplate(c.currentPage.template_id);C=k.getTemplateSize(d),c.isHalfPage=C===k.HALF_MODE,c.isNotFullPage=C===k.HALF_MODE||C===k.QUARTER_MODE,h.pageSize(C)}function z(){if(c.currentPage.backgroundImage){var a=c.currentPage.backgroundImage;c.currentPage.backgroundImage.id&&(a=c.currentPage.backgroundImage.id),g.getImage(a).then(function(a){c.templateBackgroundImage=a})}else c.templateBackgroundImage=""}function A(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null}c.getTranslation=function(a){return p.get(a)},c.isHubConnected=s.getState,c.openConnectionCenter=s.openConnectionCenter,c.platform=q.getPlatform(),c.project=f,c.currentPage={},c.typeClass=function(){return"project-type-"+f.type.replace(/\./g,"-")},g.setCurrentProjectId(c.project.id),c.slideDirection="from-right",c.setSlideAnimation=function(a){c.slideDirection=a};var B=1;c.isShowingTeacherAssistant=!1;var C;c.teacherAssistantIconUrl=function(){return c.isShowingTeacherAssistant?"images/ta-icon-active.png":"images/ta-icon-inactive.png"},c.shouldShowTeachingAssistant=function(){return o.isSupportedLanguage()&&c.currentPage.teachingassistant},c.showTeachingAssistant=function(){c.isShowingTeacherAssistant=!0,c.isNotFullPage&&(a.debug("[ProjectViewController] Tell unity to go to full"),h.pageSize(k.FULL_MODE));var b=["library","teachingassistant"];i.getDirection()===i.RTL&&b.push("rtl");n.open({animation:!1,templateUrl:"teachingAssistantPopup",controller:"TeachingAssistantPopupController",backdropClass:["library popup-white-background"],windowClass:b.join(" "),resolve:{Page:function(){return c.currentPage},CloseCallback:function(){return function(){c.isShowingTeacherAssistant=!1,c.isNotFullPage&&(a.debug("[ProjectViewController] Tell unity to switch to previous size: ("+C+")"),h.pageSize(C))}}}});r.openTeacherAssistant()},c.$on("$viewContentLoaded",function(){c.initialize(),h.viewLoadingComplete("Unknown")}),c.initialize=function(){var a=m.getSectionState(j),b=E();a&&a.page<b.length?(a.branchIndex&&(B=a.branchIndex),b[a.page].branches?v(b[a.page].branches[B],!0,a.page):v(b[a.page],!0)):b.length>0&&(r.openProject(f.name),c.selectFirstPage())},c.selectFirstPage=function(){v(E()[0],!0)},c.isCurrentPage=function(a){if(angular.equals(a,c.currentPage))return!0;if(void 0!==a.branches){if(a.branches[1]===c.currentPage)return!0;if(a.branches[2]===c.currentPage)return!0}return!1},c.isLastPage=function(a){var b=E();return angular.equals(b[b.length-1],a)};var D,E=function(){return D||(D=[].concat.apply([],c.project.sections.map(function(a){return a.pages.map(function(a){return a})})))};c.hideLeftArrow=function(){return i.getDirection()===i.RTL&&(c.isLastPage(c.currentPage)||c.isPageBranchStarter(c.currentPage))},c.hideRightArrow=function(){return i.getDirection()===i.LTR&&(c.isLastPage(c.currentPage)||c.isPageBranchStarter(c.currentPage))},c.canSwipeLeft=function(){return i.getDirection()===i.LTR&&c.isLastPage(c.currentPage)},c.canSwipeRight=function(){return i.getDirection()===i.RTL&&c.isLastPage(c.currentPage)},c.goPageLeft=function(){i.getDirection()===i.LTR?c.previousPage():c.nextPage()},c.goPageRight=function(){i.getDirection()===i.LTR?c.nextPage():c.previousPage()},c.closeSlideshow=function(){c.$broadcast("wedo-slider.close")},c.nextPage=function(a){console.log("Next page");var b=c.currentPage,d=E(),e=d.indexOf(b),f=0;if(-1===e&&void 0===a){var g=d.filter(function(a){return void 0!==a.branches}).filter(function(a){return angular.equals(a.branches[1],b)||angular.equals(a.branches[2],b)});g.length>0&&(e=d.indexOf(g[0]),a=angular.equals(g[0].branches[1],b)?1:2)}e>-1&&(f=e+1,f=Math.min(f,d.length-1)),0!==d.length?void 0!==d[f].branches?void 0===a?void 0!==d[f].branches[1].GUID&&(B=1,v(d[f].branches[1],!1,f)):void 0!==d[f].branches[a].GUID?(B=a,v(d[f].branches[a],!1,f)):(c.currentPage=d[f],B=a,m.updateSectionState(j,"branchIndex",B),c.nextPage(a)):v(d[f]):(delete c.currentPage,c.currentPage={})},c.swipePreviousPage=function(a){t(a)||c.previousPage()},c.swipeNextPage=function(a){t(a)||c.nextPage()},c.$on("$destroy",function(){F(),G()});var F=b.$on("wedo-slider.nextPage",function(){c.nextPage()}),G=b.$on("wedo-slider.prevPage",function(){c.previousPage()});c.previousPage=function(a){console.log("Previous page");var b=c.currentPage,e=E(),f=e.indexOf(b);if(0===f)return d.path("/"+j);if(-1===f){var g=e.filter(function(a){return void 0!==a.branches}).filter(function(a){return angular.equals(a.branches[1],b)||angular.equals(a.branches[2],b)});g.length>0&&(f=e.indexOf(g[0]),a=angular.equals(g[0].branches[1],b)?1:2)}var h=0;f>-1&&(h=(f-1)%e.length,h=Math.max(0,h)),0!==e.length?void 0!==a?void 0!==e[h].branches?v(e[h].branches[a],!1,h):v(e[h]):void 0!==e[h].branches?void 0!==e[h].branches[B].GUID?v(e[h].branches[B],!1,h):(c.currentPage=e[h],c.previousPage(B)):v(e[h]):(delete c.currentPage,c.currentPage={})},c.isPageBranchStarter=function(a){return void 0!==a.template_id&&!0===k.getTemplate(a.template_id).branchStart},c.templateUrl="",c.setTemplateUrl=function(){0===c.currentPage.template_id&&"SLIDESHOW"===c.currentPage.elements[1].type?c.templateUrl=l.BASE+"templates/"+i.getDirection()+"/slideshow-start.tpl.html":c.templateUrl=l.BASE+k.getTemplateUrl(c.currentPage.template_id)+"?r="+Math.random()},c.gotoPage=function(a){void 0!==a.branches?(B=1,v(a.branches[1],!1,E().indexOf(a))):v(a)};var H;c.getTemplateBackgroundImageStyle=function(a){return c.templateBackgroundImage&&""!==c.templateBackgroundImage?{"background-image":"url('"+a+c.templateBackgroundImage+"')"}:{}},c.getTemplateBackgroundColor=function(){
if(void 0===c.currentPage.backgroundColor||6!==c.currentPage.backgroundColor.length)return"";var a="#"+(c.currentPage.backgroundColor||"ffffff"),b=A(a),d=c.currentPage.backgroundOpacity/100||100;return"rgba("+b.r+","+b.g+","+b.b+", "+d+")"},c.isShowingSlideshow=!1,c.toggleSlideshow=function(){c.isShowingSlideshow=!c.isShowingSlideshow},c.getLabel=function(a){return p.get(a)},c.$on("wedo-slider.close",function(a,d){c.isShowingSlideshow=!1,b.$broadcast("wedo-slider.restart-if-last-slide"),d&&d.moveToNextPage&&c.nextPage()})}]),angular.module("lego.content.viewer").directive("taHeightMaintainer",[function(){return{restrict:"A",link:function(a,b,c){a.$watch(function(){return a.isShowingTeacherAssistant},function(c){a.isShowingTeacherAssistant?b.css("height",b.height()+"px"):b.css("height","inherit")})}}}]);
//# sourceMappingURL=build.min.js.map